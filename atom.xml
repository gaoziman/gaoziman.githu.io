<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>爱笑的Gao的个人博客</title>
  
  <subtitle>生活明朗 万物可爱</subtitle>
  <link href="https://manamn.space/atom.xml" rel="self"/>
  
  <link href="https://manamn.space/"/>
  <updated>2022-10-26T03:16:07.394Z</updated>
  <id>https://manamn.space/</id>
  
  <author>
    <name>Gao</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Vue UI组件库 - Mint UI - 简单使用 - Elment UI</title>
    <link href="https://manamn.space/2022/10/26/Vue/%E9%AB%98%E7%BA%A7/Vue%20UI%E7%BB%84%E4%BB%B6%E5%BA%93%20-%20Mint%20UI%20-%20%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%20-%20Elment%20UI/"/>
    <id>https://manamn.space/2022/10/26/Vue/%E9%AB%98%E7%BA%A7/Vue%20UI%E7%BB%84%E4%BB%B6%E5%BA%93%20-%20Mint%20UI%20-%20%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%20-%20Elment%20UI/</id>
    <published>2022-10-26T02:30:52.000Z</published>
    <updated>2022-10-26T03:16:07.394Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-Mint-UI"><a href="#1-Mint-UI" class="headerlink" title="1) Mint UI:"></a>1) Mint UI:</h2><p> <a href="http://mint-ui.github.io/#!/zh-cn">a. 主页: http://mint-ui.github.io/#!/zh-cn</a> b. 说明: 饿了么开源的基于vue 的<strong>移动端</strong>UI 组件库</p><h2 id="2-Elment-UI"><a href="#2-Elment-UI" class="headerlink" title="2) Elment UI"></a>2) Elment UI</h2><p> <a href="http://element-cn.eleme.io/#/zh-CN">a. 主页: http://element-cn.eleme.io/#/zh-CN</a> b. 说明: 饿了么开源的基于vue 的<strong>PC 端</strong>UI 组件库</p><h2 id="2-1-下载"><a href="#2-1-下载" class="headerlink" title="2.1. 下载:"></a>2.1. 下载:</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save mint-ui</span><br></pre></td></tr></table></figure><h2 id="2-2-实现按需打包"><a href="#2-2-实现按需打包" class="headerlink" title="2.2. 实现按需打包"></a>2.2. 实现按需打包</h2><ol><li>下载</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev babel-plugin-component</span><br></pre></td></tr></table></figure><ol><li>修改babel 配置</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;plugins&quot;</span>: [<span class="string">&quot;transform-runtime&quot;</span>,[<span class="string">&quot;component&quot;</span>, [</span><br><span class="line">&#123;</span><br><span class="line">   </span><br><span class="line"><span class="string">&quot;libraryName&quot;</span>: <span class="string">&quot;mint-ui&quot;</span>,</span><br><span class="line"><span class="string">&quot;style&quot;</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">]]]</span><br></pre></td></tr></table></figure><h2 id="2-3-mint-ui-组件分类"><a href="#2-3-mint-ui-组件分类" class="headerlink" title="2.3. mint-ui 组件分类"></a>2.3. mint-ui 组件分类</h2><ol><li>标签组件 </li><li>非标签组件</li></ol><h2 id="2-4-使用mint-ui-的组件"><a href="#2-4-使用mint-ui-的组件" class="headerlink" title="2.4. 使用mint-ui 的组件"></a>2.4. 使用mint-ui 的组件</h2><h3 id="1-index-html"><a href="#1-index-html" class="headerlink" title="1)index.html"></a>1)index.html</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width, initial-scale=1, maximum-scale=1,minimum-scale=1, user-scalable=no&quot;</span> /&gt;</span><br><span class="line">&lt;script src=<span class="string">&quot;https://as.alipayobjects.com/g/component/fastclick/1.0.6/fastclick.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">&#x27;addEventListener&#x27;</span> in document) &#123;</span><br><span class="line">    </span><br><span class="line">document.addEventListener(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, function() &#123;</span><br><span class="line">    </span><br><span class="line">FastClick.attach(document.body);</span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(!window.Promise) &#123;</span><br><span class="line">    </span><br><span class="line">document.writeln(<span class="string">&#x27;&lt;script</span></span><br><span class="line"><span class="string">src=&quot;https://as.alipayobjects.com/g/component/es6-promise/3.2.2/es6-promise.min.js&quot;&#x27;</span>+<span class="string">&#x27;&gt;&#x27;</span>+<span class="string">&#x27;&lt;&#x27;</span>+<span class="string">&#x27;/&#x27;</span>+<span class="string">&#x27;script&gt;&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="2-main-js"><a href="#2-main-js" class="headerlink" title="2) main.js"></a>2) main.js</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">   Button&#125; from <span class="string">&#x27;mint-ui&#x27;</span></span><br><span class="line">Vue.component(Button.name, Button)</span><br></pre></td></tr></table></figure><h3 id="3-App-vue"><a href="#3-App-vue" class="headerlink" title="3) App.vue"></a>3) App.vue</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;mt-button <span class="meta">@click</span>=<span class="string">&quot;handleClick&quot;</span> type=<span class="string">&quot;primary&quot;</span> style=<span class="string">&quot;width: 100%&quot;</span>&gt;Test&lt;/mt-button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    Toast&#125; from <span class="string">&#x27;mint-ui&#x27;</span></span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">    </span><br><span class="line">methods: &#123;</span><br><span class="line">    </span><br><span class="line">handleClick () &#123;</span><br><span class="line">    </span><br><span class="line">Toast(<span class="string">&#x27;点击了测试&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="3-1-安装依赖包"><a href="#3-1-安装依赖包" class="headerlink" title="3.1 安装依赖包"></a>3.1 安装依赖包</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i element-ui -S</span><br></pre></td></tr></table></figure><h2 id="3-2-导入-Elment-UI-相关资源"><a href="#3-2-导入-Elment-UI-相关资源" class="headerlink" title="3.2 导入 Elment-UI 相关资源"></a>3.2 导入 Elment-UI 相关资源</h2><ol><li>导入组件库</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ElmentUI from <span class="string">&#x27;element-ui&#x27;</span>;</span><br></pre></td></tr></table></figure><ol><li>导入组件相关样式</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span>;</span><br></pre></td></tr></table></figure><ol><li>配置Vue插件</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.use(ElementUI);</span><br></pre></td></tr></table></figure><h2 id="3-3-图形化界面使用ElementUI"><a href="#3-3-图形化界面使用ElementUI" class="headerlink" title="3.3 图形化界面使用ElementUI"></a>3.3 图形化界面使用ElementUI</h2><p>插件-添加插件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue-cli-plguin-element</span><br></pre></td></tr></table></figure><p>配置插件，按需导入</p><p> <a href="http://element-cn.eleme.io/#/zh-CN">http://element-cn.eleme.io/#/zh-CN</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-Mint-UI&quot;&gt;&lt;a href=&quot;#1-Mint-UI&quot; class=&quot;headerlink&quot; title=&quot;1) Mint UI:&quot;&gt;&lt;/a&gt;1) Mint UI:&lt;/h2&gt;&lt;p&gt; &lt;a href=&quot;http://mint-ui.github.io/#!/</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue高级" scheme="https://manamn.space/tags/Vue%E9%AB%98%E7%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>Vue高级系列（十）vuex - 状态自管理应用</title>
    <link href="https://manamn.space/2022/10/26/Vue/%E9%AB%98%E7%BA%A7/Vue%E9%AB%98%E7%BA%A7%E7%B3%BB%E5%88%97%EF%BC%88%E5%8D%81%EF%BC%89vuex%20-%20%E7%8A%B6%E6%80%81%E8%87%AA%E7%AE%A1%E7%90%86%E5%BA%94%E7%94%A8/"/>
    <id>https://manamn.space/2022/10/26/Vue/%E9%AB%98%E7%BA%A7/Vue%E9%AB%98%E7%BA%A7%E7%B3%BB%E5%88%97%EF%BC%88%E5%8D%81%EF%BC%89vuex%20-%20%E7%8A%B6%E6%80%81%E8%87%AA%E7%AE%A1%E7%90%86%E5%BA%94%E7%94%A8/</id>
    <published>2022-10-26T02:30:03.000Z</published>
    <updated>2022-10-26T03:36:34.528Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-1-vuex-是什么"><a href="#1-1-vuex-是什么" class="headerlink" title="1.1. vuex 是什么"></a>1.1. vuex 是什么</h2><ol><li>github 站点: <a href="https://github.com/vuejs/vuex">https://github.com/vuejs/vuex</a> </li><li>在线文档: <a href="https://vuex.vuejs.org/zh-cn/">https://vuex.vuejs.org/zh-cn/</a> </li><li>简单来说: 对vue 应用中多个组件的共享状态进行集中式的管理(读/<strong>写</strong>)</li></ol><h2 id="1-2-状态自管理应用"><a href="#1-2-状态自管理应用" class="headerlink" title="1.2. 状态自管理应用"></a>1.2. 状态自管理应用</h2><ol><li>state: 驱动应用的数据源 </li><li>view: 以声明方式将state 映射到视图 </li><li>actions: 响应在view 上的用户输入导致的状态变化(包含n 个更新状态的方法) <img src="https://img-blog.csdnimg.cn/20210221181147577.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt="img"></li></ol><h2 id="1-3-多组件共享状态的问题"><a href="#1-3-多组件共享状态的问题" class="headerlink" title="1.3. 多组件共享状态的问题"></a>1.3. 多组件共享状态的问题</h2><ol><li>多个视图依赖于同一状态 </li><li>来自不同视图的行为需要变更同一状态 </li><li>以前的解决办法 a. 将数据以及操作数据的行为都定义在父组件 b. 将数据以及操作数据的行为传递给需要的各个子组件(有可能需要多级传递) </li><li>vuex 就是用来解决这个问题的</li></ol><h2 id="2-1-state"><a href="#2-1-state" class="headerlink" title="2.1. state"></a>2.1. state</h2><ol><li>vuex 管理的状态对象  </li><li>它应该是唯一的 </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="variable">state</span> <span class="operator">=</span> &#123;</span><br><span class="line">   </span><br><span class="line">xxx: initValue</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-2-mutations"><a href="#2-2-mutations" class="headerlink" title="2.2. mutations"></a>2.2. mutations</h2><ol><li>包含多个直接更新state 的方法(回调函数)的对象 </li><li>谁来触发: action 中的commit(‘mutation 名称’) </li><li>只能包含同步的代码, 不能写异步代码</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="variable">mutations</span> <span class="operator">=</span> &#123;</span><br><span class="line">   </span><br><span class="line">yyy (state, &#123;</span><br><span class="line">    data1&#125;) &#123;</span><br><span class="line">   </span><br><span class="line"><span class="comment">// 更新state 的某个属性</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-3-actions"><a href="#2-3-actions" class="headerlink" title="2.3. actions"></a>2.3. actions</h2><ol><li>包含多个事件回调函数的对象 </li><li>通过执行: commit()来触发mutation 的调用, 间接更新state </li><li>谁来触发: 组件中: $store.dispatch(‘action 名称’, data1) // ‘zzz’ </li><li>可以包含异步代码(定时器, ajax)</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="variable">actions</span> <span class="operator">=</span> &#123;</span><br><span class="line">   </span><br><span class="line">zzz (&#123;</span><br><span class="line">    commit, state&#125;, data1) &#123;</span><br><span class="line">   </span><br><span class="line">commit(<span class="string">&#x27;yyy&#x27;</span>, &#123;</span><br><span class="line">   data1&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-4-getters"><a href="#2-4-getters" class="headerlink" title="2.4. getters"></a>2.4. getters</h2><ol><li>包含多个计算属性(get)的对象 </li><li>谁来读取: 组件中: $store.getters.xxx</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="variable">getters</span> <span class="operator">=</span> &#123;</span><br><span class="line">   </span><br><span class="line">mmm (state) &#123;</span><br><span class="line">   </span><br><span class="line"><span class="keyword">return</span> ...</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-5-modules"><a href="#2-5-modules" class="headerlink" title="2.5. modules"></a>2.5. modules</h2><ol><li>包含多个module </li><li>一个module 是一个store 的配置对象 </li><li>与一个组件(包含有共享数据)对应</li></ol><h2 id="2-6-向外暴露store-对象"><a href="#2-6-向外暴露store-对象" class="headerlink" title="2.6. 向外暴露store 对象"></a>2.6. 向外暴露store 对象</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">export <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.Store(&#123;</span><br><span class="line">   </span><br><span class="line">state,</span><br><span class="line">mutations,</span><br><span class="line">actions,</span><br><span class="line">getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="2-7-组件中"><a href="#2-7-组件中" class="headerlink" title="2.7. 组件中"></a>2.7. 组件中</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">   mapState, mapGetters, mapActions&#125; from <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">   </span><br><span class="line">computed: &#123;</span><br><span class="line">   </span><br><span class="line">...mapState([<span class="string">&#x27;xxx&#x27;</span>]),</span><br><span class="line">...mapGetters([<span class="string">&#x27;mmm&#x27;</span>]),</span><br><span class="line">&#125;</span><br><span class="line">methods: mapActions([<span class="string">&#x27;zzz&#x27;</span>])</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">   &#123;</span><br><span class="line">   xxx&#125;&#125; &#123;</span><br><span class="line">   &#123;</span><br><span class="line">   mmm&#125;&#125; <span class="meta">@click</span>=<span class="string">&quot;zzz(data)&quot;</span></span><br></pre></td></tr></table></figure><h2 id="2-8-映射store"><a href="#2-8-映射store" class="headerlink" title="2.8. 映射store"></a>2.8. 映射store</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> store from <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">store</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="2-9-store-对象"><a href="#2-9-store-对象" class="headerlink" title="2.9. store 对象"></a>2.9. store 对象</h2><ol><li>所有用vuex 管理的组件中都多了一个属性$store, 它就是一个store 对象 </li><li>属性: state: 注册的state 对象 getters: 注册的getters 对象 <li>方法: dispatch(actionName, data): 分发调用action</li></li></ol><h2 id="3-1-store-js"><a href="#3-1-store-js" class="headerlink" title="3.1. store.js"></a>3.1. store.js</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* vuex 的store 对象模块</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">import</span> Vue from <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex from <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">state 对象</span></span><br><span class="line"><span class="comment">类似于data</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">const</span> <span class="variable">state</span> <span class="operator">=</span> &#123;</span><br><span class="line">   </span><br><span class="line">count: <span class="number">0</span> <span class="comment">// 初始化状态数据</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">mutations 对象</span></span><br><span class="line"><span class="comment">包含个方法: 能直接更新state</span></span><br><span class="line"><span class="comment">一个方法就是一个mutation</span></span><br><span class="line"><span class="comment">mutation 只能包含更新state 的同步代码, 也不会有逻辑</span></span><br><span class="line"><span class="comment">mutation 由action 触发调用: commit(&#x27;mutationName&#x27;)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">const</span> <span class="variable">mutations</span> <span class="operator">=</span> &#123;</span><br><span class="line">   </span><br><span class="line">INCREMENT(state) &#123;</span><br><span class="line">   </span><br><span class="line">state.count++</span><br><span class="line">&#125;,</span><br><span class="line">DECREMENT (state) &#123;</span><br><span class="line">    <span class="comment">// ctrl + shift + x</span></span><br><span class="line">state.count--</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">actions 对象</span></span><br><span class="line"><span class="comment">包含个方法: 触发mutation 调用, 间接更新state</span></span><br><span class="line"><span class="comment">一个方法就是一个action</span></span><br><span class="line"><span class="comment">action 中可以有逻辑代码和异步代码</span></span><br><span class="line"><span class="comment">action 由组件来触发调用: this.$store.dispatch(&#x27;actionName&#x27;)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">const</span> <span class="variable">actions</span> <span class="operator">=</span> &#123;</span><br><span class="line">   </span><br><span class="line">increment (&#123;</span><br><span class="line">    commit&#125;) &#123;</span><br><span class="line">   </span><br><span class="line">commit(<span class="string">&#x27;INCREMENT&#x27;</span>)</span><br><span class="line">&#125;,</span><br><span class="line">decrement (&#123;</span><br><span class="line">    commit&#125;) &#123;</span><br><span class="line">   </span><br><span class="line">commit(<span class="string">&#x27;DECREMENT&#x27;</span>)</span><br><span class="line">&#125;,</span><br><span class="line">incrementIfOdd (&#123;</span><br><span class="line">    commit, state&#125;) &#123;</span><br><span class="line">   </span><br><span class="line"><span class="keyword">if</span>(state.count%<span class="number">2</span>===<span class="number">1</span>) &#123;</span><br><span class="line">   </span><br><span class="line">commit(<span class="string">&#x27;INCREMENT&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">incrementAsync (&#123;</span><br><span class="line">    commit&#125;) &#123;</span><br><span class="line">   </span><br><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">   </span><br><span class="line">commit(<span class="string">&#x27;INCREMENT&#x27;</span>)</span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">getters 对象</span></span><br><span class="line"><span class="comment">包含多个get 计算计算属性方法</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">const</span> <span class="variable">getters</span> <span class="operator">=</span> &#123;</span><br><span class="line">   </span><br><span class="line">oddOrEven (state) &#123;</span><br><span class="line">   </span><br><span class="line"><span class="keyword">return</span> state.count%<span class="number">2</span>===<span class="number">0</span> ? <span class="string">&#x27;偶数&#x27;</span> : <span class="string">&#x27;奇数&#x27;</span></span><br><span class="line">&#125;,</span><br><span class="line">count (state) &#123;</span><br><span class="line">   </span><br><span class="line"><span class="keyword">return</span> state.count</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 向外暴露store 实例对象</span></span><br><span class="line">export <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.Store(&#123;</span><br><span class="line">   </span><br><span class="line">state,</span><br><span class="line">mutations,</span><br><span class="line">actions,</span><br><span class="line">getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="3-2-main-js"><a href="#3-2-main-js" class="headerlink" title="3.2. main.js"></a>3.2. main.js</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue from <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> app from <span class="string">&#x27;./app1.vue&#x27;</span></span><br><span class="line"><span class="comment">// import app from &#x27;./app.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store from <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">render: h =&gt; h(app),</span><br><span class="line">store <span class="comment">// 所有组件都多个一个属性: $store</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="3-3-app-vue-未优化前"><a href="#3-3-app-vue-未优化前" class="headerlink" title="3.3. app.vue(未优化前)"></a>3.3. app.vue(未优化前)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;p&gt;clicked: &#123;</span><br><span class="line">  &#123;$store.state.count&#125;&#125; times, count is &#123;</span><br><span class="line">  &#123;oddOrEven&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;button <span class="meta">@click</span>=<span class="string">&quot;increment&quot;</span>&gt;+&lt;/button&gt;</span><br><span class="line">&lt;button <span class="meta">@click</span>=<span class="string">&quot;decrement&quot;</span>&gt;-&lt;/button&gt;</span><br><span class="line">&lt;button <span class="meta">@click</span>=<span class="string">&quot;incrementIfOdd&quot;</span>&gt;increment <span class="keyword">if</span> odd&lt;/button&gt;</span><br><span class="line">&lt;button <span class="meta">@click</span>=<span class="string">&quot;incrementAsync&quot;</span>&gt;increment async&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">computed: &#123;</span><br><span class="line">     </span><br><span class="line">oddOrEven () &#123;</span><br><span class="line">     </span><br><span class="line"><span class="keyword">return</span> <span class="built_in">this</span>.$store.getters.oddOrEven</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">     </span><br><span class="line">increment () &#123;</span><br><span class="line">     </span><br><span class="line"><span class="built_in">this</span>.$store.dispatch(<span class="string">&#x27;increment&#x27;</span>)</span><br><span class="line">&#125;,</span><br><span class="line">decrement () &#123;</span><br><span class="line">     </span><br><span class="line"><span class="built_in">this</span>.$store.dispatch(<span class="string">&#x27;decrement&#x27;</span>)</span><br><span class="line">&#125;,</span><br><span class="line">incrementIfOdd () &#123;</span><br><span class="line">     </span><br><span class="line"><span class="built_in">this</span>.$store.dispatch(<span class="string">&#x27;incrementIfOdd&#x27;</span>)</span><br><span class="line">&#125;,</span><br><span class="line">incrementAsync () &#123;</span><br><span class="line">     </span><br><span class="line"><span class="built_in">this</span>.$store.dispatch(<span class="string">&#x27;incrementAsync&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="3-4-app2-vue-优化后"><a href="#3-4-app2-vue-优化后" class="headerlink" title="3.4. app2.vue(优化后)"></a>3.4. app2.vue(优化后)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;p&gt;clicked: &#123;</span><br><span class="line">  &#123;count&#125;&#125; times, count is &#123;</span><br><span class="line">  &#123;oddOrEven2&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;button <span class="meta">@click</span>=<span class="string">&quot;increment&quot;</span>&gt;+&lt;/button&gt;</span><br><span class="line">&lt;button <span class="meta">@click</span>=<span class="string">&quot;decrement&quot;</span>&gt;-&lt;/button&gt;</span><br><span class="line">&lt;button <span class="meta">@click</span>=<span class="string">&quot;incrementIfOdd&quot;</span>&gt;increment <span class="keyword">if</span> odd&lt;/button&gt;</span><br><span class="line">&lt;button <span class="meta">@click</span>=<span class="string">&quot;incrementAsync&quot;</span>&gt;increment async&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">     mapGetters, mapActions&#125; from <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">computed: mapGetters(&#123;</span><br><span class="line">      <span class="comment">// 名称不一样</span></span><br><span class="line">oddOrEven2: <span class="string">&#x27;oddOrEven&#x27;</span>,</span><br><span class="line">count: <span class="string">&#x27;count&#x27;</span></span><br><span class="line">&#125;),</span><br><span class="line">methods: mapActions([<span class="string">&#x27;increment&#x27;</span>, <span class="string">&#x27;decrement&#x27;</span>, <span class="string">&#x27;incrementIfOdd&#x27;</span>, <span class="string">&#x27;incrementAsync&#x27;</span>]) <span class="comment">// 名称一样</span></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>todo list.</p><h2 id="3-1-store-types-js"><a href="#3-1-store-types-js" class="headerlink" title="3.1. store/types.js"></a>3.1. store/types.js</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 包含多个mutation name</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">export <span class="type">const</span> <span class="variable">RECEIVE_TODOS</span> <span class="operator">=</span> <span class="string">&#x27;receive_todos&#x27;</span></span><br><span class="line">export <span class="type">const</span> <span class="variable">ADD_TODO</span> <span class="operator">=</span> <span class="string">&#x27;add_todo&#x27;</span></span><br><span class="line">export <span class="type">const</span> <span class="variable">REMOVE_TODO</span> <span class="operator">=</span> <span class="string">&#x27;remove_todo&#x27;</span></span><br><span class="line">export <span class="type">const</span> <span class="variable">DELETE_DONE</span> <span class="operator">=</span> <span class="string">&#x27;delete_done&#x27;</span></span><br><span class="line">export <span class="type">const</span> <span class="variable">UPDATE_ALL_TODOS</span> <span class="operator">=</span> <span class="string">&#x27;update_all_todos&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="3-2-store-mutations-js"><a href="#3-2-store-mutations-js" class="headerlink" title="3.2. store/mutations.js"></a>3.2. store/mutations.js</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">   RECEIVE_TODOS, ADD_TODO, REMOVE_TODO, DELETE_DONE, UPDATE_ALL_TODOS&#125; from</span><br><span class="line"><span class="string">&#x27;./types&#x27;</span></span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">   </span><br><span class="line">[RECEIVE_TODOS] (state, &#123;</span><br><span class="line">    todos&#125;) &#123;</span><br><span class="line">   </span><br><span class="line">state.todos = todos</span><br><span class="line">&#125;,</span><br><span class="line">[ADD_TODO] (state, &#123;</span><br><span class="line">    todo&#125;) &#123;</span><br><span class="line">   </span><br><span class="line">state.todos.unshift(todo)</span><br><span class="line">&#125;,</span><br><span class="line">[REMOVE_TODO] (state, &#123;</span><br><span class="line">    index&#125;) &#123;</span><br><span class="line">   </span><br><span class="line">state.todos.splice(index, <span class="number">1</span>)</span><br><span class="line">&#125;,</span><br><span class="line">[DELETE_DONE] (state) &#123;</span><br><span class="line">   </span><br><span class="line">state.todos = state.todos.filter(todo =&gt; !todo.complete)</span><br><span class="line">&#125;,</span><br><span class="line">[UPDATE_ALL_TODOS] (state, &#123;</span><br><span class="line">    isCheck&#125;) &#123;</span><br><span class="line">   </span><br><span class="line">state.todos.forEach(todo =&gt; todo.complete = isCheck)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-3-store-actions-js"><a href="#3-3-store-actions-js" class="headerlink" title="3.3. store/actions.js"></a>3.3. store/actions.js</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> storageUtil from <span class="string">&#x27;../util/storageUtil&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">   RECEIVE_TODOS, ADD_TODO, REMOVE_TODO, DELETE_DONE, UPDATE_ALL_TODOS&#125; from <span class="string">&#x27;./types&#x27;</span></span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">   </span><br><span class="line">readTodo (&#123;</span><br><span class="line">    commit&#125;) &#123;</span><br><span class="line">   </span><br><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">   </span><br><span class="line"><span class="type">const</span> <span class="variable">todos</span> <span class="operator">=</span> storageUtil.fetch()</span><br><span class="line"><span class="comment">// 提交commit 触发mutation 调用</span></span><br><span class="line">commit(RECEIVE_TODOS, &#123;</span><br><span class="line">   todos&#125;)</span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;,</span><br><span class="line">addTodo (&#123;</span><br><span class="line">    commit&#125;, todo) &#123;</span><br><span class="line">   </span><br><span class="line">commit(ADD_TODO, &#123;</span><br><span class="line">   todo&#125;)</span><br><span class="line">&#125;,</span><br><span class="line">removeTodo (&#123;</span><br><span class="line">    commit&#125;, index) &#123;</span><br><span class="line">   </span><br><span class="line">commit(REMOVE_TODO, &#123;</span><br><span class="line">   index&#125;)</span><br><span class="line">&#125;,</span><br><span class="line">deleteDone (&#123;</span><br><span class="line">    commit&#125;) &#123;</span><br><span class="line">   </span><br><span class="line">commit(DELETE_DONE)</span><br><span class="line">&#125;,</span><br><span class="line">updateAllTodos (&#123;</span><br><span class="line">    commit&#125;, isCheck) &#123;</span><br><span class="line">   </span><br><span class="line">commit(UPDATE_ALL_TODOS, &#123;</span><br><span class="line">   isCheck&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-4-store-getters-js"><a href="#3-4-store-getters-js" class="headerlink" title="3.4. store/getters.js"></a>3.4. store/getters.js</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">   </span><br><span class="line">todos (state) &#123;</span><br><span class="line">   </span><br><span class="line"><span class="keyword">return</span> state.todos</span><br><span class="line">&#125;,</span><br><span class="line">totalSize (state) &#123;</span><br><span class="line">   </span><br><span class="line"><span class="keyword">return</span> state.todos.length</span><br><span class="line">&#125;,</span><br><span class="line">completeSize (state) &#123;</span><br><span class="line">   </span><br><span class="line"><span class="keyword">return</span> state.todos.reduce((preTotal, todo) =&gt; &#123;</span><br><span class="line">   </span><br><span class="line"><span class="keyword">return</span> preTotal + (todo.complete ? <span class="number">1</span> : <span class="number">0</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line">&#125;,</span><br><span class="line">isAllComplete (state, getters) &#123;</span><br><span class="line">   </span><br><span class="line"><span class="keyword">return</span> getters.totalSize===getters.completeSize &amp;&amp; getters.totalSize&gt;<span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-5-store-index-js"><a href="#3-5-store-index-js" class="headerlink" title="3.5. store/index.js"></a>3.5. store/index.js</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue from <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex from <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">import</span> mutations from <span class="string">&#x27;./mutations&#x27;</span></span><br><span class="line"><span class="keyword">import</span> actions from <span class="string">&#x27;./actions&#x27;</span></span><br><span class="line"><span class="keyword">import</span> getters from <span class="string">&#x27;./getters&#x27;</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"><span class="type">const</span> <span class="variable">state</span> <span class="operator">=</span> &#123;</span><br><span class="line">   </span><br><span class="line">todos: []</span><br><span class="line">&#125;</span><br><span class="line">export <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.Store(&#123;</span><br><span class="line">   </span><br><span class="line">state,</span><br><span class="line">mutations,</span><br><span class="line">actions,</span><br><span class="line">getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="3-6-components-app-vue"><a href="#3-6-components-app-vue" class="headerlink" title="3.6. components/app.vue"></a>3.6. components/app.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=<span class="string">&quot;todo-container&quot;</span>&gt;</span><br><span class="line">&lt;div class=<span class="string">&quot;todo-wrap&quot;</span>&gt;</span><br><span class="line">&lt;todo-header&gt;&lt;/todo-header&gt;</span><br><span class="line">&lt;todo-main&gt;&lt;/todo-main&gt;</span><br><span class="line">&lt;todo-footer&gt;&lt;/todo-footer&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> todoHeader from <span class="string">&#x27;./todoHeader.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> todoMain from <span class="string">&#x27;./todoMain.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> todoFooter from <span class="string">&#x27;./todoFooter.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> storageUtil from <span class="string">&#x27;../util/storageUtil&#x27;</span></span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">created () &#123;</span><br><span class="line">     </span><br><span class="line"><span class="comment">// 模拟异步读取数据</span></span><br><span class="line"><span class="built_in">this</span>.$store.dispatch(<span class="string">&#x27;readTodo&#x27;</span>)</span><br><span class="line">&#125;,</span><br><span class="line">components: &#123;</span><br><span class="line">     </span><br><span class="line">todoHeader,</span><br><span class="line">todoMain,</span><br><span class="line">todoFooter</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.todo-container &#123;</span><br><span class="line">     </span><br><span class="line">width: 600px;</span><br><span class="line">margin: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line">.todo-container .todo-wrap &#123;</span><br><span class="line">     </span><br><span class="line">padding: 10px;</span><br><span class="line">border: 1px solid #ddd;</span><br><span class="line"></span><br><span class="line">border-radius: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="3-7-components-todoHeader-vue"><a href="#3-7-components-todoHeader-vue" class="headerlink" title="3.7. components/todoHeader.vue"></a>3.7. components/todoHeader.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=<span class="string">&quot;todo-header&quot;</span>&gt;</span><br><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> placeholder=<span class="string">&quot;请输入你的任务名称，按回车键确认&quot;</span></span><br><span class="line">v-model=<span class="string">&quot;title&quot;</span> <span class="meta">@keyup</span>.enter=<span class="string">&quot;addItem&quot;</span>/&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script type=<span class="string">&quot;text/ecmascript-6&quot;</span>&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">data () &#123;</span><br><span class="line">     </span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">title: <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">     </span><br><span class="line">addItem () &#123;</span><br><span class="line">     </span><br><span class="line"><span class="type">const</span> <span class="variable">title</span> <span class="operator">=</span> <span class="built_in">this</span>.title &amp;&amp; <span class="built_in">this</span>.title.trim()</span><br><span class="line"><span class="keyword">if</span> (title) &#123;</span><br><span class="line">     </span><br><span class="line"><span class="type">const</span> <span class="variable">todo</span> <span class="operator">=</span> &#123;</span><br><span class="line">     </span><br><span class="line">title,</span><br><span class="line">complete: <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">this</span>.$store.dispatch(<span class="string">&#x27;addTodo&#x27;</span>, todo)</span><br><span class="line"><span class="built_in">this</span>.title = <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.todo-header input &#123;</span><br><span class="line">     </span><br><span class="line">width: 560px;</span><br><span class="line">height: 28px;</span><br><span class="line">font-size: 14px;</span><br><span class="line">border: 1px solid #ccc;</span><br><span class="line">border-radius: 4px;</span><br><span class="line">padding: 4px 7px;</span><br><span class="line">&#125;</span><br><span class="line">.todo-header input:focus &#123;</span><br><span class="line">     </span><br><span class="line">outline: none;</span><br><span class="line">border-color: rgba(<span class="number">82</span>, <span class="number">168</span>, <span class="number">236</span>, <span class="number">0.8</span>);</span><br><span class="line">box-shadow: inset <span class="number">0</span> 1px 1px <span class="title function_">rgba</span><span class="params">(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.075</span>)</span>, <span class="number">0</span> <span class="number">0</span> 8px <span class="title function_">rgba</span><span class="params">(<span class="number">82</span>, <span class="number">168</span>, <span class="number">236</span>, <span class="number">0.6</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="3-8-components-todoMain-vue"><a href="#3-8-components-todoMain-vue" class="headerlink" title="3.8. components/todoMain.vue"></a>3.8. components/todoMain.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;ul class=<span class="string">&quot;todo-main&quot;</span>&gt;</span><br><span class="line">&lt;todo-item v-<span class="keyword">for</span>=<span class="string">&quot;(todo, index) in todos&quot;</span> :todo=<span class="string">&quot;todo&quot;</span> :key=<span class="string">&quot;index&quot;</span> :index=<span class="string">&quot;index&quot;</span>&gt;&lt;/todo-item&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script type=<span class="string">&quot;text/ecmascript-6&quot;</span>&gt;</span><br><span class="line"><span class="keyword">import</span> todoItem from <span class="string">&#x27;./todoItem&#x27;</span></span><br><span class="line"><span class="keyword">import</span> storageUtil from <span class="string">&#x27;../util/storageUtil&#x27;</span></span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">components: &#123;</span><br><span class="line">     </span><br><span class="line">todoItem</span><br><span class="line">&#125;,</span><br><span class="line">computed: &#123;</span><br><span class="line">     </span><br><span class="line">todos () &#123;</span><br><span class="line">     </span><br><span class="line"><span class="keyword">return</span> <span class="built_in">this</span>.$store.getters.todos</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">watch: &#123;</span><br><span class="line">     </span><br><span class="line">todos: &#123;</span><br><span class="line">     <span class="comment">// 深度监视todos, 一旦有变化立即保存</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h2><h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1.概念"></a>1.概念</h3><p>在Vue中实现集中式状态（数据）管理的一个Vue插件，对vue应用中多个组件的共享状态进行集中式的管理（读/写），也是一种组件间通信的方式，且适用于任意组件间通信。</p><h3 id="2-何时使用？"><a href="#2-何时使用？" class="headerlink" title="2.何时使用？"></a>2.何时使用？</h3><p>多个组件需要共享数据时</p><h3 id="3-搭建vuex环境"><a href="#3-搭建vuex环境" class="headerlink" title="3.搭建vuex环境"></a>3.搭建vuex环境</h3><ol><li>创建文件：src/store/index.js</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入Vue核心库</span></span><br><span class="line">   <span class="keyword">import</span> Vue from <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">   <span class="comment">//引入Vuex</span></span><br><span class="line">   <span class="keyword">import</span> Vuex from <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line">   <span class="comment">//应用Vuex插件</span></span><br><span class="line">   Vue.use(Vuex)</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//准备actions对象——响应组件中用户的动作</span></span><br><span class="line">   <span class="type">const</span> <span class="variable">actions</span> <span class="operator">=</span> &#123;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//准备mutations对象——修改state中的数据</span></span><br><span class="line">   <span class="type">const</span> <span class="variable">mutations</span> <span class="operator">=</span> &#123;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//准备state对象——保存具体的数据</span></span><br><span class="line">   <span class="type">const</span> <span class="variable">state</span> <span class="operator">=</span> &#123;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//创建并暴露store</span></span><br><span class="line">   export <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.Store(&#123;</span><br><span class="line">   </span><br><span class="line">   actions,</span><br><span class="line">   mutations,</span><br><span class="line">   state</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure><ol><li>在main.js中创建vm时传入store配置项</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">   <span class="comment">//引入store</span></span><br><span class="line">   <span class="keyword">import</span> store from <span class="string">&#x27;./store&#x27;</span></span><br><span class="line">   ......</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//创建vm</span></span><br><span class="line">   <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">   el:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">   render: h =&gt; h(App),</span><br><span class="line">   store</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure><h3 id="4-基本使用"><a href="#4-基本使用" class="headerlink" title="4.基本使用"></a>4.基本使用</h3><ol><li>初始化数据、配置actions、配置mutations，操作文件store.js</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入Vue核心库</span></span><br><span class="line">   <span class="keyword">import</span> Vue from <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">   <span class="comment">//引入Vuex</span></span><br><span class="line">   <span class="keyword">import</span> Vuex from <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line">   <span class="comment">//引用Vuex</span></span><br><span class="line">   Vue.use(Vuex)</span><br><span class="line">   </span><br><span class="line">   <span class="type">const</span> <span class="variable">actions</span> <span class="operator">=</span> &#123;</span><br><span class="line">   </span><br><span class="line">       <span class="comment">//响应组件中加的动作</span></span><br><span class="line">   jia(context,value)&#123;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">// console.log(&#x27;actions中的jia被调用了&#x27;,miniStore,value)</span></span><br><span class="line">   context.commit(<span class="string">&#x27;JIA&#x27;</span>,value)</span><br><span class="line">   &#125;,</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="type">const</span> <span class="variable">mutations</span> <span class="operator">=</span> &#123;</span><br><span class="line">   </span><br><span class="line">       <span class="comment">//执行加</span></span><br><span class="line">   JIA(state,value)&#123;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">// console.log(&#x27;mutations中的JIA被调用了&#x27;,state,value)</span></span><br><span class="line">   state.sum += value</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//初始化数据</span></span><br><span class="line">   <span class="type">const</span> <span class="variable">state</span> <span class="operator">=</span> &#123;</span><br><span class="line">   </span><br><span class="line">      sum:<span class="number">0</span></span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//创建并暴露store</span></span><br><span class="line">   export <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.Store(&#123;</span><br><span class="line">   </span><br><span class="line">   actions,</span><br><span class="line">   mutations,</span><br><span class="line">   state,</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure><ol><li>组件中读取vuex中的数据：$store.state.sum  </li><li><p>组件中修改vuex中的数据：$store.dispatch(‘action中的方法名’,数据)或 $store.commit(‘mutations中的方法名’,数据) </p><blockquote> <p>备注：若没有网络请求或其他业务逻辑，组件中也可以越过actions，即不写<code>dispatch</code>，直接编写<code>commit</code></p> </blockquote> </li></ol><h3 id="5-getters的使用"><a href="#5-getters的使用" class="headerlink" title="5.getters的使用"></a>5.getters的使用</h3><ol><li>概念：当state中的数据需要经过加工后再使用时，可以使用getters加工。  </li><li>在store.js中追加getters配置 </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">   </span><br><span class="line">   <span class="type">const</span> <span class="variable">getters</span> <span class="operator">=</span> &#123;</span><br><span class="line">   </span><br><span class="line">   bigSum(state)&#123;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">return</span> state.sum * <span class="number">10</span></span><br><span class="line">   &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//创建并暴露store</span></span><br><span class="line">   export <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.Store(&#123;</span><br><span class="line">   </span><br><span class="line">   ......</span><br><span class="line">   getters</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure><ol><li>组件中读取数据：$store.getters.bigSum</li></ol><h3 id="6-四个map方法的使用"><a href="#6-四个map方法的使用" class="headerlink" title="6.四个map方法的使用"></a>6.四个map方法的使用</h3><ol><li><strong>mapState方法：</strong>用于帮助我们映射state中的数据为计算属性</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">   </span><br><span class="line">       <span class="comment">//借助mapState生成计算属性：sum、school、subject（对象写法）</span></span><br><span class="line">        ...mapState(&#123;</span><br><span class="line">   sum:<span class="string">&#x27;sum&#x27;</span>,school:<span class="string">&#x27;school&#x27;</span>,subject:<span class="string">&#x27;subject&#x27;</span>&#125;),</span><br><span class="line">            </span><br><span class="line">       <span class="comment">//借助mapState生成计算属性：sum、school、subject（数组写法）</span></span><br><span class="line">       ...mapState([<span class="string">&#x27;sum&#x27;</span>,<span class="string">&#x27;school&#x27;</span>,<span class="string">&#x27;subject&#x27;</span>]),</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure><ol><li><strong>mapGetters方法：</strong>用于帮助我们映射getters中的数据为计算属性</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">   </span><br><span class="line">       <span class="comment">//借助mapGetters生成计算属性：bigSum（对象写法）</span></span><br><span class="line">       ...mapGetters(&#123;</span><br><span class="line">   bigSum:<span class="string">&#x27;bigSum&#x27;</span>&#125;),</span><br><span class="line">   </span><br><span class="line">       <span class="comment">//借助mapGetters生成计算属性：bigSum（数组写法）</span></span><br><span class="line">       ...mapGetters([<span class="string">&#x27;bigSum&#x27;</span>])</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure><ol><li><strong>mapActions方法：</strong>用于帮助我们生成与actions对话的方法，即：包含$store.dispatch(xxx)的函数</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">   </span><br><span class="line">       <span class="comment">//靠mapActions生成：incrementOdd、incrementWait（对象形式）</span></span><br><span class="line">       ...mapActions(&#123;</span><br><span class="line">   incrementOdd:<span class="string">&#x27;jiaOdd&#x27;</span>,incrementWait:<span class="string">&#x27;jiaWait&#x27;</span>&#125;)</span><br><span class="line">   </span><br><span class="line">       <span class="comment">//靠mapActions生成：incrementOdd、incrementWait（数组形式）</span></span><br><span class="line">       ...mapActions([<span class="string">&#x27;jiaOdd&#x27;</span>,<span class="string">&#x27;jiaWait&#x27;</span>])</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><ol><li><strong>mapMutations方法：</strong>用于帮助我们生成与mutations对话的方法，即：包含$store.commit(xxx)的函数</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">   </span><br><span class="line">       <span class="comment">//靠mapActions生成：increment、decrement（对象形式）</span></span><br><span class="line">       ...mapMutations(&#123;</span><br><span class="line">   increment:<span class="string">&#x27;JIA&#x27;</span>,decrement:<span class="string">&#x27;JIAN&#x27;</span>&#125;),</span><br><span class="line">       </span><br><span class="line">       <span class="comment">//靠mapMutations生成：JIA、JIAN（对象形式）</span></span><br><span class="line">       ...mapMutations([<span class="string">&#x27;JIA&#x27;</span>,<span class="string">&#x27;JIAN&#x27;</span>]),</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><blockquote><p>备注：mapActions与mapMutations使用时，若需要传递参数需要：在模板中绑定事件时传递好参数，否则参数是事件对象。</p></blockquote><h3 id="7-模块化-命名空间"><a href="#7-模块化-命名空间" class="headerlink" title="7.模块化+命名空间"></a>7.模块化+命名空间</h3><ol><li>目的：让代码更好维护，让多种数据分类更加明确。  </li><li>修改store.js </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="variable">countAbout</span> <span class="operator">=</span> &#123;</span><br><span class="line">   </span><br><span class="line">     namespaced:<span class="literal">true</span>,<span class="comment">//开启命名空间</span></span><br><span class="line">     state:&#123;</span><br><span class="line">   x:<span class="number">1</span>&#125;,</span><br><span class="line">     mutations: &#123;</span><br><span class="line">    ... &#125;,</span><br><span class="line">     actions: &#123;</span><br><span class="line">    ... &#125;,</span><br><span class="line">     getters: &#123;</span><br><span class="line">   </span><br><span class="line">       bigSum(state)&#123;</span><br><span class="line">   </span><br><span class="line">          <span class="keyword">return</span> state.sum * <span class="number">10</span></span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="type">const</span> <span class="variable">personAbout</span> <span class="operator">=</span> &#123;</span><br><span class="line">   </span><br><span class="line">     namespaced:<span class="literal">true</span>,<span class="comment">//开启命名空间</span></span><br><span class="line">     state:&#123;</span><br><span class="line">    ... &#125;,</span><br><span class="line">     mutations: &#123;</span><br><span class="line">    ... &#125;,</span><br><span class="line">     actions: &#123;</span><br><span class="line">    ... &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="type">const</span> <span class="variable">store</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.Store(&#123;</span><br><span class="line">   </span><br><span class="line">     modules: &#123;</span><br><span class="line">   </span><br><span class="line">       countAbout,</span><br><span class="line">       personAbout</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure><ol><li>开启命名空间后，组件中读取state数据：</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接读取</span></span><br><span class="line">   <span class="built_in">this</span>.$store.state.personAbout.list</span><br><span class="line">   <span class="comment">//方式二：借助mapState读取：</span></span><br><span class="line">   ...mapState(<span class="string">&#x27;countAbout&#x27;</span>,[<span class="string">&#x27;sum&#x27;</span>,<span class="string">&#x27;school&#x27;</span>,<span class="string">&#x27;subject&#x27;</span>]),</span><br></pre></td></tr></table></figure><ol><li>开启命名空间后，组件中读取getters数据：</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接读取</span></span><br><span class="line">   <span class="built_in">this</span>.$store.getters[<span class="string">&#x27;personAbout/firstPersonName&#x27;</span>]</span><br><span class="line">   <span class="comment">//方式二：借助mapGetters读取：</span></span><br><span class="line">   ...mapGetters(<span class="string">&#x27;countAbout&#x27;</span>,[<span class="string">&#x27;bigSum&#x27;</span>])</span><br></pre></td></tr></table></figure><ol><li>开启命名空间后，组件中调用dispatch</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接dispatch</span></span><br><span class="line">   <span class="built_in">this</span>.$store.dispatch(<span class="string">&#x27;personAbout/addPersonWang&#x27;</span>,person)</span><br><span class="line">   <span class="comment">//方式二：借助mapActions：</span></span><br><span class="line">   ...mapActions(<span class="string">&#x27;countAbout&#x27;</span>,&#123;</span><br><span class="line">   incrementOdd:<span class="string">&#x27;jiaOdd&#x27;</span>,incrementWait:<span class="string">&#x27;jiaWait&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure><ol><li>开启命名空间后，组件中调用commit</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接commit</span></span><br><span class="line">   <span class="built_in">this</span>.$store.commit(<span class="string">&#x27;personAbout/ADD_PERSON&#x27;</span>,person)</span><br><span class="line">   <span class="comment">//方式二：借助mapMutations：</span></span><br><span class="line">   ...mapMutations(<span class="string">&#x27;countAbout&#x27;</span>,&#123;</span><br><span class="line">   increment:<span class="string">&#x27;JIA&#x27;</span>,decrement:<span class="string">&#x27;JIAN&#x27;</span>&#125;),</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-1-vuex-是什么&quot;&gt;&lt;a href=&quot;#1-1-vuex-是什么&quot; class=&quot;headerlink&quot; title=&quot;1.1. vuex 是什么&quot;&gt;&lt;/a&gt;1.1. vuex 是什么&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;github 站点: &lt;a href=&quot;ht</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue高级" scheme="https://manamn.space/tags/Vue%E9%AB%98%E7%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>Vue高级系列（九）路由 - vue-router - SPA - 基本路由 - 嵌套路由 - 编程式路由导航</title>
    <link href="https://manamn.space/2022/10/26/Vue/%E9%AB%98%E7%BA%A7/Vue%E9%AB%98%E7%BA%A7%E7%B3%BB%E5%88%97%EF%BC%88%E4%B9%9D%EF%BC%89%E8%B7%AF%E7%94%B1%20-%20vue-router%20-%20SPA%20-%20%E5%9F%BA%E6%9C%AC%E8%B7%AF%E7%94%B1%20-%20%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1%20-%20%E7%BC%96%E7%A8%8B%E5%BC%8F%E8%B7%AF%E7%94%B1%E5%AF%BC%E8%88%AA/"/>
    <id>https://manamn.space/2022/10/26/Vue/%E9%AB%98%E7%BA%A7/Vue%E9%AB%98%E7%BA%A7%E7%B3%BB%E5%88%97%EF%BC%88%E4%B9%9D%EF%BC%89%E8%B7%AF%E7%94%B1%20-%20vue-router%20-%20SPA%20-%20%E5%9F%BA%E6%9C%AC%E8%B7%AF%E7%94%B1%20-%20%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1%20-%20%E7%BC%96%E7%A8%8B%E5%BC%8F%E8%B7%AF%E7%94%B1%E5%AF%BC%E8%88%AA/</id>
    <published>2022-10-26T02:29:16.000Z</published>
    <updated>2022-10-26T03:15:40.855Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-1-说明"><a href="#1-1-说明" class="headerlink" title="1.1. 说明"></a>1.1. 说明</h2><ol><li>官方提供的用来实现SPA 的vue 插件 </li><li>github: <a href="https://github.com/vuejs/vue-router">https://github.com/vuejs/vue-router</a> </li><li>中文文档: <a href="http://router.vuejs.org/zh-cn/">http://router.vuejs.org/zh-cn/</a> </li><li>下载: npm install vue-router —save</li></ol><h2 id="1-2-相关API-说明"><a href="#1-2-相关API-说明" class="headerlink" title="1.2. 相关API 说明"></a>1.2. 相关API 说明</h2><ol><li>VueRouter(): 用于创建路由器的构建函数</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">   </span><br><span class="line"><span class="comment">// 多个配置项</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>路由配置</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">routes: [</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 一般路由</span></span><br><span class="line">path: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">component: About</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 自动跳转路由</span></span><br><span class="line">path: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">redirect: <span class="string">&#x27;/about&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><ol><li>注册路由器</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router from <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">router</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li><p>使用路由组件标签</p></li><li><p><router-link>: 用来生成路由链接</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=<span class="string">&quot;/xxx&quot;</span>&gt;Go to XXX&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><ol><li><router-view>: 用来显示当前路由组件界面</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-view&gt;&lt;/router-view&gt;</span><br></pre></td></tr></table></figure><h2 id="2-1-效果"><a href="#2-1-效果" class="headerlink" title="2.1. 效果"></a>2.1. 效果</h2><p><img src="https://img-blog.csdnimg.cn/20210223221811149.gif#pic_center" alt="img"></p><h2 id="2-2-路由组件"><a href="#2-2-路由组件" class="headerlink" title="2.2. 路由组件"></a>2.2. 路由组件</h2><p><img src="https://img-blog.csdnimg.cn/20210223214334636.png" alt="img"> Home.vue About.vue</p><h2 id="2-3-应用组件-App-vue"><a href="#2-3-应用组件-App-vue" class="headerlink" title="2.3. 应用组件: App.vue"></a>2.3. 应用组件: App.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;row&quot;</span>&gt;</span><br><span class="line">      &lt;div class=<span class="string">&quot;col-xs-offset-2 col-xs-8&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;page-header&quot;</span>&gt;&lt;h2&gt;Router Test&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=<span class="string">&quot;row&quot;</span>&gt;</span><br><span class="line">      &lt;div class=<span class="string">&quot;col-xs-2 col-xs-offset-2&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;list-group&quot;</span>&gt;</span><br><span class="line">          &lt;!--生成路由链接--&gt;</span><br><span class="line">          &lt;router-link to=<span class="string">&quot;/about&quot;</span> class=<span class="string">&quot;list-group-item&quot;</span>&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link to=<span class="string">&quot;/home&quot;</span> class=<span class="string">&quot;list-group-item&quot;</span>&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=<span class="string">&quot;col-xs-6&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;panel&quot;</span>&gt;</span><br><span class="line">          &lt;div class=<span class="string">&quot;panel-body&quot;</span>&gt;</span><br><span class="line">            &lt;!--显示当前组件--&gt;</span><br><span class="line">            &lt;keep-alive&gt;</span><br><span class="line">              &lt;router-view msg=<span class="string">&quot;abc&quot;</span>&gt;&lt;/router-view&gt;</span><br><span class="line">            &lt;/keep-alive&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><h2 id="2-4-路由器模块-src-router-index-js"><a href="#2-4-路由器模块-src-router-index-js" class="headerlink" title="2.4. 路由器模块: src/router/index.js"></a>2.4. 路由器模块: src/router/index.js</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue from <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Router from <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> About from <span class="string">&#x27;../pages/About&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Home from <span class="string">&#x27;../pages/Home&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line">export <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Router</span>(&#123;</span><br><span class="line">   </span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">   </span><br><span class="line">      path: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">      component: About</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">   </span><br><span class="line">      path: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">      component: Home</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">   </span><br><span class="line">      path: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">      component: About</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="2-5-注册路由器-main-js"><a href="#2-5-注册路由器-main-js" class="headerlink" title="2.5. 注册路由器: main.js"></a>2.5. 注册路由器: main.js</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue from <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App from <span class="string">&#x27;./App&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router from <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* eslint-disable no-new */</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="comment">// 配置对象的属性名都是一些确定的名称，不能随便修改</span></span><br><span class="line">  el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  router,</span><br><span class="line">  components: &#123;</span><br><span class="line">    App &#125;,</span><br><span class="line">  template: <span class="string">&#x27;&lt;App/&gt;&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="2-6-优化路由器配置"><a href="#2-6-优化路由器配置" class="headerlink" title="2.6. 优化路由器配置"></a>2.6. 优化路由器配置</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">linkActiveClass: <span class="string">&#x27;active&#x27;</span>, <span class="comment">// 指定选中的路由链接的class</span></span><br></pre></td></tr></table></figure><h2 id="2-7-总结-编写使用路由的3-步"><a href="#2-7-总结-编写使用路由的3-步" class="headerlink" title="2.7. 总结: 编写使用路由的3 步"></a>2.7. 总结: 编写使用路由的3 步</h2><ol><li>定义路由组件 </li><li>注册路由 </li><li>使用路由</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link&gt;</span><br><span class="line">&lt;router-view&gt;</span><br></pre></td></tr></table></figure><h2 id="3-1-效果"><a href="#3-1-效果" class="headerlink" title="3.1. 效果"></a>3.1. 效果</h2><p><img src="https://img-blog.csdnimg.cn/20210225152900993.gif#pic_center" alt="img"></p><h2 id="3-2-子路由组件"><a href="#3-2-子路由组件" class="headerlink" title="3.2. 子路由组件"></a>3.2. 子路由组件</h2><p><img src="https://img-blog.csdnimg.cn/20210225152948463.png" alt="img"></p><h3 id="News-vue"><a href="#News-vue" class="headerlink" title="News.vue"></a>News.vue</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li v-<span class="keyword">for</span>=<span class="string">&quot;(news, index) in newsArr&quot;</span> :key=<span class="string">&quot;index&quot;</span>&gt;&#123;</span><br><span class="line">  &#123; news &#125;&#125;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">  data() &#123;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">      newsArr: [<span class="string">&quot;news001&quot;</span>, <span class="string">&quot;news002&quot;</span>, <span class="string">&quot;news003&quot;</span>, <span class="string">&quot;news004&quot;</span>],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="Message-vue"><a href="#Message-vue" class="headerlink" title="Message.vue"></a>Message.vue</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li v-<span class="keyword">for</span>=<span class="string">&quot;message in messages&quot;</span> :key=<span class="string">&quot;message.id&quot;</span>&gt;</span><br><span class="line">      &lt;a href=<span class="string">&quot;#&quot;</span>&gt;&#123;</span><br><span class="line">  &#123; message.title &#125;&#125;&lt;/a&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">  data() &#123;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">      messages: [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//模拟ajax请求从后台获取数据</span></span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="type">const</span> <span class="variable">messages</span> <span class="operator">=</span> [</span><br><span class="line">        &#123;</span><br><span class="line">     </span><br><span class="line">          id: <span class="number">1</span>,</span><br><span class="line">          title: <span class="string">&quot;message001&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">     </span><br><span class="line">          id: <span class="number">2</span>,</span><br><span class="line">          title: <span class="string">&quot;message002&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">     </span><br><span class="line">          id: <span class="number">3</span>,</span><br><span class="line">          title: <span class="string">&quot;message003&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      ];</span><br><span class="line">      <span class="built_in">this</span>.messages = messages;</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="3-3-配置嵌套路由-src-router-index-js"><a href="#3-3-配置嵌套路由-src-router-index-js" class="headerlink" title="3.3. 配置嵌套路由: src/router/index.js"></a>3.3. 配置嵌套路由: src/router/index.js</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue from <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Router from <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> About from <span class="string">&#x27;../pages/About&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Home from <span class="string">&#x27;../pages/Home&#x27;</span></span><br><span class="line"><span class="keyword">import</span> News from <span class="string">&#x27;../pages/News&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Message from <span class="string">&#x27;../pages/Message&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line">export <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Router</span>(&#123;</span><br><span class="line">   </span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">   </span><br><span class="line">      path: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">      component: About</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">   </span><br><span class="line">      path: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">      component: Home,</span><br><span class="line">      children: [</span><br><span class="line">        &#123;</span><br><span class="line">   </span><br><span class="line">          <span class="comment">// path: &#x27;/news&#x27; // path最左侧斜杠代表根路径</span></span><br><span class="line">          path: <span class="string">&#x27;/home/news&#x27;</span>, <span class="comment">//完整写法</span></span><br><span class="line">          component: News</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">   </span><br><span class="line">          path: <span class="string">&#x27;message&#x27;</span>, <span class="comment">// 简化写法</span></span><br><span class="line">          component: Message</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">    <span class="comment">//设置默认显示</span></span><br><span class="line">          path: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">          redirect: <span class="string">&#x27;/home/news&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="comment">//设置默认显示</span></span><br><span class="line">      path: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">      redirect: <span class="string">&#x27;/about&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="3-4-路由链接-Home-vue"><a href="#3-4-路由链接-Home-vue" class="headerlink" title="3.4. 路由链接: Home.vue"></a>3.4. 路由链接: Home.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=<span class="string">&quot;nav nav-tabs&quot;</span>&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link to=<span class="string">&quot;/home/news&quot;</span>&gt;News&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link to=<span class="string">&quot;/home/message&quot;</span>&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">        &lt;hr /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     &#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="4-1-效果"><a href="#4-1-效果" class="headerlink" title="4.1. 效果"></a>4.1. 效果</h2><h2 id="4-2-方式1-路由路径携带参数-param-query"><a href="#4-2-方式1-路由路径携带参数-param-query" class="headerlink" title="4.2. 方式1: 路由路径携带参数(param/query)"></a>4.2. 方式1: 路由路径携带参数(param/query)</h2><ol><li>配置路由</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">children: [</span><br><span class="line">&#123;</span><br><span class="line">   </span><br><span class="line">path: <span class="string">&#x27;mdetail/:id&#x27;</span>,</span><br><span class="line">component: MessageDetail</span><br><span class="line">&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><ol><li>路由路径</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link :to=<span class="string">&quot;&#x27;/home/message/mdetail/&#x27;+m.id&quot;</span>&gt;&#123;</span><br><span class="line">  &#123;m.title&#125;&#125;&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><ol><li>路由组件中读取请求参数</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$route.params.id</span><br></pre></td></tr></table></figure><h2 id="4-3-方式2-属性携带数据"><a href="#4-3-方式2-属性携带数据" class="headerlink" title="4.3. 方式2: 属性携带数据"></a>4.3. 方式2: <router-view>属性携带数据</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-view :msg=<span class="string">&quot;msg&quot;</span>&gt;&lt;/router-view&gt;</span><br></pre></td></tr></table></figure><p>然后组件用props接收</p><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><h3 id="MessageDetail-vue"><a href="#MessageDetail-vue" class="headerlink" title="MessageDetail.vue"></a>MessageDetail.vue</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;id: &#123;</span><br><span class="line">  &#123; messageDetail.id &#125;&#125;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;title: &#123;</span><br><span class="line">  &#123; messageDetail.title &#125;&#125;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;content: &#123;</span><br><span class="line">  &#123; messageDetail.content &#125;&#125;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">  data() &#123;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">      messageDetail: &#123;</span><br><span class="line">     </span><br><span class="line">        id: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        title: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        content: <span class="string">&quot;&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">     </span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="type">const</span> <span class="variable">allMessageDetails</span> <span class="operator">=</span> [</span><br><span class="line">        &#123;</span><br><span class="line">     </span><br><span class="line">          id: <span class="number">1</span>,</span><br><span class="line">          title: <span class="string">&quot;message001&quot;</span>,</span><br><span class="line">          content: <span class="string">&quot;message001 content...&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">     </span><br><span class="line">          id: <span class="number">2</span>,</span><br><span class="line">          title: <span class="string">&quot;message002&quot;</span>,</span><br><span class="line">          content: <span class="string">&quot;message002 content...&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">     </span><br><span class="line">          id: <span class="number">3</span>,</span><br><span class="line">          title: <span class="string">&quot;message003&quot;</span>,</span><br><span class="line">          content: <span class="string">&quot;message003 content...&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      ];</span><br><span class="line">      <span class="built_in">this</span>.allMessageDetails = allMessageDetails;</span><br><span class="line">      <span class="type">const</span> <span class="variable">id</span> <span class="operator">=</span> <span class="built_in">this</span>.$route.params.id * <span class="number">1</span>;</span><br><span class="line">      <span class="built_in">this</span>.messageDetail = allMessageDetails.find((detail) =&gt; detail.id === id);</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">     </span><br><span class="line">    $route: function(value)&#123;</span><br><span class="line">      <span class="comment">// 路由路径(param)发生了改变</span></span><br><span class="line">    <span class="type">const</span> <span class="variable">id</span> <span class="operator">=</span> value.params.id * <span class="number">1</span>;</span><br><span class="line">      <span class="built_in">this</span>.messageDetail = <span class="built_in">this</span>.allMessageDetails.find((detail) =&gt; detail.id === id);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="index-js"><a href="#index-js" class="headerlink" title="index.js"></a>index.js</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue from <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Router from <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> About from <span class="string">&#x27;../pages/About&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Home from <span class="string">&#x27;../pages/Home&#x27;</span></span><br><span class="line"><span class="keyword">import</span> News from <span class="string">&#x27;../pages/News&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Message from <span class="string">&#x27;../pages/Message&#x27;</span></span><br><span class="line"><span class="keyword">import</span> MessageDetail from <span class="string">&#x27;../pages/MessageDetail&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line">export <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Router</span>(&#123;</span><br><span class="line">   </span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">   </span><br><span class="line">      path: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">      component: About</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">   </span><br><span class="line">      path: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">      component: Home,</span><br><span class="line">      children: [</span><br><span class="line">        &#123;</span><br><span class="line">   </span><br><span class="line">          <span class="comment">// path: &#x27;/news&#x27; // path最左侧斜杠代表根路径</span></span><br><span class="line">          path: <span class="string">&#x27;/home/news&#x27;</span>, <span class="comment">//完整写法</span></span><br><span class="line">          component: News</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">   </span><br><span class="line">          path: <span class="string">&#x27;message&#x27;</span>, <span class="comment">// 简化写法</span></span><br><span class="line">          component: Message,</span><br><span class="line">          children: [</span><br><span class="line">            &#123;</span><br><span class="line">   </span><br><span class="line">              path: <span class="string">&#x27;/home/message/detail/:id&#x27;</span>,</span><br><span class="line">              component: MessageDetail</span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">    <span class="comment">//设置默认显示</span></span><br><span class="line">          path: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">          redirect: <span class="string">&#x27;/home/news&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="comment">//设置默认显示</span></span><br><span class="line">      path: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">      redirect: <span class="string">&#x27;/about&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="5-1-理解"><a href="#5-1-理解" class="headerlink" title="5.1. 理解"></a>5.1. 理解</h2><ol><li>默认情况下, 被切换的路由组件对象会死亡释放, 再次回来时是重新创建的 </li><li>如果可以缓存路由组件对象, 可以提高用户体验</li></ol><h2 id="5-2-编码实现"><a href="#5-2-编码实现" class="headerlink" title="5.2. 编码实现"></a>5.2. 编码实现</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive&gt;</span><br><span class="line">&lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure><h2 id="6-1-效果"><a href="#6-1-效果" class="headerlink" title="6.1. 效果"></a>6.1. 效果</h2><p><img src="https://img-blog.csdnimg.cn/20210225180912614.gif#pic_center" alt="img"></p><h2 id="6-2-相关API"><a href="#6-2-相关API" class="headerlink" title="6.2. 相关API"></a>6.2. 相关API</h2><ol><li>this.$router.push(path): 相当于点击路由链接(可以返回到当前路由界面) </li><li>this.$router.replace(path): 用新路由替换当前路由(不可以返回到当前路由界面) </li><li>this.$router.back(): 请求(返回)上一个记录路由 </li><li>this.$router.go(-1): 请求(返回)上一个记录路由 </li><li>this.$router.go(1): 请求下一个记录路由</li></ol><h2 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h2><h3 id="Message-vue-1"><a href="#Message-vue-1" class="headerlink" title="Message.vue"></a>Message.vue</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li v-<span class="keyword">for</span>=<span class="string">&quot;message in messages&quot;</span> :key=<span class="string">&quot;message.id&quot;</span>&gt;</span><br><span class="line">        &lt;!-- &lt;a href=<span class="string">&quot;#&quot;</span>&gt;&#123;</span><br><span class="line">   &#123; message.title &#125;&#125;&lt;/a&gt; --&gt;</span><br><span class="line">        &lt;router-link :to=<span class="string">&quot;`/home/message/detail/$&#123;message.id&#125;`&quot;</span>&gt;&#123;</span><br><span class="line">  &#123;</span><br><span class="line">          message.title</span><br><span class="line">        &#125;&#125;&lt;/router-link&gt;</span><br><span class="line">        &lt;button <span class="meta">@click</span>=<span class="string">&quot;pushShow(message.id)&quot;</span>&gt;push查看&lt;/button&gt;</span><br><span class="line">        &lt;button <span class="meta">@click</span>=<span class="string">&quot;replaceShow(message.id)&quot;</span>&gt;replace查看&lt;/button&gt;</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;button <span class="meta">@click</span>=<span class="string">&quot;$router.back()&quot;</span>&gt;回退&lt;/button&gt;</span><br><span class="line">    &lt;hr /&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">  data() &#123;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">      messages: [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">     </span><br><span class="line">    pushShow(id) &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="built_in">this</span>.$router.push(`/home/message/detail/$&#123; id&#125;`);</span><br><span class="line">    &#125;,</span><br><span class="line">    replaceShow(id) &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="built_in">this</span>.$router.replace(`/home/message/detail/$&#123; id&#125;`);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//模拟ajax请求从后台获取数据</span></span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="type">const</span> <span class="variable">messages</span> <span class="operator">=</span> [</span><br><span class="line">        &#123;</span><br><span class="line">     </span><br><span class="line">          id: <span class="number">1</span>,</span><br><span class="line">          title: <span class="string">&quot;message001&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">     </span><br><span class="line">          id: <span class="number">2</span>,</span><br><span class="line">          title: <span class="string">&quot;message002&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">     </span><br><span class="line">          id: <span class="number">3</span>,</span><br><span class="line">          title: <span class="string">&quot;message003&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      ];</span><br><span class="line">      <span class="built_in">this</span>.messages = messages;</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><ol><li>理解： 一个路由（route）就是一组映射关系（key - value），多个路由需要路由器（router）进行管理。 </li><li>前端路由：key是路径，value是组件。</li></ol><h3 id="1-基本使用"><a href="#1-基本使用" class="headerlink" title="1.基本使用"></a>1.基本使用</h3><ol><li>安装vue-router，命令：npm i vue-router  </li><li>应用插件：Vue.use(VueRouter)  </li><li>编写router配置项: </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入VueRouter</span></span><br><span class="line">   <span class="keyword">import</span> VueRouter from <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line">   <span class="comment">//引入Luyou 组件</span></span><br><span class="line">   <span class="keyword">import</span> About from <span class="string">&#x27;../components/About&#x27;</span></span><br><span class="line">   <span class="keyword">import</span> Home from <span class="string">&#x27;../components/Home&#x27;</span></span><br><span class="line">   </span><br><span class="line">   <span class="comment">//创建router实例对象，去管理一组一组的路由规则</span></span><br><span class="line">   <span class="type">const</span> <span class="variable">router</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">   </span><br><span class="line">   routes:[</span><br><span class="line">   &#123;</span><br><span class="line">   </span><br><span class="line">   path:<span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">   component:About</span><br><span class="line">   &#125;,</span><br><span class="line">   &#123;</span><br><span class="line">   </span><br><span class="line">   path:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">   component:Home</span><br><span class="line">   &#125;</span><br><span class="line">   ]</span><br><span class="line">   &#125;)</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//暴露router</span></span><br><span class="line">   export <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure><ol><li>实现切换（active-class可配置高亮样式）</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link active-class=<span class="string">&quot;active&quot;</span> to=<span class="string">&quot;/about&quot;</span>&gt;About&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><ol><li>指定展示位置</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-view&gt;&lt;/router-view&gt;</span><br></pre></td></tr></table></figure><h3 id="2-几个注意点"><a href="#2-几个注意点" class="headerlink" title="2.几个注意点"></a>2.几个注意点</h3><ol><li>路由组件通常存放在pages文件夹，一般组件通常存放在components文件夹。 </li><li>通过切换，“隐藏”了的路由组件，默认是被销毁掉的，需要的时候再去挂载。 </li><li>每个组件都有自己的$route属性，里面存储着自己的路由信息。 </li><li>整个应用只有一个router，可以通过组件的$router属性获取到。</li></ol><h3 id="3-多级路由（多级路由）"><a href="#3-多级路由（多级路由）" class="headerlink" title="3.多级路由（多级路由）"></a>3.多级路由（多级路由）</h3><ol><li>配置路由规则，使用children配置项：</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">routes:[</span><br><span class="line">   &#123;</span><br><span class="line">   </span><br><span class="line">   path:<span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">   component:About,</span><br><span class="line">   &#125;,</span><br><span class="line">   &#123;</span><br><span class="line">   </span><br><span class="line">   path:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">   component:Home,</span><br><span class="line">   children:[ <span class="comment">//通过children配置子级路由</span></span><br><span class="line">   &#123;</span><br><span class="line">   </span><br><span class="line">   path:<span class="string">&#x27;news&#x27;</span>, <span class="comment">//此处一定不要写：/news</span></span><br><span class="line">   component:News</span><br><span class="line">   &#125;,</span><br><span class="line">   &#123;</span><br><span class="line">   </span><br><span class="line">   path:<span class="string">&#x27;message&#x27;</span>,<span class="comment">//此处一定不要写：/message</span></span><br><span class="line">   component:Message</span><br><span class="line">   &#125;</span><br><span class="line">   ]</span><br><span class="line">   &#125;</span><br><span class="line">   ]</span><br></pre></td></tr></table></figure><ol><li>跳转（要写完整路径）：</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=<span class="string">&quot;/home/news&quot;</span>&gt;News&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><h3 id="4-路由的query参数"><a href="#4-路由的query参数" class="headerlink" title="4.路由的query参数"></a>4.路由的query参数</h3><ol><li>传递参数</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 跳转并携带query参数，to的字符串写法 --&gt;</span><br><span class="line">   &lt;router-link :to=<span class="string">&quot;/home/message/detail?id=666&amp;title=你好&quot;</span>&gt;跳转&lt;/router-link&gt;</span><br><span class="line">   </span><br><span class="line">   &lt;!-- 跳转并携带query参数，to的对象写法 --&gt;</span><br><span class="line">   &lt;router-link </span><br><span class="line">   :to=<span class="string">&quot;&#123;</span></span><br><span class="line"><span class="string">   path:&#x27;/home/message/detail&#x27;,</span></span><br><span class="line"><span class="string">   query:&#123;</span></span><br><span class="line"><span class="string">      id:666,</span></span><br><span class="line"><span class="string">               title:&#x27;你好&#x27;</span></span><br><span class="line"><span class="string">   &#125;</span></span><br><span class="line"><span class="string">   &#125;&quot;</span></span><br><span class="line">   &gt;跳转&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><ol><li>接收参数：</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$route.query.id</span><br><span class="line">   $route.query.title</span><br></pre></td></tr></table></figure><h3 id="5-命名路由"><a href="#5-命名路由" class="headerlink" title="5.命名路由"></a>5.命名路由</h3><ol><li>作用：可以简化路由的跳转。  </li><li><p>如何使用 </p><ol> 2. 给路由命名： </ol> </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   </span><br><span class="line">      path:<span class="string">&#x27;/demo&#x27;</span>,</span><br><span class="line">      component:Demo,</span><br><span class="line">      children:[</span><br><span class="line">      &#123;</span><br><span class="line">   </span><br><span class="line">      path:<span class="string">&#x27;test&#x27;</span>,</span><br><span class="line">      component:Test,</span><br><span class="line">      children:[</span><br><span class="line">      &#123;</span><br><span class="line">   </span><br><span class="line">                            name:<span class="string">&#x27;hello&#x27;</span> <span class="comment">//给路由命名</span></span><br><span class="line">      path:<span class="string">&#x27;welcome&#x27;</span>,</span><br><span class="line">      component:Hello,</span><br><span class="line">      &#125;</span><br><span class="line">      ]</span><br><span class="line">      &#125;</span><br><span class="line">      ]</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><ol><li>简化跳转：</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--简化前，需要写完整的路径 --&gt;</span><br><span class="line">      &lt;router-link to=<span class="string">&quot;/demo/test/welcome&quot;</span>&gt;跳转&lt;/router-link&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;!--简化后，直接通过名字跳转 --&gt;</span><br><span class="line">      &lt;router-link :to=<span class="string">&quot;&#123;name:&#x27;hello&#x27;&#125;&quot;</span>&gt;跳转&lt;/router-link&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;!--简化写法配合传递参数 --&gt;</span><br><span class="line">      &lt;router-link </span><br><span class="line">      :to=<span class="string">&quot;&#123;</span></span><br><span class="line"><span class="string">      name:&#x27;hello&#x27;,</span></span><br><span class="line"><span class="string">      query:&#123;</span></span><br><span class="line"><span class="string">         id:666,</span></span><br><span class="line"><span class="string">                  title:&#x27;你好&#x27;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      &#125;&quot;</span></span><br><span class="line">      &gt;跳转&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><h3 id="6-路由的params参数"><a href="#6-路由的params参数" class="headerlink" title="6.路由的params参数"></a>6.路由的params参数</h3><ol><li>配置路由，声明接收params参数</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   </span><br><span class="line">   path:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">   component:Home,</span><br><span class="line">   children:[</span><br><span class="line">   &#123;</span><br><span class="line">   </span><br><span class="line">   path:<span class="string">&#x27;news&#x27;</span>,</span><br><span class="line">   component:News</span><br><span class="line">   &#125;,</span><br><span class="line">   &#123;</span><br><span class="line">   </span><br><span class="line">   component:Message,</span><br><span class="line">   children:[</span><br><span class="line">   &#123;</span><br><span class="line">   </span><br><span class="line">   name:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line">   path:<span class="string">&#x27;detail/:id/:title&#x27;</span>, <span class="comment">//使用占位符声明接收params参数</span></span><br><span class="line">   component:Detail</span><br><span class="line">   &#125;</span><br><span class="line">   ]</span><br><span class="line">   &#125;</span><br><span class="line">   ]</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><ol><li>传递参数</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 跳转并携带params参数，to的字符串写法 --&gt;</span><br><span class="line">   &lt;router-link :to=<span class="string">&quot;/home/message/detail/666/你好&quot;</span>&gt;跳转&lt;/router-link&gt;</span><br><span class="line">   </span><br><span class="line">   &lt;!-- 跳转并携带params参数，to的对象写法 --&gt;</span><br><span class="line">   &lt;router-link </span><br><span class="line">   :to=<span class="string">&quot;&#123;</span></span><br><span class="line"><span class="string">   name:&#x27;xiangqing&#x27;,</span></span><br><span class="line"><span class="string">   params:&#123;</span></span><br><span class="line"><span class="string">      id:666,</span></span><br><span class="line"><span class="string">               title:&#x27;你好&#x27;</span></span><br><span class="line"><span class="string">   &#125;</span></span><br><span class="line"><span class="string">   &#125;&quot;</span></span><br><span class="line">   &gt;跳转&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><blockquote><p>特别注意：路由携带params参数时，若使用to的对象写法，则不能使用path配置项，必须使用name配置！</p></blockquote><ol><li>接收参数：</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$route.params.id</span><br><span class="line">   $route.params.title</span><br></pre></td></tr></table></figure><h3 id="7-路由的props配置"><a href="#7-路由的props配置" class="headerlink" title="7.路由的props配置"></a>7.路由的props配置</h3><p>作用：让路由组件更方便的收到参数</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   </span><br><span class="line">name:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line">path:<span class="string">&#x27;detail/:id&#x27;</span>,</span><br><span class="line">component:Detail,</span><br><span class="line"></span><br><span class="line"><span class="comment">//第一种写法：props值为对象，该对象中所有的key-value的组合最终都会通过props传给Detail组件</span></span><br><span class="line"><span class="comment">// props:&#123;a:900&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//第二种写法：props值为布尔值，布尔值为true，则把路由收到的所有params参数通过props传给Detail组件</span></span><br><span class="line"><span class="comment">// props:true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//第三种写法：props值为函数，该函数返回的对象中每一组key-value都会通过props传给Detail组件</span></span><br><span class="line">props(route)&#123;</span><br><span class="line">   </span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">   </span><br><span class="line">id:route.query.id,</span><br><span class="line">title:route.query.title</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-的replace属性"><a href="#8-的replace属性" class="headerlink" title="8.的replace属性"></a>8.<router-link>的replace属性</h3><ol><li>作用：控制路由跳转时操作浏览器历史记录的模式 </li><li>浏览器的历史记录有两种写入方式：分别为push和replace，push是追加历史记录，replace是替换当前记录。路由跳转时候默认为push <li>如何开启replace模式：<router-link replace .......>News</router-link></li></li></ol><h3 id="9-编程式路由导航"><a href="#9-编程式路由导航" class="headerlink" title="9.编程式路由导航"></a>9.编程式路由导航</h3><ol><li>作用：不借助<router-link>实现路由跳转，让路由跳转更加灵活  </li><li>具体编码： </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//$router的两个API</span></span><br><span class="line">   <span class="built_in">this</span>.$router.push(&#123;</span><br><span class="line">   </span><br><span class="line">   name:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line">   params:&#123;</span><br><span class="line">   </span><br><span class="line">   id:xxx,</span><br><span class="line">   title:xxx</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;)</span><br><span class="line">   </span><br><span class="line">   <span class="built_in">this</span>.$router.replace(&#123;</span><br><span class="line">   </span><br><span class="line">   name:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line">   params:&#123;</span><br><span class="line">   </span><br><span class="line">   id:xxx,</span><br><span class="line">   title:xxx</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;)</span><br><span class="line">   <span class="built_in">this</span>.$router.forward() <span class="comment">//前进</span></span><br><span class="line">   <span class="built_in">this</span>.$router.back() <span class="comment">//后退</span></span><br><span class="line">   <span class="built_in">this</span>.$router.go() <span class="comment">//可前进也可后退</span></span><br></pre></td></tr></table></figure><h3 id="10-缓存路由组件"><a href="#10-缓存路由组件" class="headerlink" title="10.缓存路由组件"></a>10.缓存路由组件</h3><ol><li>作用：让不展示的路由组件保持挂载，不被销毁。  </li><li>具体编码： </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive include=<span class="string">&quot;News&quot;</span>&gt; </span><br><span class="line">       &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">   &lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure><h3 id="11-两个新的生命周期钩子"><a href="#11-两个新的生命周期钩子" class="headerlink" title="11.两个新的生命周期钩子"></a>11.两个新的生命周期钩子</h3><ol><li>作用：路由组件所独有的两个钩子，用于捕获路由组件的激活状态。 </li><li><p>具体名字： </p><ol> 2. activated路由组件被激活时触发。 2. deactivated路由组件失活时触发。 </ol> </li></ol><h3 id="12-路由守卫"><a href="#12-路由守卫" class="headerlink" title="12.路由守卫"></a>12.路由守卫</h3><ol><li>作用：对路由进行权限控制  </li><li>分类：全局守卫、独享守卫、组件内守卫  </li><li>全局守卫: </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//全局前置守卫：初始化时执行、每次路由切换前执行</span></span><br><span class="line">   router.beforeEach((to,from,next)=&gt;&#123;</span><br><span class="line">   </span><br><span class="line">   console.log(<span class="string">&#x27;beforeEach&#x27;</span>,to,from)</span><br><span class="line">   <span class="keyword">if</span>(to.meta.isAuth)&#123;</span><br><span class="line">    <span class="comment">//判断当前路由是否需要进行权限控制</span></span><br><span class="line">   <span class="keyword">if</span>(localStorage.getItem(<span class="string">&#x27;school&#x27;</span>) === <span class="string">&#x27;atguigu&#x27;</span>)&#123;</span><br><span class="line">    <span class="comment">//权限控制的具体规则</span></span><br><span class="line">   next() <span class="comment">//放行</span></span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">   </span><br><span class="line">   alert(<span class="string">&#x27;暂无权限查看&#x27;</span>)</span><br><span class="line">   <span class="comment">// next(&#123;name:&#x27;guanyu&#x27;&#125;)</span></span><br><span class="line">   &#125;</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">   </span><br><span class="line">   next() <span class="comment">//放行</span></span><br><span class="line">   &#125;</span><br><span class="line">   &#125;)</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//全局后置守卫：初始化时执行、每次路由切换后执行</span></span><br><span class="line">   router.afterEach((to,from)=&gt;&#123;</span><br><span class="line">   </span><br><span class="line">   console.log(<span class="string">&#x27;afterEach&#x27;</span>,to,from)</span><br><span class="line">   <span class="keyword">if</span>(to.meta.title)&#123;</span><br><span class="line">    </span><br><span class="line">   document.title = to.meta.title <span class="comment">//修改网页的title</span></span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">   </span><br><span class="line">   document.title = <span class="string">&#x27;vue_test&#x27;</span></span><br><span class="line">   &#125;</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure><ol><li>独享守卫:</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">beforeEnter(to,from,next)&#123;</span><br><span class="line">   </span><br><span class="line">   console.log(<span class="string">&#x27;beforeEnter&#x27;</span>,to,from)</span><br><span class="line">   <span class="keyword">if</span>(to.meta.isAuth)&#123;</span><br><span class="line">    <span class="comment">//判断当前路由是否需要进行权限控制</span></span><br><span class="line">   <span class="keyword">if</span>(localStorage.getItem(<span class="string">&#x27;school&#x27;</span>) === <span class="string">&#x27;atguigu&#x27;</span>)&#123;</span><br><span class="line">   </span><br><span class="line">   next()</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">   </span><br><span class="line">   alert(<span class="string">&#x27;暂无权限查看&#x27;</span>)</span><br><span class="line">   <span class="comment">// next(&#123;name:&#x27;guanyu&#x27;&#125;)</span></span><br><span class="line">   &#125;</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">   </span><br><span class="line">   next()</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><ol><li>组件内守卫：</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//进入守卫：通过路由规则，进入该组件时被调用</span></span><br><span class="line">   beforeRouteEnter (to, from, next) &#123;</span><br><span class="line">   </span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="comment">//离开守卫：通过路由规则，离开该组件时被调用</span></span><br><span class="line">   beforeRouteLeave (to, from, next) &#123;</span><br><span class="line">   </span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="13-路由器的两种工作模式"><a href="#13-路由器的两种工作模式" class="headerlink" title="13.路由器的两种工作模式"></a>13.路由器的两种工作模式</h3><ol><li>对于一个url来说，什么是hash值？—— #及其后面的内容就是hash值。 </li><li>hash值不会包含在 HTTP 请求中，即：hash值不会带给服务器。 </li><li><p>hash模式： </p><ol> 3. 地址中永远带着#号，不美观 。 3. 若以后将地址通过第三方手机app分享，若app校验严格，则地址会被标记为不合法。 3. 兼容性较好。 </ol>  </li><li><p>history模式： </p><ol> 7. 地址干净，美观 。 7. 兼容性和hash模式相比略差。 7. 应用部署上线时需要后端人员支持，解决刷新页面服务端404的问题。 </ol> </li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-1-说明&quot;&gt;&lt;a href=&quot;#1-1-说明&quot; class=&quot;headerlink&quot; title=&quot;1.1. 说明&quot;&gt;&lt;/a&gt;1.1. 说明&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;官方提供的用来实现SPA 的vue 插件 &lt;/li&gt;
&lt;li&gt;github: &lt;a href</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue高级" scheme="https://manamn.space/tags/Vue%E9%AB%98%E7%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>Vue高级系列（七）Vue-cli配置代理 - Ajax实战-demo3-GitHub用户查询-axios-pubsub</title>
    <link href="https://manamn.space/2022/10/26/Vue/%E9%AB%98%E7%BA%A7/Vue%E9%AB%98%E7%BA%A7%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%83%EF%BC%89Vue-cli%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86%20-%20Ajax%E5%AE%9E%E6%88%98-demo3-GitHub%E7%94%A8%E6%88%B7%E6%9F%A5%E8%AF%A2-axios-pubsub/"/>
    <id>https://manamn.space/2022/10/26/Vue/%E9%AB%98%E7%BA%A7/Vue%E9%AB%98%E7%BA%A7%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%83%EF%BC%89Vue-cli%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86%20-%20Ajax%E5%AE%9E%E6%88%98-demo3-GitHub%E7%94%A8%E6%88%B7%E6%9F%A5%E8%AF%A2-axios-pubsub/</id>
    <published>2022-10-26T02:27:46.000Z</published>
    <updated>2022-10-26T03:35:52.365Z</updated>
    
    <content type="html"><![CDATA[<h2 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h2><p>在vue.config.js中添加如下配置：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">devServer:&#123;</span><br><span class="line">   </span><br><span class="line">  proxy:<span class="string">&quot;http://localhost:5000&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>说明：</p><ol><li>优点：配置简单，请求资源时直接发给前端（8080）即可。 </li><li>缺点：不能配置多个代理，不能灵活的控制请求是否走代理。 </li><li>工作方式：若按照上述配置代理，当请求了前端不存在的资源时，那么该请求会转发给服务器 （优先匹配前端资源）</li></ol><h2 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h2><p> 编写vue.config.js配置具体代理规则：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span>.<span class="keyword">exports</span> = &#123;</span><br><span class="line">   </span><br><span class="line">devServer: &#123;</span><br><span class="line">   </span><br><span class="line">      proxy: &#123;</span><br><span class="line">   </span><br><span class="line">      <span class="string">&#x27;/api1&#x27;</span>: &#123;</span><br><span class="line">   <span class="comment">// 匹配所有以 &#x27;/api1&#x27;开头的请求路径</span></span><br><span class="line">        target: <span class="string">&#x27;http://localhost:5000&#x27;</span>,<span class="comment">// 代理目标的基础路径</span></span><br><span class="line">        changeOrigin: <span class="literal">true</span>,</span><br><span class="line">        pathRewrite: &#123;</span><br><span class="line">   <span class="string">&#x27;^/api1&#x27;</span>: <span class="string">&#x27;&#x27;</span>&#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">&#x27;/api2&#x27;</span>: &#123;</span><br><span class="line">   <span class="comment">// 匹配所有以 &#x27;/api2&#x27;开头的请求路径</span></span><br><span class="line">        target: <span class="string">&#x27;http://localhost:5001&#x27;</span>,<span class="comment">// 代理目标的基础路径</span></span><br><span class="line">        changeOrigin: <span class="literal">true</span>,</span><br><span class="line">        pathRewrite: &#123;</span><br><span class="line">   <span class="string">&#x27;^/api2&#x27;</span>: <span class="string">&#x27;&#x27;</span>&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   changeOrigin设置为true时，服务器收到的请求头中的host为：localhost:5000</span></span><br><span class="line"><span class="comment">   changeOrigin设置为false时，服务器收到的请求头中的host为：localhost:8080</span></span><br><span class="line"><span class="comment">   changeOrigin默认值为true</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>说明：</p><ol><li>优点：可以配置多个代理，且可以灵活的控制请求是否走代理。 </li><li>缺点：配置略微繁琐，请求资源时必须加前缀。</li></ol><p>界面拆分 <img src="https://img-blog.csdnimg.cn/20210223154606734.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt="img"></p><h2 id="index-html"><a href="#index-html" class="headerlink" title="index.html"></a>index.html</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;utf-8&quot;</span>&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width,initial-scale=1.0&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;demo_ajax&lt;/title&gt;</span><br><span class="line">    &lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;./static/users_page/bootstrap.css&quot;</span>&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;div id=<span class="string">&quot;app&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">    &lt;!-- built files will be auto injected --&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="App-vue"><a href="#App-vue" class="headerlink" title="App.vue"></a>App.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">    &lt;search /&gt;</span><br><span class="line">    &lt;users-main /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> Main from <span class="string">&quot;./components/Main.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Search from <span class="string">&quot;./components/Search.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">  components: &#123;</span><br><span class="line">      Search, UsersMain: Main &#125;, <span class="comment">//不能用main作为标签名，就换一个名字</span></span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="Search-vue"><a href="#Search-vue" class="headerlink" title="Search.vue"></a>Search.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;section class=<span class="string">&quot;jumbotron&quot;</span>&gt;</span><br><span class="line">    &lt;h3 class=<span class="string">&quot;jumbotron-heading&quot;</span>&gt;Search Github Users&lt;/h3&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;input type=<span class="string">&quot;text&quot;</span> placeholder=<span class="string">&quot;enter the name you search&quot;</span> /&gt;</span><br><span class="line">      &lt;button&gt;Search&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/section&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     &#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="Main-vue"><a href="#Main-vue" class="headerlink" title="Main.vue"></a>Main.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;row&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;card&quot;</span>&gt;</span><br><span class="line">      &lt;a href=<span class="string">&quot;https://github.com/reactjs&quot;</span> target=<span class="string">&quot;_blank&quot;</span>&gt;</span><br><span class="line">        &lt;img</span><br><span class="line">          src=<span class="string">&quot;https://avatars.githubusercontent.com/u/6412038?v=3&quot;</span></span><br><span class="line">          style=<span class="string">&quot;width: 100px&quot;</span></span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/a&gt;</span><br><span class="line">      &lt;p class=<span class="string">&quot;card-text&quot;</span>&gt;reactjs&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;card&quot;</span>&gt;</span><br><span class="line">      &lt;a href=<span class="string">&quot;https://github.com/reactjs&quot;</span> target=<span class="string">&quot;_blank&quot;</span>&gt;</span><br><span class="line">        &lt;img</span><br><span class="line">          src=<span class="string">&quot;https://avatars.githubusercontent.com/u/6412038?v=3&quot;</span></span><br><span class="line">          style=<span class="string">&quot;width: 100px&quot;</span></span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/a&gt;</span><br><span class="line">      &lt;p class=<span class="string">&quot;card-text&quot;</span>&gt;reactjs&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;card&quot;</span>&gt;</span><br><span class="line">      &lt;a href=<span class="string">&quot;https://github.com/reactjs&quot;</span> target=<span class="string">&quot;_blank&quot;</span>&gt;</span><br><span class="line">        &lt;img</span><br><span class="line">          src=<span class="string">&quot;https://avatars.githubusercontent.com/u/6412038?v=3&quot;</span></span><br><span class="line">          style=<span class="string">&quot;width: 100px&quot;</span></span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/a&gt;</span><br><span class="line">      &lt;p class=<span class="string">&quot;card-text&quot;</span>&gt;reactjs&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;card&quot;</span>&gt;</span><br><span class="line">      &lt;a href=<span class="string">&quot;https://github.com/reactjs&quot;</span> target=<span class="string">&quot;_blank&quot;</span>&gt;</span><br><span class="line">        &lt;img</span><br><span class="line">          src=<span class="string">&quot;https://avatars.githubusercontent.com/u/6412038?v=3&quot;</span></span><br><span class="line">          style=<span class="string">&quot;width: 100px&quot;</span></span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/a&gt;</span><br><span class="line">      &lt;p class=<span class="string">&quot;card-text&quot;</span>&gt;reactjs&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;card&quot;</span>&gt;</span><br><span class="line">      &lt;a href=<span class="string">&quot;https://github.com/reactjs&quot;</span> target=<span class="string">&quot;_blank&quot;</span>&gt;</span><br><span class="line">        &lt;img</span><br><span class="line">          src=<span class="string">&quot;https://avatars.githubusercontent.com/u/6412038?v=3&quot;</span></span><br><span class="line">          style=<span class="string">&quot;width: 100px&quot;</span></span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/a&gt;</span><br><span class="line">      &lt;p class=<span class="string">&quot;card-text&quot;</span>&gt;reactjs&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     &#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.card &#123;</span><br><span class="line">     </span><br><span class="line">  <span class="type">float</span>: left;</span><br><span class="line">  width: <span class="number">33.333</span>%;</span><br><span class="line">  padding: .75rem;</span><br><span class="line">  margin-bottom: 2rem;</span><br><span class="line">  border: 1px solid #efefef;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card &gt; img &#123;</span><br><span class="line">     </span><br><span class="line">  margin-bottom: .75rem;</span><br><span class="line">  border-radius: 100px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card-text &#123;</span><br><span class="line">     </span><br><span class="line">  font-size: <span class="number">85</span>%;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="main-vue"><a href="#main-vue" class="headerlink" title="main.vue"></a>main.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2 v-<span class="keyword">if</span>=<span class="string">&quot;firstView&quot;</span>&gt;请输入用户名搜索&lt;/h2&gt;</span><br><span class="line">    &lt;h2 v-<span class="keyword">if</span>=<span class="string">&quot;loading&quot;</span>&gt;Loading...&lt;/h2&gt;</span><br><span class="line">    &lt;h2 v-<span class="keyword">if</span>=<span class="string">&quot;errorMsg&quot;</span>&gt;&#123;</span><br><span class="line">  &#123;errorMsg&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;row&quot;</span>&gt;</span><br><span class="line">      &lt;div class=<span class="string">&quot;card&quot;</span> v-<span class="keyword">for</span>=<span class="string">&quot;(user, index) in users&quot;</span> :key=<span class="string">&quot;index&quot;</span>&gt;</span><br><span class="line">        &lt;a :href=<span class="string">&quot;user.url&quot;</span> target=<span class="string">&quot;_blank&quot;</span>&gt;</span><br><span class="line">          &lt;img</span><br><span class="line">            :src=<span class="string">&quot;user.avatar_url&quot;</span></span><br><span class="line">            style=<span class="string">&quot;width: 100px&quot;</span></span><br><span class="line">          /&gt;</span><br><span class="line">        &lt;/a&gt;</span><br><span class="line">        &lt;p class=<span class="string">&quot;card-text&quot;</span>&gt;&#123;</span><br><span class="line">  &#123;user.name&#125;&#125;&lt;/p&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">  data() &#123;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="comment">// 界面有四个状态</span></span><br><span class="line">      firstView: <span class="literal">true</span>,</span><br><span class="line">      loading: <span class="literal">false</span>,</span><br><span class="line">      users: <span class="literal">null</span>, <span class="comment">//[&#123;url:&#x27;&#x27;, avatar_url: &#x27;&#x27;, name: &#x27;&#x27;&#125;]</span></span><br><span class="line">      errorMsg: <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>输入关键字点击搜索，界面发生变化</p><h2 id="Search-vue-1"><a href="#Search-vue-1" class="headerlink" title="Search.vue"></a>Search.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;section class=<span class="string">&quot;jumbotron&quot;</span>&gt;</span><br><span class="line">    &lt;h3 class=<span class="string">&quot;jumbotron-heading&quot;</span>&gt;Search Github Users&lt;/h3&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;input</span><br><span class="line">        type=<span class="string">&quot;text&quot;</span></span><br><span class="line">        placeholder=<span class="string">&quot;enter the name you search&quot;</span></span><br><span class="line">        v-model=<span class="string">&quot;searchName&quot;</span></span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;button <span class="meta">@click</span>=<span class="string">&quot;search&quot;</span>&gt;Search&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/section&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> PubSub from <span class="string">&quot;pubsub-js&quot;</span>;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">  data() &#123;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">      searchName: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">     </span><br><span class="line">    search() &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="type">const</span> <span class="variable">searchName</span> <span class="operator">=</span> <span class="built_in">this</span>.searchName.trim();</span><br><span class="line">      <span class="keyword">if</span> (searchName) &#123;</span><br><span class="line">     </span><br><span class="line">        <span class="comment">// 发布搜索的消息</span></span><br><span class="line">        PubSub.publish(<span class="string">&quot;search&quot;</span>, searchName);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="Main-vue-1"><a href="#Main-vue-1" class="headerlink" title="Main.vue"></a>Main.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2 v-<span class="keyword">if</span>=<span class="string">&quot;firstView&quot;</span>&gt;请输入用户名搜索&lt;/h2&gt;</span><br><span class="line">    &lt;h2 v-<span class="keyword">if</span>=<span class="string">&quot;loading&quot;</span>&gt;Loading...&lt;/h2&gt;</span><br><span class="line">    &lt;h2 v-<span class="keyword">if</span>=<span class="string">&quot;errorMsg&quot;</span>&gt;&#123;</span><br><span class="line">  &#123; errorMsg &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;row&quot;</span> v-<span class="keyword">else</span>&gt;</span><br><span class="line">      &lt;div class=<span class="string">&quot;card&quot;</span> v-<span class="keyword">for</span>=<span class="string">&quot;(user, index) in users&quot;</span> :key=<span class="string">&quot;index&quot;</span>&gt;</span><br><span class="line">        &lt;a :href=<span class="string">&quot;user.url&quot;</span> target=<span class="string">&quot;_blank&quot;</span>&gt;</span><br><span class="line">          &lt;img :src=<span class="string">&quot;user.avatar_url&quot;</span> style=<span class="string">&quot;width: 100px&quot;</span> /&gt;</span><br><span class="line">        &lt;/a&gt;</span><br><span class="line">        &lt;p class=<span class="string">&quot;card-text&quot;</span>&gt;&#123;</span><br><span class="line">  &#123; user.name &#125;&#125;&lt;/p&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> PubSub from <span class="string">&quot;pubsub-js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> axios from <span class="string">&quot;axios&quot;</span>;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">  data() &#123;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="comment">// 界面有四个状态</span></span><br><span class="line">      firstView: <span class="literal">true</span>,</span><br><span class="line">      loading: <span class="literal">false</span>,</span><br><span class="line">      users: <span class="literal">null</span>, <span class="comment">//[&#123;url:&#x27;&#x27;, avatar_url: &#x27;&#x27;, name: &#x27;&#x27;&#125;]</span></span><br><span class="line">      errorMsg: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">     </span><br><span class="line">    <span class="comment">// 订阅搜索的消息</span></span><br><span class="line">    PubSub.subscribe(<span class="string">&quot;search&quot;</span>, (msg, searchName) =&gt; &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="comment">// 说明需要发ajax请求搜索</span></span><br><span class="line">      <span class="type">const</span> <span class="variable">url</span> <span class="operator">=</span> `https:<span class="comment">//api.github.com/search/users?q=$&#123; searchName&#125;`;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//更新状态（请求中）</span></span><br><span class="line">      <span class="built_in">this</span>.firstView = <span class="literal">false</span>;</span><br><span class="line">      <span class="built_in">this</span>.loading = <span class="literal">true</span>;</span><br><span class="line">      <span class="built_in">this</span>.users = <span class="literal">null</span>;</span><br><span class="line">      <span class="built_in">this</span>.errorMsg = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 发ajax状态</span></span><br><span class="line">      axios</span><br><span class="line">        .get(url)</span><br><span class="line">        .then((response) =&gt; &#123;</span><br><span class="line">     </span><br><span class="line">          <span class="type">const</span> <span class="variable">result</span> <span class="operator">=</span> response.data;</span><br><span class="line">          <span class="type">const</span> <span class="variable">users</span> <span class="operator">=</span> result.items.map((item) =&gt; (&#123;</span><br><span class="line">     </span><br><span class="line">            url: item.html_url,</span><br><span class="line">            avatar_url: item.avatar_url,</span><br><span class="line">            name: item.login,</span><br><span class="line">          &#125;));</span><br><span class="line">          <span class="comment">// 成功， 更新状态（成功）</span></span><br><span class="line">          <span class="built_in">this</span>.loading = <span class="literal">false</span>;</span><br><span class="line">          <span class="built_in">this</span>.users = users;</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="keyword">catch</span>((error) =&gt; &#123;</span><br><span class="line">     </span><br><span class="line">          <span class="comment">// 失败， 更新状态（失败）</span></span><br><span class="line">          <span class="built_in">this</span>.loading = <span class="literal">false</span>;</span><br><span class="line">          <span class="built_in">this</span>.errorMsg = <span class="string">&quot;请求失败&quot;</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/2021022317335093.gif#pic_center" alt="img"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;方法一&quot;&gt;&lt;a href=&quot;#方法一&quot; class=&quot;headerlink&quot; title=&quot;方法一&quot;&gt;&lt;/a&gt;方法一&lt;/h2&gt;&lt;p&gt;在vue.config.js中添加如下配置：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue高级" scheme="https://manamn.space/tags/Vue%E9%AB%98%E7%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>Vue高级系列（六）组件间通信props</title>
    <link href="https://manamn.space/2022/10/26/Vue/%E9%AB%98%E7%BA%A7/Vue%E9%AB%98%E7%BA%A7%E7%B3%BB%E5%88%97%EF%BC%88%E5%85%AD%EF%BC%89%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1props/"/>
    <id>https://manamn.space/2022/10/26/Vue/%E9%AB%98%E7%BA%A7/Vue%E9%AB%98%E7%BA%A7%E7%B3%BB%E5%88%97%EF%BC%88%E5%85%AD%EF%BC%89%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1props/</id>
    <published>2022-10-26T02:27:24.000Z</published>
    <updated>2022-10-26T03:15:08.250Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-1-组件间通信基本原则"><a href="#1-1-组件间通信基本原则" class="headerlink" title="1.1 组件间通信基本原则"></a>1.1 组件间通信基本原则</h2><ol><li>不要在子组件中直接修改父组件的状态数据 </li><li>数据在哪, 更新数据的行为(函数)就应该定义在哪</li></ol><h2 id="1-2-vue-组件间通信方式"><a href="#1-2-vue-组件间通信方式" class="headerlink" title="1.2 vue 组件间通信方式"></a>1.2 vue 组件间通信方式</h2><ol><li>props </li><li>vue 的自定义事件 </li><li>消息订阅与发布(如: pubsub 库) </li><li>slot </li><li>vuex</li></ol><h2 id="2-1-使用组件标签时"><a href="#2-1-使用组件标签时" class="headerlink" title="2.1 使用组件标签时"></a>2.1 使用组件标签时</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;my-component name=<span class="string">&#x27;tom&#x27;</span> :age=<span class="string">&#x27;3&#x27;</span> :set-name=<span class="string">&#x27;setName&#x27;</span>&gt;&lt;/my-component&gt;</span><br></pre></td></tr></table></figure><h2 id="2-2-定义MyComponent-时"><a href="#2-2-定义MyComponent-时" class="headerlink" title="2.2 定义MyComponent 时"></a>2.2 定义MyComponent 时</h2><ol><li>在组件内声明所有的props </li><li>方式一: 只指定名称</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">props: [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;setName&#x27;</span>]</span><br></pre></td></tr></table></figure><ol><li>方式二: 指定名称和类型</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">   </span><br><span class="line">name: String,</span><br><span class="line">age: Number,</span><br><span class="line">setNmae: Function</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>方式三: 指定名称/类型/必要性/默认值</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">   </span><br><span class="line">name: &#123;</span><br><span class="line">   type: String, required: <span class="literal">true</span>, <span class="keyword">default</span>:xxx&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-3-注意"><a href="#2-3-注意" class="headerlink" title="2.3 注意"></a>2.3 注意</h2><ol><li>此方式用于父组件向子组件传递数据 </li><li>所有标签属性都会成为组件对象的属性, 模板页面可以直接引用 </li><li>问题: a. 如果需要向非子后代传递数据必须多层逐层传递 b. 兄弟组件间也不能直接props 通信, 必须借助父组件才可以</li></ol><h2 id="3-1-绑定事件监听"><a href="#3-1-绑定事件监听" class="headerlink" title="3.1 绑定事件监听"></a>3.1 绑定事件监听</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方式一: 通过v-on 绑定</span></span><br><span class="line"><span class="meta">@delete_todo</span>=<span class="string">&quot;deleteTodo&quot;</span></span><br><span class="line"><span class="comment">// 方式二: 通过$on()</span></span><br><span class="line"><span class="built_in">this</span>.$refs.xxx.$on(<span class="string">&#x27;delete_todo&#x27;</span>, function (todo) &#123;</span><br><span class="line">   </span><br><span class="line"><span class="built_in">this</span>.deleteTodo(todo)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="3-2-触发事件"><a href="#3-2-触发事件" class="headerlink" title="3.2 触发事件"></a>3.2 触发事件</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 触发事件(只能在父组件中接收)</span></span><br><span class="line"><span class="built_in">this</span>.$emit(eventName, data)</span><br></pre></td></tr></table></figure><h2 id="3-3-示例"><a href="#3-3-示例" class="headerlink" title="3.3 示例"></a>3.3 示例</h2><p>之前都是这样绑定事件监听 父组件传递给子组件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;TodoHeader :addTodo=<span class="string">&quot;addTodo&quot;</span> /&gt;</span><br></pre></td></tr></table></figure><p>变成</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;TodoHeader <span class="meta">@addTodo</span>=<span class="string">&quot;addTodo&quot;</span> /&gt;</span><br></pre></td></tr></table></figure><p>或者这样</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;TodoHeader ref=<span class="string">&quot;header&quot;</span> /&gt;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mounted()&#123;</span><br><span class="line">   <span class="comment">// 异步执行代码</span></span><br><span class="line"><span class="comment">// 给&lt;&gt;绑定addTodo事件监听</span></span><br><span class="line"><span class="comment">// this.$on(&#x27;addTodo&#x27;, this.addTodo) // 给App绑定监听，不对的</span></span><br><span class="line"><span class="built_in">this</span>.$refs.header.$on(<span class="string">&#x27;addTodo&#x27;</span>, <span class="built_in">this</span>.addTodo)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>子组件触发事件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.addTodo(todo); <span class="comment">// demo2中的代码</span></span><br></pre></td></tr></table></figure><p>变成</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$emit(<span class="string">&#x27;addTodo&#x27;</span>, todo)</span><br></pre></td></tr></table></figure><h2 id="3-4-注意"><a href="#3-4-注意" class="headerlink" title="3.4 注意"></a>3.4 注意</h2><ol><li>此方式只用于子组件向父组件发送消息(数据) </li><li>问题: 隔代组件或兄弟组件间通信此种方式不合适</li></ol><h2 id="3-5-总结"><a href="#3-5-总结" class="headerlink" title="3.5 总结"></a>3.5 总结</h2><ol><li>一种组件间通信的方式，适用于：子组件 ===&gt; 父组件  </li><li>使用场景：A是父组件，B是子组件，B想给A传数据，那么就要在A中给B绑定自定义事件（事件的回调在A中）。  </li><li><p>绑定自定义事件： </p><ol> 3.  第一种方式，在父组件中：<Demo @atguigu="test"/>或 <Demo v-on:atguigu="test"/>  3.  第二种方式，在父组件中：  </ol> </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;Demo ref=<span class="string">&quot;demo&quot;</span>/&gt;</span><br><span class="line">......</span><br><span class="line">mounted()&#123;</span><br><span class="line">   </span><br><span class="line">   <span class="built_in">this</span>.$refs.xxx.$on(<span class="string">&#x27;atguigu&#x27;</span>,<span class="built_in">this</span>.test)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>若想让自定义事件只能触发一次，可以使用once修饰符，或$once方法。  </li><li>触发自定义事件：this.$emit(‘atguigu’,数据)  </li><li>解绑自定义事件this.$off(‘atguigu’)  </li><li>组件上也可以绑定原生DOM事件，需要使用native修饰符。  </li><li>注意：通过this.$refs.xxx.$on(‘atguigu’,回调)绑定自定义事件时，回调要么配置在methods中，要么用箭头函数，否则this指向会出问题！ </li></ol><ol><li>一种组件间通信的方式，适用于任意组件间通信。  </li><li>安装全局事件总线： </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">......</span><br><span class="line">beforeCreate() &#123;</span><br><span class="line">   </span><br><span class="line">Vue.prototype.$bus = <span class="built_in">this</span> <span class="comment">//安装全局事件总线，$bus就是当前应用的vm</span></span><br><span class="line">&#125;,</span><br><span class="line">    ......</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>使用事件总线： （1）接收数据：A组件想接收数据，则在A组件中给$bus绑定自定义事件，事件的回调留在A组件自身。 </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">methods()&#123;</span><br><span class="line">   </span><br><span class="line">  demo(data)&#123;</span><br><span class="line">   ......&#125;</span><br><span class="line">&#125;</span><br><span class="line">......</span><br><span class="line">mounted() &#123;</span><br><span class="line">   </span><br><span class="line">  <span class="built_in">this</span>.$bus.$on(<span class="string">&#x27;xxxx&#x27;</span>,<span class="built_in">this</span>.demo)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp; &nbsp; &nbsp; &nbsp;（2）提供数据：this.$bus.$emit(‘xxxx’,数据)</p><ol><li>最好在beforeDestroy钩子中，用$off去解绑当前组件所用到的事件。</li></ol><p>main.js</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入Vue</span></span><br><span class="line"><span class="keyword">import</span> Vue from <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//引入App</span></span><br><span class="line"><span class="keyword">import</span> App from <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">//关闭Vue的生产提示</span></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建vm</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">el:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">render: h =&gt; h(App),</span><br><span class="line">beforeCreate() &#123;</span><br><span class="line">   </span><br><span class="line">Vue.prototype.$bus = <span class="built_in">this</span> <span class="comment">//安装全局事件总线</span></span><br><span class="line">&#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=<span class="string">&quot;student&quot;</span>&gt;</span><br><span class="line">&lt;h2&gt;学生姓名：&#123;</span><br><span class="line">  &#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;h2&gt;学生性别：&#123;</span><br><span class="line">  &#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;button <span class="meta">@click</span>=<span class="string">&quot;sendStudentName&quot;</span>&gt;把学生名给School组件&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">name:<span class="string">&#x27;Student&#x27;</span>,</span><br><span class="line">data() &#123;</span><br><span class="line">     </span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">name:<span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">sex:<span class="string">&#x27;男&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">mounted() &#123;</span><br><span class="line">     </span><br><span class="line"><span class="comment">// console.log(&#x27;Student&#x27;,this.x)</span></span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">     </span><br><span class="line">sendStudentName()&#123;</span><br><span class="line">     </span><br><span class="line"><span class="built_in">this</span>.$bus.$emit(<span class="string">&#x27;hello&#x27;</span>,<span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=<span class="string">&quot;less&quot;</span> scoped&gt;</span><br><span class="line">.student&#123;</span><br><span class="line">     </span><br><span class="line">background-color: pink;</span><br><span class="line">padding: 5px;</span><br><span class="line">margin-top: 30px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>School.vue</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=<span class="string">&quot;school&quot;</span>&gt;</span><br><span class="line">&lt;h2&gt;学校名称：&#123;</span><br><span class="line">  &#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;h2&gt;学校地址：&#123;</span><br><span class="line">  &#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">name:<span class="string">&#x27;School&#x27;</span>,</span><br><span class="line">data() &#123;</span><br><span class="line">     </span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">name:<span class="string">&#x27;尚硅谷&#x27;</span>,</span><br><span class="line">address:<span class="string">&#x27;北京&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">mounted() &#123;</span><br><span class="line">     </span><br><span class="line"><span class="comment">// console.log(&#x27;School&#x27;,this)</span></span><br><span class="line"><span class="built_in">this</span>.$bus.$on(<span class="string">&#x27;hello&#x27;</span>,(data)=&gt;&#123;</span><br><span class="line">     </span><br><span class="line">console.log(<span class="string">&#x27;我是School组件，收到了数据&#x27;</span>,data)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;,</span><br><span class="line">beforeDestroy() &#123;</span><br><span class="line">     </span><br><span class="line"><span class="built_in">this</span>.$bus.$off(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.school&#123;</span><br><span class="line">     </span><br><span class="line">background-color: skyblue;</span><br><span class="line">padding: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="5-1-订阅消息"><a href="#5-1-订阅消息" class="headerlink" title="5.1 订阅消息"></a>5.1 订阅消息</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PubSub.subscribe(<span class="string">&#x27;msg&#x27;</span>, function(msg, data)&#123;</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure><h2 id="5-2-发布消息"><a href="#5-2-发布消息" class="headerlink" title="5.2 发布消息"></a>5.2 发布消息</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PubSub.publish(<span class="string">&#x27;msg&#x27;</span>, data)</span><br></pre></td></tr></table></figure><h2 id="5-3-示例"><a href="#5-3-示例" class="headerlink" title="5.3 示例"></a>5.3 示例</h2><p>订阅消息（绑定事件监听）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> PubSub from <span class="string">&#x27;pubsub-js&#x27;</span></span><br><span class="line"></span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">   </span><br><span class="line">mounted () &#123;</span><br><span class="line">   </span><br><span class="line"><span class="comment">// 订阅消息(deleteTodo)</span></span><br><span class="line">PubSub.subscribe(<span class="string">&#x27;deleteTodo&#x27;</span>, (msg, index) =&gt; &#123;</span><br><span class="line">   </span><br><span class="line"><span class="built_in">this</span>.deleteTodo(index)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>发布消息（触发事件）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// this.deleteTodo(this.index)</span></span><br><span class="line"><span class="comment">// 发布消息(deleteTodo)</span></span><br><span class="line">PubSub.publish(<span class="string">&#x27;deleteTodo&#x27;</span>, <span class="built_in">this</span>.index)</span><br></pre></td></tr></table></figure><h2 id="5-4-注意"><a href="#5-4-注意" class="headerlink" title="5.4 注意"></a>5.4 注意</h2><ol><li>优点: 此方式可实现任意关系组件间通信(数据)</li></ol><h2 id="5-5-事件的2-个重要操作"><a href="#5-5-事件的2-个重要操作" class="headerlink" title="5.5 事件的2 个重要操作"></a>5.5 事件的2 个重要操作</h2><ol><li>绑定事件监听(订阅消息) 目标: 标签元素<button> 事件名(类型): click/focus 回调函数: function(event){} <li>触发事件(发布消息) DOM 事件: 用户在浏览器上对应的界面上做对应的操作 自定义: 编码手动触发</li></li></ol><h2 id="5-6-总结"><a href="#5-6-总结" class="headerlink" title="5.6 总结"></a>5.6 总结</h2><ol><li>一种组件间通信的方式，适用于任意组件间通信。  </li><li><p>使用步骤： </p><ol> 2.  安装pubsub：npm i pubsub-js  2.  引入: import pubsub from 'pubsub-js'  2.  接收数据：A组件想接收数据，则在A组件中订阅消息，订阅的回调留在A组件自身。  </ol> </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">methods()&#123;</span><br><span class="line">   </span><br><span class="line">  demo(data)&#123;</span><br><span class="line">   ......&#125;</span><br><span class="line">&#125;</span><br><span class="line">......</span><br><span class="line">mounted() &#123;</span><br><span class="line">   </span><br><span class="line">  <span class="built_in">this</span>.pid = pubsub.subscribe(<span class="string">&#x27;xxx&#x27;</span>,<span class="built_in">this</span>.demo) <span class="comment">//订阅消息</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>提供数据：pubsub.publish(‘xxx’,数据)  </li><li>最好在beforeDestroy钩子中，用PubSub.unsubscribe(pid)去取消订阅。 </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=<span class="string">&quot;school&quot;</span>&gt;</span><br><span class="line">&lt;h2&gt;学校名称：&#123;</span><br><span class="line">  &#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;h2&gt;学校地址：&#123;</span><br><span class="line">  &#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> pubsub from <span class="string">&#x27;pubsub-js&#x27;</span></span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">name:<span class="string">&#x27;School&#x27;</span>,</span><br><span class="line">data() &#123;</span><br><span class="line">     </span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">name:<span class="string">&#x27;尚硅谷&#x27;</span>,</span><br><span class="line">address:<span class="string">&#x27;北京&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">mounted() &#123;</span><br><span class="line">     </span><br><span class="line"><span class="comment">// console.log(&#x27;School&#x27;,this)</span></span><br><span class="line"><span class="comment">/* this.$bus.$on(&#x27;hello&#x27;,(data)=&gt;&#123;</span></span><br><span class="line"><span class="comment">console.log(&#x27;我是School组件，收到了数据&#x27;,data)</span></span><br><span class="line"><span class="comment">&#125;) */</span></span><br><span class="line"><span class="built_in">this</span>.pubId = pubsub.subscribe(<span class="string">&#x27;hello&#x27;</span>,(msgName,data)=&gt;&#123;</span><br><span class="line">     </span><br><span class="line">console.log(<span class="built_in">this</span>)</span><br><span class="line"><span class="comment">// console.log(&#x27;有人发布了hello消息，hello消息的回调执行了&#x27;,msgName,data)</span></span><br><span class="line">&#125;)</span><br><span class="line">&#125;,</span><br><span class="line">beforeDestroy() &#123;</span><br><span class="line">     </span><br><span class="line"><span class="comment">// this.$bus.$off(&#x27;hello&#x27;)</span></span><br><span class="line">pubsub.unsubscribe(<span class="built_in">this</span>.pubId)</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.school&#123;</span><br><span class="line">     </span><br><span class="line">background-color: skyblue;</span><br><span class="line">padding: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=<span class="string">&quot;student&quot;</span>&gt;</span><br><span class="line">&lt;h2&gt;学生姓名：&#123;</span><br><span class="line">  &#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;h2&gt;学生性别：&#123;</span><br><span class="line">  &#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;button <span class="meta">@click</span>=<span class="string">&quot;sendStudentName&quot;</span>&gt;把学生名给School组件&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> pubsub from <span class="string">&#x27;pubsub-js&#x27;</span></span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">name:<span class="string">&#x27;Student&#x27;</span>,</span><br><span class="line">data() &#123;</span><br><span class="line">     </span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">name:<span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">sex:<span class="string">&#x27;男&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">mounted() &#123;</span><br><span class="line">     </span><br><span class="line"><span class="comment">// console.log(&#x27;Student&#x27;,this.x)</span></span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">     </span><br><span class="line">sendStudentName()&#123;</span><br><span class="line">     </span><br><span class="line"><span class="comment">// this.$bus.$emit(&#x27;hello&#x27;,this.name)</span></span><br><span class="line">pubsub.publish(<span class="string">&#x27;hello&#x27;</span>,<span class="number">666</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=<span class="string">&quot;less&quot;</span> scoped&gt;</span><br><span class="line">.student&#123;</span><br><span class="line">     </span><br><span class="line">background-color: pink;</span><br><span class="line">padding: 5px;</span><br><span class="line">margin-top: 30px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="6-1-理解"><a href="#6-1-理解" class="headerlink" title="6.1 理解"></a>6.1 理解</h2><p>此方式用于父组件向子组件传递标签数据</p><h2 id="6-2-子组件-Child-vue"><a href="#6-2-子组件-Child-vue" class="headerlink" title="6.2 子组件: Child.vue"></a>6.2 子组件: Child.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;slot name=<span class="string">&quot;xxx&quot;</span>&gt;不确定的标签结构<span class="number">1</span>&lt;/slot&gt;</span><br><span class="line">&lt;div&gt;组件确定的标签结构&lt;/div&gt;</span><br><span class="line">&lt;slot name=<span class="string">&quot;yyy&quot;</span>&gt;不确定的标签结构<span class="number">2</span>&lt;/slot&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><h2 id="6-3-父组件-Parent-vue"><a href="#6-3-父组件-Parent-vue" class="headerlink" title="6.3 父组件: Parent.vue"></a>6.3 父组件: Parent.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;child&gt;</span><br><span class="line">&lt;div slot=<span class="string">&quot;xxx&quot;</span>&gt;xxx 对应的标签结构&lt;/div&gt;</span><br><span class="line">&lt;div slot=<span class="string">&quot;yyy&quot;</span>&gt;yyyy 对应的标签结构&lt;/div&gt;</span><br><span class="line">&lt;/child&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-1-组件间通信基本原则&quot;&gt;&lt;a href=&quot;#1-1-组件间通信基本原则&quot; class=&quot;headerlink&quot; title=&quot;1.1 组件间通信基本原则&quot;&gt;&lt;/a&gt;1.1 组件间通信基本原则&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;不要在子组件中直接修改父组件的状态数据 </summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue高级" scheme="https://manamn.space/tags/Vue%E9%AB%98%E7%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>Vue高级系列（五）Vue模块化实战-demo2-任务清单todoList</title>
    <link href="https://manamn.space/2022/10/26/Vue/%E9%AB%98%E7%BA%A7/Vue%E9%AB%98%E7%BA%A7%E7%B3%BB%E5%88%97%EF%BC%88%E4%BA%94%EF%BC%89Vue%E6%A8%A1%E5%9D%97%E5%8C%96%E5%AE%9E%E6%88%98-demo2-%E4%BB%BB%E5%8A%A1%E6%B8%85%E5%8D%95todoList/"/>
    <id>https://manamn.space/2022/10/26/Vue/%E9%AB%98%E7%BA%A7/Vue%E9%AB%98%E7%BA%A7%E7%B3%BB%E5%88%97%EF%BC%88%E4%BA%94%EF%BC%89Vue%E6%A8%A1%E5%9D%97%E5%8C%96%E5%AE%9E%E6%88%98-demo2-%E4%BB%BB%E5%8A%A1%E6%B8%85%E5%8D%95todoList/</id>
    <published>2022-10-26T02:26:48.000Z</published>
    <updated>2022-10-26T03:17:30.764Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20210131231841754.gif#pic_center" alt="img"></p><p><img src="https://img-blog.csdnimg.cn/20210131232330649.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt="img"> <img src="https://img-blog.csdnimg.cn/20210131232400747.png" alt="img"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;utf-8&quot;</span>&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width,initial-scale=1.0&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;vue_demo&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;div id=<span class="string">&quot;app&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">    &lt;!-- built files will be auto injected --&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="4-1-main-js"><a href="#4-1-main-js" class="headerlink" title="4.1 main.js"></a>4.1 main.js</h2><ul><li>引入基础css样式</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue from <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> App from <span class="string">&#x27;./App.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./base.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">    el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    components: &#123;</span><br><span class="line">    App &#125;,</span><br><span class="line">    template: <span class="string">&#x27;&lt;App/&gt;&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="4-2-App-vue"><a href="#4-2-App-vue" class="headerlink" title="4.2 App.vue"></a>4.2 App.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;todo-container&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;todo-wrap&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">      &lt;TodoHeader /&gt;</span><br><span class="line">      &lt;TodoList /&gt;</span><br><span class="line">      &lt;TodoFooter /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">import</span> TodoHeader from <span class="string">&#x27;./components/TodoHeader&#x27;</span>;</span><br><span class="line">  <span class="keyword">import</span> TodoList from <span class="string">&#x27;./components/TodoList&#x27;</span>;</span><br><span class="line">  <span class="keyword">import</span> TodoFooter from <span class="string">&#x27;./components/TodoFooter&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">    components:&#123;</span><br><span class="line">     </span><br><span class="line">      TodoHeader,</span><br><span class="line">      TodoList,</span><br><span class="line">      TodoFooter</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"><span class="comment">/*app*/</span></span><br><span class="line">.todo-container &#123;</span><br><span class="line">     </span><br><span class="line">  width: 600px;</span><br><span class="line">  margin: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line">.todo-container .todo-wrap &#123;</span><br><span class="line">     </span><br><span class="line">  padding: 10px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="4-3-TodoHeader-vue"><a href="#4-3-TodoHeader-vue" class="headerlink" title="4.3 TodoHeader.vue"></a>4.3 TodoHeader.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;todo-header&quot;</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;text&quot;</span> placeholder=<span class="string">&quot;请输入你的任务名称，按回车键确认&quot;</span>/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"><span class="comment">/*header*/</span></span><br><span class="line">.todo-header input &#123;</span><br><span class="line">     </span><br><span class="line">  width: 560px;</span><br><span class="line">  height: 28px;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  border: 1px solid #ccc;</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">  padding: 4px 7px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.todo-header input:focus &#123;</span><br><span class="line">     </span><br><span class="line">  outline: none;</span><br><span class="line">  border-color: rgba(<span class="number">82</span>, <span class="number">168</span>, <span class="number">236</span>, <span class="number">0.8</span>);</span><br><span class="line">  box-shadow: inset <span class="number">0</span> 1px 1px <span class="title function_">rgba</span><span class="params">(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.075</span>)</span>, <span class="number">0</span> <span class="number">0</span> 8px <span class="title function_">rgba</span><span class="params">(<span class="number">82</span>, <span class="number">168</span>, <span class="number">236</span>, <span class="number">0.6</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="4-4-TodoList-vue"><a href="#4-4-TodoList-vue" class="headerlink" title="4.4 TodoList.vue"></a>4.4 TodoList.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul class=<span class="string">&quot;todo-main&quot;</span>&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">      &lt;label&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;checkbox&quot;</span>/&gt;</span><br><span class="line">        &lt;span&gt;xxxxx&lt;/span&gt;</span><br><span class="line">      &lt;/label&gt;</span><br><span class="line">      &lt;button class=<span class="string">&quot;btn btn-danger&quot;</span> style=<span class="string">&quot;display:none&quot;</span>&gt;删除&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">      &lt;label&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;checkbox&quot;</span>/&gt;</span><br><span class="line">        &lt;span&gt;yyyyy&lt;/span&gt;</span><br><span class="line">      &lt;/label&gt;</span><br><span class="line">      &lt;button class=<span class="string">&quot;btn btn-danger&quot;</span> style=<span class="string">&quot;display:none&quot;</span>&gt;删除&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"><span class="comment">/*main*/</span></span><br><span class="line">.todo-main &#123;</span><br><span class="line">     </span><br><span class="line">  margin-left: 0px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 2px;</span><br><span class="line">  padding: 0px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.todo-empty &#123;</span><br><span class="line">     </span><br><span class="line">  height: 40px;</span><br><span class="line">  line-height: 40px;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  border-radius: 2px;</span><br><span class="line">  padding-left: 5px;</span><br><span class="line">  margin-top: 10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*item*/</span></span><br><span class="line">li &#123;</span><br><span class="line">     </span><br><span class="line">  list-style: none;</span><br><span class="line">  height: 36px;</span><br><span class="line">  line-height: 36px;</span><br><span class="line">  padding: <span class="number">0</span> 5px;</span><br><span class="line">  border-bottom: 1px solid #ddd;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">li label &#123;</span><br><span class="line">     </span><br><span class="line">  <span class="type">float</span>: left;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">li label li input &#123;</span><br><span class="line">     </span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  margin-right: 6px;</span><br><span class="line">  position: relative;</span><br><span class="line">  top: -1px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">li button &#123;</span><br><span class="line">     </span><br><span class="line">  <span class="type">float</span>: right;</span><br><span class="line">  display: none;</span><br><span class="line">  margin-top: 3px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">li:before &#123;</span><br><span class="line">     </span><br><span class="line">  content: initial;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">li:last-child &#123;</span><br><span class="line">     </span><br><span class="line">  border-bottom: none;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="4-5-TodoFooter-vue"><a href="#4-5-TodoFooter-vue" class="headerlink" title="4.5 TodoFooter.vue"></a>4.5 TodoFooter.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;todo-footer&quot;</span>&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">          &lt;input type=<span class="string">&quot;checkbox&quot;</span>/&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;span&gt;</span><br><span class="line">          &lt;span&gt;已完成<span class="number">0</span>&lt;/span&gt; / 全部<span class="number">2</span></span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">        &lt;button class=<span class="string">&quot;btn btn-danger&quot;</span>&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"><span class="comment">/*footer*/</span></span><br><span class="line">.todo-footer &#123;</span><br><span class="line">     </span><br><span class="line">  height: 40px;</span><br><span class="line">  line-height: 40px;</span><br><span class="line">  padding-left: 6px;</span><br><span class="line">  margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.todo-footer label &#123;</span><br><span class="line">     </span><br><span class="line">  display: inline-block;</span><br><span class="line">  margin-right: 20px;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.todo-footer label input &#123;</span><br><span class="line">     </span><br><span class="line">  position: relative;</span><br><span class="line">  top: -1px;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">  margin-right: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.todo-footer button &#123;</span><br><span class="line">     </span><br><span class="line">  <span class="type">float</span>: right;</span><br><span class="line">  margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="4-6-展示"><a href="#4-6-展示" class="headerlink" title="4.6 展示"></a>4.6 展示</h2><p><img src="https://img-blog.csdnimg.cn/20210201181144165.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt="img"></p><h2 id="5-1-动态显示初始化数据"><a href="#5-1-动态显示初始化数据" class="headerlink" title="5.1 动态显示初始化数据"></a>5.1 动态显示初始化数据</h2><h3 id="App-vue"><a href="#App-vue" class="headerlink" title="App.vue"></a>App.vue</h3><p>定义数据：数组 todos {title, complete}</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;todo-container&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;todo-wrap&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">      &lt;TodoHeader /&gt;</span><br><span class="line">      &lt;TodoList :todos=<span class="string">&quot;todos&quot;</span> /&gt;</span><br><span class="line">      &lt;TodoFooter /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">import</span> TodoHeader from <span class="string">&#x27;./components/TodoHeader&#x27;</span>;</span><br><span class="line">  <span class="keyword">import</span> TodoList from <span class="string">&#x27;./components/TodoList&#x27;</span>;</span><br><span class="line">  <span class="keyword">import</span> TodoFooter from <span class="string">&#x27;./components/TodoFooter&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">    data()&#123;</span><br><span class="line">     </span><br><span class="line">      <span class="keyword">return</span>&#123;</span><br><span class="line">     </span><br><span class="line">        todos: [</span><br><span class="line">          &#123;</span><br><span class="line">      title: <span class="string">&#x27;吃饭&#x27;</span>, complete: <span class="literal">true</span> &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">      title: <span class="string">&#x27;睡觉&#x27;</span>, complete: <span class="literal">false</span> &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">      title: <span class="string">&#x27;敲代码&#x27;</span>, complete: <span class="literal">true</span> &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components:&#123;</span><br><span class="line">     </span><br><span class="line">      TodoHeader,</span><br><span class="line">      TodoList,</span><br><span class="line">      TodoFooter</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="TodoList-vue"><a href="#TodoList-vue" class="headerlink" title="TodoList.vue"></a>TodoList.vue</h3><p>接收数据，v-for遍历数组</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul class=<span class="string">&quot;todo-main&quot;</span>&gt;</span><br><span class="line">    &lt;TodoItem v-<span class="keyword">for</span>=<span class="string">&quot;(todo, index) in todos&quot;</span> :key=<span class="string">&quot;index&quot;</span> :todo=<span class="string">&quot;todo&quot;</span>/&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> TodoItem from <span class="string">&#x27;./TodoItem&#x27;</span>;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">  props: &#123;</span><br><span class="line">     </span><br><span class="line">    todos: Array</span><br><span class="line">  &#125;,</span><br><span class="line">  components:&#123;</span><br><span class="line">     </span><br><span class="line">    TodoItem</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="TodoItem-vue"><a href="#TodoItem-vue" class="headerlink" title="TodoItem.vue"></a>TodoItem.vue</h3><p>得到数据，双向绑定</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">      &lt;input type=<span class="string">&quot;checkbox&quot;</span> v-model=<span class="string">&quot;todo.complete&quot;</span> /&gt;</span><br><span class="line">      &lt;span&gt;&#123;</span><br><span class="line">  &#123;todo.title&#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;button class=<span class="string">&quot;btn btn-danger&quot;</span> style=<span class="string">&quot;display:none&quot;</span>&gt;删除&lt;/button&gt;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">  props:&#123;</span><br><span class="line">     </span><br><span class="line">    todo: Object,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="展示"><a href="#展示" class="headerlink" title="展示"></a>展示</h3><p><img src="https://img-blog.csdnimg.cn/20210202163426842.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt="img"></p><h2 id="5-2-动态交互——首部添加操作"><a href="#5-2-动态交互——首部添加操作" class="headerlink" title="5.2 动态交互——首部添加操作"></a>5.2 动态交互——首部添加操作</h2><h3 id="App-vue-1"><a href="#App-vue-1" class="headerlink" title="App.vue"></a>App.vue</h3><p>定义添加addTodo函数</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;TodoHeader :addTodo=<span class="string">&quot;addTodo&quot;</span> /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">    methods:&#123;</span><br><span class="line">     </span><br><span class="line">      addTodo(todo)&#123;</span><br><span class="line">     </span><br><span class="line">        <span class="built_in">this</span>.todos.unshift(todo);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="TodoHeader-vue"><a href="#TodoHeader-vue" class="headerlink" title="TodoHeader.vue"></a>TodoHeader.vue</h3><p>v-model双向绑定数据 定义add鼠标点击事件函数</p><ol><li>检查输入合法性 </li><li>根据输入生成一个todo对象 </li><li>添加到todos </li><li>清除输入</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;todo-header&quot;</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;text&quot;</span> placeholder=<span class="string">&quot;请输入你的任务名称，按回车键确认&quot;</span> v-model=<span class="string">&quot;title&quot;</span> <span class="meta">@keyup</span>.enter=<span class="string">&quot;add&quot;</span>/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">  props:&#123;</span><br><span class="line">     </span><br><span class="line">    addTodo: Function</span><br><span class="line">  &#125;,</span><br><span class="line">  data()&#123;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">      title: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">     </span><br><span class="line">    add()&#123;</span><br><span class="line">     </span><br><span class="line">      <span class="comment">// 1. 检查输入合法性</span></span><br><span class="line">      <span class="type">const</span> <span class="variable">title</span> <span class="operator">=</span> <span class="built_in">this</span>.title.trim();</span><br><span class="line">      <span class="keyword">if</span>(!title)&#123;</span><br><span class="line">     </span><br><span class="line">        alert(<span class="string">&quot;请输入内容&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 2. 根据输入生成一个todo对象</span></span><br><span class="line">      <span class="type">const</span> <span class="variable">todo</span> <span class="operator">=</span> &#123;</span><br><span class="line">     title, complete:<span class="literal">false</span>&#125;;</span><br><span class="line">      <span class="comment">// 3. 添加到todos</span></span><br><span class="line">      <span class="built_in">this</span>.addTodo(todo);</span><br><span class="line">      <span class="comment">// 4. 清除输入</span></span><br><span class="line">      <span class="built_in">this</span>.title = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="5-3-动态交互——中间删除操作-选中变色"><a href="#5-3-动态交互——中间删除操作-选中变色" class="headerlink" title="5.3 动态交互——中间删除操作+选中变色"></a>5.3 动态交互——中间删除操作+选中变色</h2><p>选中变色 鼠标移动事件处理 改变背景颜色，图标显示隐藏 删除元素操作</p><h3 id="App-vue-2"><a href="#App-vue-2" class="headerlink" title="App.vue"></a>App.vue</h3><p>deleteTodo 删除数组中指定元素</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;TodoList :todos=<span class="string">&quot;todos&quot;</span> :deleteTodo=<span class="string">&quot;deleteTodo&quot;</span> /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">    methods:&#123;</span><br><span class="line">     </span><br><span class="line">      deleteTodo(index)&#123;</span><br><span class="line">     </span><br><span class="line">        <span class="built_in">this</span>.todos.splice(index, <span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="TodoList-vue-1"><a href="#TodoList-vue-1" class="headerlink" title="TodoList.vue"></a>TodoList.vue</h3><p>传递标签，删除函数</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul class=<span class="string">&quot;todo-main&quot;</span>&gt;</span><br><span class="line">    &lt;TodoItem v-<span class="keyword">for</span>=<span class="string">&quot;(todo, index) in todos&quot;</span> :key=<span class="string">&quot;index&quot;</span> :todo=<span class="string">&quot;todo&quot;</span> :index=<span class="string">&quot;index&quot;</span> :deleteTodo=<span class="string">&quot;deleteTodo&quot;</span> /&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> TodoItem from <span class="string">&#x27;./TodoItem&#x27;</span>;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">  props: &#123;</span><br><span class="line">     </span><br><span class="line">    todos: Array,</span><br><span class="line">    deleteTodo: Function</span><br><span class="line">  &#125;,</span><br><span class="line">  components:&#123;</span><br><span class="line">     </span><br><span class="line">    TodoItem</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="TodoItem-vue-1"><a href="#TodoItem-vue-1" class="headerlink" title="TodoItem.vue"></a>TodoItem.vue</h3><p>鼠标移动事件 函数操作背景颜色改变、图标显示隐藏 删除按钮点击事件 函数</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li <span class="meta">@mouseenter</span>=<span class="string">&quot;handleEnter(true)&quot;</span> <span class="meta">@mouseleave</span>=<span class="string">&quot;handleEnter(false)&quot;</span> :style=<span class="string">&quot;&#123;background: bgColor&#125;&quot;</span>&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">      &lt;input type=<span class="string">&quot;checkbox&quot;</span> v-model=<span class="string">&quot;todo.complete&quot;</span> /&gt;</span><br><span class="line">      &lt;span&gt;&#123;</span><br><span class="line">  &#123;todo.title&#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;button class=<span class="string">&quot;btn btn-danger&quot;</span> v-show=<span class="string">&quot;isShow&quot;</span> <span class="meta">@click</span>=<span class="string">&quot;deleteItem&quot;</span>&gt;删除&lt;/button&gt;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">    props:&#123;</span><br><span class="line">     </span><br><span class="line">      todo: Object,</span><br><span class="line">      index: Number,</span><br><span class="line">      deleteTodo: Function</span><br><span class="line">    &#125;,</span><br><span class="line">    data()&#123;</span><br><span class="line">     </span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">        bgColor: <span class="string">&#x27;white&#x27;</span>,</span><br><span class="line">        isShow: <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">     </span><br><span class="line">      handleEnter(isEnter)&#123;</span><br><span class="line">     </span><br><span class="line">        <span class="keyword">if</span>(isEnter)&#123;</span><br><span class="line">     </span><br><span class="line">          <span class="built_in">this</span>.bgColor=<span class="string">&#x27;#aaa&#x27;</span>;</span><br><span class="line">          <span class="built_in">this</span>.isShow = <span class="literal">true</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">     </span><br><span class="line">          <span class="built_in">this</span>.bgColor=<span class="string">&#x27;white&#x27;</span>;</span><br><span class="line">          <span class="built_in">this</span>.isShow = <span class="literal">false</span>; </span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      deleteItem()&#123;</span><br><span class="line">     </span><br><span class="line">        const &#123;</span><br><span class="line">     todo, index, deleteTodo&#125; = <span class="built_in">this</span>;</span><br><span class="line">        <span class="keyword">if</span>(window.confirm(`确定删除<span class="string">&quot;$&#123; todo.title&#125;&quot;</span>吗`))&#123;</span><br><span class="line">     </span><br><span class="line">          deleteTodo(index);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="5-4-动态交互——底部全选-删除操作（重难点）"><a href="#5-4-动态交互——底部全选-删除操作（重难点）" class="headerlink" title="5.4 动态交互——底部全选 + 删除操作（重难点）"></a>5.4 动态交互——底部全选 + 删除操作（重难点）</h2><h3 id="App-vue-3"><a href="#App-vue-3" class="headerlink" title="App.vue"></a>App.vue</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;TodoFooter :todos=<span class="string">&quot;todos&quot;</span> :deleteCompleteTodos=<span class="string">&quot;deleteCompleteTodos&quot;</span> :selectAllTodos=<span class="string">&quot;selectAllTodos&quot;</span>/&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">    methods:&#123;</span><br><span class="line">     </span><br><span class="line">      addTodo(todo)&#123;</span><br><span class="line">     </span><br><span class="line">        <span class="built_in">this</span>.todos.unshift(todo);</span><br><span class="line">      &#125;,</span><br><span class="line">      deleteTodo(index)&#123;</span><br><span class="line">     </span><br><span class="line">        <span class="built_in">this</span>.todos.splice(index, <span class="number">1</span>);</span><br><span class="line">      &#125;,</span><br><span class="line">      deleteCompleteTodos()&#123;</span><br><span class="line">     </span><br><span class="line">        <span class="built_in">this</span>.todos = <span class="built_in">this</span>.todos.filter(todo =&gt; !todo.complete);</span><br><span class="line">      &#125;,</span><br><span class="line">      selectAllTodos(check)&#123;</span><br><span class="line">     </span><br><span class="line">        <span class="built_in">this</span>.todos.forEach(todo =&gt; todo.complete = check);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="TodoFooter-vue"><a href="#TodoFooter-vue" class="headerlink" title="TodoFooter.vue"></a>TodoFooter.vue</h3><p>熟练使用计算属性</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;todo-footer&quot;</span>&gt;</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">      &lt;input type=<span class="string">&quot;checkbox&quot;</span> v-model=<span class="string">&quot;isAllCheck&quot;</span> /&gt;</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;span&gt; </span><br><span class="line">      &lt;span&gt;已完成&#123;</span><br><span class="line">  &#123; completeSize &#125;&#125;&lt;/span&gt; / 全部&#123;</span><br><span class="line">  &#123; todos.length &#125;&#125; </span><br><span class="line">    &lt;/span&gt;</span><br><span class="line">    &lt;button class=<span class="string">&quot;btn btn-danger&quot;</span> v-show=<span class="string">&quot;completeSize&quot;</span> <span class="meta">@click</span>=<span class="string">&quot;deleteCompleteTodos&quot;</span>&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">  props: &#123;</span><br><span class="line">     </span><br><span class="line">    todos: Array,</span><br><span class="line">    deleteCompleteTodos: Function,</span><br><span class="line">    selectAllTodos: Function,</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">     </span><br><span class="line">    completeSize() &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.todos.reduce((preTotal, todo) =&gt; preTotal + (todo.complete?<span class="number">1</span>:<span class="number">0</span>), <span class="number">0</span>); </span><br><span class="line">    &#125;,</span><br><span class="line">    isAllCheck: &#123;</span><br><span class="line">     </span><br><span class="line">      get()&#123;</span><br><span class="line">     </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.completeSize===<span class="built_in">this</span>.todos.length &amp;&amp; <span class="built_in">this</span>.completeSize&gt;<span class="number">0</span></span><br><span class="line">      &#125;,</span><br><span class="line">      set(value)&#123;</span><br><span class="line">     </span><br><span class="line">        <span class="built_in">this</span>.selectAllTodos(value);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">     </span><br><span class="line">    deleteAll() &#123;</span><br><span class="line">     &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><ol><li>组件化编码流程：</li></ol><p>(1).拆分静态组件：组件要按照功能点拆分，命名不要与html元素冲突。</p><p>(2).实现动态组件：考虑好数据的存放位置，数据是一个组件在用，还是一些组件在用：</p><p>1).一个组件在用：放在组件自身即可。</p><p>2). 一些组件在用：放在他们共同的父组件上（状态提升）。</p><p>(3).实现交互：从绑定事件开始。</p><ol><li>props适用于：</li></ol><p>(1).父组件 ==&gt; 子组件 通信</p><p>(2).子组件 ==&gt; 父组件 通信（要求父先给子一个函数）</p><ol><li>使用v-model时要切记：v-model绑定的值不能是props传过来的值，因为props是不可以修改的！  </li><li>props传过来的若是对象类型的值，修改对象中的属性时Vue不会报错，但不推荐这样做。 </li></ol><ol><li>存储内容大小一般支持5MB左右（不同浏览器可能还不一样）  </li><li>浏览器端通过 Window.sessionStorage 和 Window.localStorage 属性来实现本地存储机制。  </li><li>相关API：  </li><li>xxxxxStorage.setItem(‘key’, ‘value’); 该方法接受一个键和值作为参数，会把键值对添加到存储中，如果键名存在，则更新其对应的值。  </li><li>xxxxxStorage.getItem(‘person’); </li></ol><p>该方法接受一个键名作为参数，返回键名对应的值。</p><ol><li>xxxxxStorage.removeItem(‘key’);</li></ol><p>该方法接受一个键名作为参数，并把该键名从存储中删除。</p><ol><li>xxxxxStorage.clear()</li></ol><p>该方法会清空存储中的所有数据。</p><ol><li><p>备注： </p><ol> 1. SessionStorage存储的内容会随着浏览器窗口关闭而消失。 1. LocalStorage存储的内容，需要手动清除才会消失。 1. xxxxxStorage.getItem(xxx)如果xxx对应的value获取不到，那么getItem的返回值是null。 1. JSON.parse(null)的结果依然是null。 </ol> </li></ol><h2 id="App-vue-4"><a href="#App-vue-4" class="headerlink" title="App.vue"></a>App.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">    data()&#123;</span><br><span class="line">     </span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">        <span class="comment">// 从localStorage读取todos</span></span><br><span class="line">        todos: JSON.parse(window.localStorage.getItem(<span class="string">&#x27;todos_key&#x27;</span>) || <span class="string">&#x27;[]&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// todos: [</span></span><br><span class="line">        <span class="comment">//   &#123;title: &#x27;吃饭&#x27;, complete: false&#125;,</span></span><br><span class="line">        <span class="comment">//   &#123;title: &#x27;睡觉&#x27;, complete: true&#125;,</span></span><br><span class="line">        <span class="comment">//   &#123;title: &#x27;敲代码&#x27;, complete: false&#125;</span></span><br><span class="line">        <span class="comment">// ]</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    watch: &#123;</span><br><span class="line">      <span class="comment">//监视</span></span><br><span class="line">      todos:&#123;</span><br><span class="line">     </span><br><span class="line">        deep: <span class="literal">true</span>, <span class="comment">// 深度监视</span></span><br><span class="line">        handler: function(value)&#123;</span><br><span class="line">     </span><br><span class="line">          <span class="comment">// 将todos最新的值的json数据，保存到localStorage</span></span><br><span class="line">          window.localStorage.setItem(<span class="string">&#x27;todos_key&#x27;</span>, JSON.stringify(value))</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,   </span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p> <a href="https://github.com/yk2012/vue_demo/tree/main/demo3_TodoList">项目代码 https://github.com/yk2012/vue_demo/tree/main/demo3_TodoList</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20210131231841754.gif#pic_center&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/202101312</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue高级" scheme="https://manamn.space/tags/Vue%E9%AB%98%E7%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>Vue高级系列（四）Vue模块化实战-demo1-动态评价页面</title>
    <link href="https://manamn.space/2022/10/26/Vue/%E9%AB%98%E7%BA%A7/Vue%E9%AB%98%E7%BA%A7%E7%B3%BB%E5%88%97%EF%BC%88%E5%9B%9B%EF%BC%89Vue%E6%A8%A1%E5%9D%97%E5%8C%96%E5%AE%9E%E6%88%98-demo1-%E5%8A%A8%E6%80%81%E8%AF%84%E4%BB%B7%E9%A1%B5%E9%9D%A2/"/>
    <id>https://manamn.space/2022/10/26/Vue/%E9%AB%98%E7%BA%A7/Vue%E9%AB%98%E7%BA%A7%E7%B3%BB%E5%88%97%EF%BC%88%E5%9B%9B%EF%BC%89Vue%E6%A8%A1%E5%9D%97%E5%8C%96%E5%AE%9E%E6%88%98-demo1-%E5%8A%A8%E6%80%81%E8%AF%84%E4%BB%B7%E9%A1%B5%E9%9D%A2/</id>
    <published>2022-10-26T02:26:26.000Z</published>
    <updated>2022-10-26T03:18:00.397Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/20210131201830276.gif#pic_center" alt="img">  <a href="https://github.com/yk2012/vue_demo/tree/main/demo2_Comments">项目代码：https://github.com/yk2012/vue_demo/tree/main/demo2_Comments</a></p><p><img src="https://img-blog.csdnimg.cn/20210131202336115.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt="img"> <img src="https://img-blog.csdnimg.cn/20210131202553423.png" alt="img"></p><p>在head标签里引入bootstrap.css文件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;utf-8&quot;</span>&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width,initial-scale=1.0&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;vue_demo&lt;/title&gt;</span><br><span class="line">    &lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;./static/css/bootstrap.css&quot;</span>&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;div id=<span class="string">&quot;app&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">    &lt;!-- built files will be auto injected --&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="4-1-main-js"><a href="#4-1-main-js" class="headerlink" title="4.1 main.js"></a>4.1 main.js</h2><ul><li>打包入口js文件，后期全部打包形成一个app.js在主页index.html中</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue from <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App from <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">    el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    components: &#123;</span><br><span class="line">   </span><br><span class="line">        App</span><br><span class="line">    &#125;,</span><br><span class="line">    template: <span class="string">&#x27;&lt;App/&gt;&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="4-2-App-vue"><a href="#4-2-App-vue" class="headerlink" title="4.2 App.vue"></a>4.2 App.vue</h2><ol><li>引入标签 import </li><li>映射组件标签 components </li><li>使用组件标签</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;header class=<span class="string">&quot;site-header jumbotron&quot;</span>&gt;</span><br><span class="line">      &lt;div class=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;row&quot;</span>&gt;</span><br><span class="line">          &lt;div class=<span class="string">&quot;col-xs-12&quot;</span>&gt;</span><br><span class="line">            &lt;h1&gt;请发表对Vue的评论&lt;/h1&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/header&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">      &lt;!-- *<span class="number">3</span>* 使用组件标签 --&gt;</span><br><span class="line">      &lt;Add /&gt;</span><br><span class="line">      &lt;List /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">// *1* 引入组件</span></span><br><span class="line">  <span class="keyword">import</span> Add from <span class="string">&#x27;./components/Add&#x27;</span></span><br><span class="line">  <span class="keyword">import</span> List from <span class="string">&#x27;./components/List&#x27;</span></span><br><span class="line"></span><br><span class="line">  export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">    <span class="comment">// *2* 映射组件标签</span></span><br><span class="line">    components: &#123;</span><br><span class="line">     </span><br><span class="line">      Add,</span><br><span class="line">      List</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="4-3-Add-vue"><a href="#4-3-Add-vue" class="headerlink" title="4.3 Add.vue"></a>4.3 Add.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;col-md-4&quot;</span>&gt;</span><br><span class="line">    &lt;form class=<span class="string">&quot;form-horizontal&quot;</span>&gt;</span><br><span class="line">      &lt;div class=<span class="string">&quot;form-group&quot;</span>&gt;</span><br><span class="line">        &lt;label&gt;用户名&lt;/label&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;text&quot;</span> class=<span class="string">&quot;form-control&quot;</span> placeholder=<span class="string">&quot;用户名&quot;</span>&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=<span class="string">&quot;form-group&quot;</span>&gt;</span><br><span class="line">        &lt;label&gt;评论内容&lt;/label&gt;</span><br><span class="line">        &lt;textarea class=<span class="string">&quot;form-control&quot;</span> rows=<span class="string">&quot;6&quot;</span> placeholder=<span class="string">&quot;评论内容&quot;</span>&gt;&lt;/textarea&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=<span class="string">&quot;form-group&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;col-sm-offset-2 col-sm-10&quot;</span>&gt;</span><br><span class="line">        &lt;button type=<span class="string">&quot;button&quot;</span> class=<span class="string">&quot;btn btn-default pull-right&quot;</span>&gt;提交&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="4-4-List-vue"><a href="#4-4-List-vue" class="headerlink" title="4.4 List.vue"></a>4.4 List.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;col-md-8&quot;</span>&gt;</span><br><span class="line">    &lt;h3 class=<span class="string">&quot;reply&quot;</span>&gt;评论回复：&lt;/h3&gt;</span><br><span class="line">    &lt;h2 style=<span class="string">&#x27;display: none&#x27;</span>&gt;暂无评论，点击左侧添加评论！！！&lt;/h2&gt;</span><br><span class="line">    &lt;ul class=<span class="string">&quot;list-group&quot;</span>&gt;</span><br><span class="line">      &lt;li class=<span class="string">&quot;list-group-item&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;handle&quot;</span>&gt;</span><br><span class="line">          &lt;a href=<span class="string">&quot;javascript:;&quot;</span>&gt;删除&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;p class=<span class="string">&quot;user&quot;</span>&gt;&lt;span &gt;xxx&lt;/span&gt;&lt;span&gt;说:&lt;/span&gt;&lt;/p&gt;</span><br><span class="line">        &lt;p class=<span class="string">&quot;centence&quot;</span>&gt;React不错!&lt;/p&gt;</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">      &lt;li class=<span class="string">&quot;list-group-item&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;handle&quot;</span>&gt;</span><br><span class="line">          &lt;a href=<span class="string">&quot;javascript:;&quot;</span>&gt;删除&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;p class=<span class="string">&quot;user&quot;</span>&gt;&lt;span &gt;yyy&lt;/span&gt;&lt;span&gt;说:&lt;/span&gt;&lt;/p&gt;</span><br><span class="line">        &lt;p class=<span class="string">&quot;centence&quot;</span>&gt;React有点难!&lt;/p&gt;</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.reply &#123;</span><br><span class="line">     </span><br><span class="line">  margin-top: 0px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">li &#123;</span><br><span class="line">     </span><br><span class="line">  transition: .5s;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.handle &#123;</span><br><span class="line">     </span><br><span class="line">  width: 40px;</span><br><span class="line">  border: 1px solid #ccc;</span><br><span class="line">  background: #fff;</span><br><span class="line">  position: absolute;</span><br><span class="line">  right: 10px;</span><br><span class="line">  top: 1px;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.handle a &#123;</span><br><span class="line">     </span><br><span class="line">  display: block;</span><br><span class="line">  text-decoration: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.list-group-item .centence &#123;</span><br><span class="line">     </span><br><span class="line">  padding: 0px 50px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.user &#123;</span><br><span class="line">     </span><br><span class="line">  font-size: 22px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="4-5-展示"><a href="#4-5-展示" class="headerlink" title="4.5 展示"></a>4.5 展示</h2><p><img src="https://img-blog.csdnimg.cn/2021013121260036.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt="img"></p><h2 id="5-1-动态显示初始化数据"><a href="#5-1-动态显示初始化数据" class="headerlink" title="5.1 动态显示初始化数据"></a>5.1 动态显示初始化数据</h2><ul><li>数据data：用户名+评论内容 </li><li>用数组存储 [] </li><li>数据放在App组件中</li></ul><h3 id="5-1-1-App-vue"><a href="#5-1-1-App-vue" class="headerlink" title="5.1.1 App.vue"></a>5.1.1 App.vue</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;header class=<span class="string">&quot;site-header jumbotron&quot;</span>&gt;</span><br><span class="line">      &lt;div class=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;row&quot;</span>&gt;</span><br><span class="line">          &lt;div class=<span class="string">&quot;col-xs-12&quot;</span>&gt;</span><br><span class="line">            &lt;h1&gt;请发表对Vue的评论&lt;/h1&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/header&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">      &lt;!-- *<span class="number">3</span>* 使用组件标签 --&gt;</span><br><span class="line">      &lt;add /&gt;</span><br><span class="line">      &lt;list :comments=<span class="string">&quot;comments&quot;</span> /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// *1* 引入组件</span></span><br><span class="line"><span class="keyword">import</span> Add from <span class="string">&#x27;./components/Add&#x27;</span></span><br><span class="line"><span class="keyword">import</span> List from <span class="string">&#x27;./components/List&#x27;</span></span><br><span class="line"></span><br><span class="line">  export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">    data()&#123;</span><br><span class="line">     </span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">        comments: [</span><br><span class="line">          &#123;</span><br><span class="line">     </span><br><span class="line">            name:<span class="string">&#x27;Bob&#x27;</span>,</span><br><span class="line">            content: <span class="string">&#x27;Vue so easy.&#x27;</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">     </span><br><span class="line">            name: <span class="string">&#x27;Cat&#x27;</span>,</span><br><span class="line">            content: <span class="string">&#x27;Vue so so.&#x27;</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// *2* 映射组件标签</span></span><br><span class="line">    components: &#123;</span><br><span class="line">     </span><br><span class="line">      Add,</span><br><span class="line">      List</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="5-1-2-List-vue"><a href="#5-1-2-List-vue" class="headerlink" title="5.1.2 List.vue"></a>5.1.2 List.vue</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;col-md-8&quot;</span>&gt;</span><br><span class="line">    &lt;h3 class=<span class="string">&quot;reply&quot;</span>&gt;评论回复：&lt;/h3&gt;</span><br><span class="line">    &lt;h2 style=<span class="string">&#x27;display: none&#x27;</span>&gt;暂无评论，点击左侧添加评论！！！&lt;/h2&gt;</span><br><span class="line">    &lt;ul class=<span class="string">&quot;list-group&quot;</span>&gt;</span><br><span class="line">      &lt;item v-<span class="keyword">for</span>=<span class="string">&quot;(comment, index) in comments&quot;</span> :key=<span class="string">&quot;index&quot;</span> :comment=<span class="string">&quot;comment&quot;</span> /&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> Item from <span class="string">&#x27;./Item.vue&#x27;</span></span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">  <span class="comment">//声明接收属性, 这个属性就会成为组件对象的属性</span></span><br><span class="line">  props: [<span class="string">&#x27;comments&#x27;</span>],</span><br><span class="line">  </span><br><span class="line">  components: &#123;</span><br><span class="line">      Item &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.reply &#123;</span><br><span class="line">     </span><br><span class="line">  margin-top: 0px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="5-1-3-Item-vue"><a href="#5-1-3-Item-vue" class="headerlink" title="5.1.3 Item.vue"></a>5.1.3 Item.vue</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li class=<span class="string">&quot;list-group-item&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;handle&quot;</span>&gt;</span><br><span class="line">      &lt;a href=<span class="string">&quot;javascript:;&quot;</span>&gt;删除&lt;/a&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;p class=<span class="string">&quot;user&quot;</span>&gt;&lt;span &gt;&#123;</span><br><span class="line">  &#123;comment.name&#125;&#125;&lt;/span&gt;&lt;span&gt;说:&lt;/span&gt;&lt;/p&gt;</span><br><span class="line">    &lt;p class=<span class="string">&quot;centence&quot;</span>&gt;&#123;</span><br><span class="line">  &#123;comment.content&#125;&#125;&lt;/p&gt;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">  props:&#123;</span><br><span class="line">      <span class="comment">// 指定属性名和属性值的类型</span></span><br><span class="line">    comment: Object,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">li &#123;</span><br><span class="line">     </span><br><span class="line">  transition: .5s;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.handle &#123;</span><br><span class="line">     </span><br><span class="line">  width: 40px;</span><br><span class="line">  border: 1px solid #ccc;</span><br><span class="line">  background: #fff;</span><br><span class="line">  position: absolute;</span><br><span class="line">  right: 10px;</span><br><span class="line">  top: 1px;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.handle a &#123;</span><br><span class="line">     </span><br><span class="line">  display: block;</span><br><span class="line">  text-decoration: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.list-group-item .centence &#123;</span><br><span class="line">     </span><br><span class="line">  padding: 0px 50px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.user &#123;</span><br><span class="line">     </span><br><span class="line">  font-size: 22px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="5-1-4-展示"><a href="#5-1-4-展示" class="headerlink" title="5.1.4 展示"></a>5.1.4 展示</h3><p><img src="https://img-blog.csdnimg.cn/20210131222612711.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt="img"></p><h2 id="5-2-动态交互——添加操作"><a href="#5-2-动态交互——添加操作" class="headerlink" title="5.2 动态交互——添加操作"></a>5.2 动态交互——添加操作</h2><h3 id="App-vue"><a href="#App-vue" class="headerlink" title="App.vue"></a>App.vue</h3><ul><li>数据在哪个组件，更新数据的行为（方法）就定义在哪个组件 </li><li>定义添加评论函数（方法） </li><li>传递给Add.vue</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;add :addComment=<span class="string">&quot;addComment &quot;</span>/&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">    methods:&#123;</span><br><span class="line">     </span><br><span class="line">      <span class="comment">// 添加评论</span></span><br><span class="line">      addComment(comment)&#123;</span><br><span class="line">     </span><br><span class="line">        <span class="built_in">this</span>.comments.unshift(comment);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="Add-vue"><a href="#Add-vue" class="headerlink" title="Add.vue"></a>Add.vue</h3><ul><li>给按钮添加事件 @click</li></ul><ol><li>检查输入的合法性 </li><li>根据输入的数据，封装成一个comment对象 </li><li>添加到comments中 </li><li>清除输入</li></ol><ul><li>从输入框拿数据 v-model </li><li>定义data </li><li>添加方法add</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;input type=<span class="string">&quot;text&quot;</span> class=<span class="string">&quot;form-control&quot;</span> placeholder=<span class="string">&quot;用户名&quot;</span> v-model=<span class="string">&quot;name&quot;</span>&gt;</span><br><span class="line">  &lt;textarea class=<span class="string">&quot;form-control&quot;</span> rows=<span class="string">&quot;6&quot;</span> placeholder=<span class="string">&quot;评论内容&quot;</span> v-model=<span class="string">&quot;content&quot;</span>&gt;&lt;/textarea&gt;</span><br><span class="line">  &lt;button type=<span class="string">&quot;button&quot;</span> class=<span class="string">&quot;btn btn-default pull-right&quot;</span> <span class="meta">@click</span>=<span class="string">&quot;add&quot;</span>&gt;提交&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">    props:&#123;</span><br><span class="line">     </span><br><span class="line">      addComment: &#123;</span><br><span class="line">      <span class="comment">//完整的写法（指定属性名/属性值类型/属性必要性）</span></span><br><span class="line">        type:Function,</span><br><span class="line">        required: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    data()&#123;</span><br><span class="line">      <span class="comment">// 要从页面拿数据，用v-model </span></span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">        name: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        content: <span class="string">&#x27;&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">     </span><br><span class="line">      add()&#123;</span><br><span class="line">     </span><br><span class="line">        <span class="comment">// 1. 检查输入的合法性</span></span><br><span class="line">        <span class="type">const</span> <span class="variable">name</span> <span class="operator">=</span> <span class="built_in">this</span>.name.trim();</span><br><span class="line">        <span class="type">const</span> <span class="variable">content</span> <span class="operator">=</span> <span class="built_in">this</span>.content.trim();</span><br><span class="line">        <span class="keyword">if</span>(!name || !content)&#123;</span><br><span class="line">     </span><br><span class="line">          alert(<span class="string">&quot;姓名和内容不能为空&quot;</span>);</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 2. 根据输入的数据，封装成一个comment对象</span></span><br><span class="line">        <span class="type">const</span> <span class="variable">comment</span> <span class="operator">=</span> &#123;</span><br><span class="line">     </span><br><span class="line">          name,</span><br><span class="line">          content</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// 3. 添加到comments中</span></span><br><span class="line">        <span class="built_in">this</span>.addComment(comment);</span><br><span class="line">        <span class="comment">// 4. 清除输入</span></span><br><span class="line">        <span class="built_in">this</span>.name=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        <span class="built_in">this</span>.content=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="5-3-动态交互——删除操作"><a href="#5-3-动态交互——删除操作" class="headerlink" title="5.3 动态交互——删除操作"></a>5.3 动态交互——删除操作</h2><h3 id="App-vue-1"><a href="#App-vue-1" class="headerlink" title="App.vue"></a>App.vue</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;list :comments=<span class="string">&quot;comments&quot;</span> :deleteComment=<span class="string">&quot;deleteComment&quot;</span> /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">    methods:&#123;</span><br><span class="line">     </span><br><span class="line">      deleteComment(index)&#123;</span><br><span class="line">     </span><br><span class="line">        <span class="built_in">this</span>.comments.splice(index, <span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="List-vue"><a href="#List-vue" class="headerlink" title="List.vue"></a>List.vue</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;col-md-8&quot;</span>&gt;</span><br><span class="line">    &lt;h3 class=<span class="string">&quot;reply&quot;</span>&gt;评论回复：&lt;/h3&gt;</span><br><span class="line">    &lt;h2 v-show=<span class="string">&quot;comments.length===0&quot;</span>&gt;暂无评论，点击左侧添加评论！！！&lt;/h2&gt;</span><br><span class="line">    &lt;ul class=<span class="string">&quot;list-group&quot;</span>&gt;</span><br><span class="line">      &lt;item v-<span class="keyword">for</span>=<span class="string">&quot;(comment, index) in comments&quot;</span> :key=<span class="string">&quot;index&quot;</span> :comment=<span class="string">&quot;comment&quot;</span> :deleteComment=<span class="string">&quot;deleteComment&quot;</span> :index=<span class="string">&quot;index&quot;</span> /&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> Item from <span class="string">&#x27;./Item.vue&#x27;</span></span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">  <span class="comment">//声明接收属性, 这个属性就会成为组件对象的属性</span></span><br><span class="line">  props: [<span class="string">&#x27;comments&#x27;</span>,<span class="string">&quot;deleteComment&quot;</span>],</span><br><span class="line"></span><br><span class="line">  components: &#123;</span><br><span class="line">      Item &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="Item-vue"><a href="#Item-vue" class="headerlink" title="Item.vue"></a>Item.vue</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li class=<span class="string">&quot;list-group-item&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;handle&quot;</span>&gt;</span><br><span class="line">      &lt;a href=<span class="string">&quot;javascript:;&quot;</span> <span class="meta">@click</span>=<span class="string">&quot;deleteItem&quot;</span>&gt;删除&lt;/a&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;p class=<span class="string">&quot;user&quot;</span>&gt;&lt;span &gt;&#123;</span><br><span class="line">  &#123;comment.name&#125;&#125;&lt;/span&gt;&lt;span&gt;说:&lt;/span&gt;&lt;/p&gt;</span><br><span class="line">    &lt;p class=<span class="string">&quot;centence&quot;</span>&gt;&#123;</span><br><span class="line">  &#123;comment.content&#125;&#125;&lt;/p&gt;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">  props:&#123;</span><br><span class="line">      <span class="comment">// 指定属性名和属性值的类型</span></span><br><span class="line">    comment: Object,</span><br><span class="line">    deleteComment: Function,</span><br><span class="line">    index: Number</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">     </span><br><span class="line">    deleteItem()&#123;</span><br><span class="line">     </span><br><span class="line">      const &#123;</span><br><span class="line">     comment, index, deleteComment&#125; = <span class="built_in">this</span>;</span><br><span class="line">      <span class="keyword">if</span>(window.confirm(`确定删除$&#123; comment.name&#125;吗？`))&#123;</span><br><span class="line">     </span><br><span class="line">        deleteComment(index);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p> <a href="https://github.com/yk2012/vue_demo/tree/main/demo2_Comments">项目代码：https://github.com/yk2012/vue_demo/tree/main/demo2_Comments</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20210131201830276.gif#pic_center&quot; alt=&quot;img&quot;&gt;  &lt;a href=&quot;https://github.com/yk2012/vue_demo/tree/main</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue高级" scheme="https://manamn.space/tags/Vue%E9%AB%98%E7%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>Vue高级系列（二）配置Vue脚手架-npm方法-vscode配置</title>
    <link href="https://manamn.space/2022/10/26/Vue/%E9%AB%98%E7%BA%A7/Vue%E9%AB%98%E7%BA%A7%E7%B3%BB%E5%88%97%EF%BC%88%E4%BA%8C%EF%BC%89%E9%85%8D%E7%BD%AEVue%E8%84%9A%E6%89%8B%E6%9E%B6-npm%E6%96%B9%E6%B3%95-vscode%E9%85%8D%E7%BD%AE/"/>
    <id>https://manamn.space/2022/10/26/Vue/%E9%AB%98%E7%BA%A7/Vue%E9%AB%98%E7%BA%A7%E7%B3%BB%E5%88%97%EF%BC%88%E4%BA%8C%EF%BC%89%E9%85%8D%E7%BD%AEVue%E8%84%9A%E6%89%8B%E6%9E%B6-npm%E6%96%B9%E6%B3%95-vscode%E9%85%8D%E7%BD%AE/</id>
    <published>2022-10-26T02:25:28.000Z</published>
    <updated>2022-10-26T03:15:54.169Z</updated>
    
    <content type="html"><![CDATA[<hr><p>layout:  post<br>title:   【Vue】高级系列（二）配置Vue脚手架-npm方法-vscode配置-vue.config.js-项目打包与发布-ESlint使用<br>date:   1-01-30 20:01:48 发布<br>author:  ‘zhangtao’<br>header-img: ‘img/post-bg-2015.jpg’<br>catalog:   false<br>tags:<br>-前端框架Vue<br>-vue<br>-js</p><hr><p>vue-cli是Vue官方提供的脚手架工具  <a href="https://cli.vuejs.org/zh/">中文网址：https://cli.vuejs.org/zh/</a>  <a href="https://github.com/vuejs/vue-cli">GitHub地址：https://github.com/vuejs/vue-cli</a>  <a href="https://github.com/vuejs/vue-cli/tree/v2">这里用的版本是这个：https://github.com/vuejs/vue-cli/tree/v2</a></p><p> <a href="https://github.com/yk2012/vue_demo/tree/main/demo1_HelloVue">项目代码：https://github.com/yk2012/vue_demo/tree/main/demo1_HelloVue</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g vue-cli</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210130184839711.png" alt="img"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init webpack vue_demo</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210130185007803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt="img"> 选择第三个后会有提示，选第一个会自动完成 <img src="https://img-blog.csdnimg.cn/20210130185047354.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt="img"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd vue_demo</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm intall</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run dev</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/202101301901257.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt="img"></p><p>访问网址结果 <img src="https://img-blog.csdnimg.cn/20210130190151158.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt="img"></p><p><img src="https://img-blog.csdnimg.cn/20210130190341109.png" alt="img"> 默认不是自动打开浏览器，可以设置成自动打开 <img src="https://img-blog.csdnimg.cn/20210130190428883.png" alt="img"> 源码目录，主要在这里面写代码 <img src="https://img-blog.csdnimg.cn/20210130190244885.png" alt="img"></p><p>主页 <img src="https://img-blog.csdnimg.cn/20210130190751356.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt="img"> 在src下组件文件夹里创建vue文件 <img src="https://img-blog.csdnimg.cn/20210130190946545.png" alt="img"></p><p>在vscode里输入vue然后按Tab键，自动生成一个vue模板 <img src="https://img-blog.csdnimg.cn/20210130190905341.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt="img"></p><h2 id="脚手架文件结构"><a href="#脚手架文件结构" class="headerlink" title="脚手架文件结构"></a>脚手架文件结构</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">├── node_modules </span><br><span class="line">├── <span class="keyword">public</span></span><br><span class="line">│   ├── favicon.ico: 页签图标</span><br><span class="line">│   └── index.html: 主页面</span><br><span class="line">├── src</span><br><span class="line">│   ├── assets: 存放静态资源</span><br><span class="line">│   │   └── logo.png</span><br><span class="line">│   │── component: 存放组件</span><br><span class="line">│   │   └── HelloWorld.vue</span><br><span class="line">│   │── App.vue: 汇总所有组件</span><br><span class="line">│   │── main.js: 入口文件</span><br><span class="line">├── .gitignore: git版本管制忽略的配置</span><br><span class="line">├── babel.config.js: babel的配置文件</span><br><span class="line">├── <span class="keyword">package</span>.json: 应用包配置文件 </span><br><span class="line">├── README.md: 应用描述文件</span><br><span class="line">├── <span class="keyword">package</span>-lock.json：包版本控制文件</span><br></pre></td></tr></table></figure><h2 id="关于不同版本的Vue"><a href="#关于不同版本的Vue" class="headerlink" title="关于不同版本的Vue"></a>关于不同版本的Vue</h2><ol><li><p>vue.js与vue.runtime.xxx.js的区别： </p><ol> 1. vue.js是完整版的Vue，包含：核心功能 + 模板解析器。 1. vue.runtime.xxx.js是运行版的Vue，只包含：核心功能；没有模板解析器。 </ol>  </li><li><p>因为vue.runtime.xxx.js没有模板解析器，所以不能使用template这个配置项，需要使用render函数接收到的createElement函数去指定具体内容。</p></li></ol><h2 id="vue-config-js配置文件"><a href="#vue-config-js配置文件" class="headerlink" title="vue.config.js配置文件"></a>vue.config.js配置文件</h2><ol><li>使用vue inspect &gt; output.js可以查看到Vue脚手架的默认配置。 </li><li>使用vue.config.js可以对脚手架进行个性化定制，详情见：<a href="https://cli.vuejs.org/zh">https://cli.vuejs.org/zh</a></li></ol><h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><p><img src="https://img-blog.csdnimg.cn/20210130191910817.png" alt="img"></p><h2 id="main-js"><a href="#main-js" class="headerlink" title="main.js"></a>main.js</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 入口js： 创建Vue实例</span></span><br><span class="line"><span class="comment">// 打包入口js文件，后期全部打包形成一个app.js在主页index.html中</span></span><br><span class="line"><span class="keyword">import</span> Vue from <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App from <span class="string">&#x27;./App&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">  el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  components: &#123;</span><br><span class="line">    <span class="comment">//将组件映射成标签</span></span><br><span class="line">    App <span class="comment">//App: App</span></span><br><span class="line">  &#125;,</span><br><span class="line">  template: <span class="string">&#x27;&lt;App/&gt;&#x27;</span> <span class="comment">//模板，最终会插入到el所匹配的页面中的div里</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="App-vue"><a href="#App-vue" class="headerlink" title="App.vue"></a>App.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;img class=<span class="string">&quot;logo&quot;</span> src=<span class="string">&quot;./assets/logo.png&quot;</span>&gt;</span><br><span class="line">    &lt;!-- <span class="number">3.</span> 使用组件标签 --&gt;</span><br><span class="line">    &lt;HelloWorld/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="comment">// 1. 引入组件</span></span><br><span class="line"><span class="keyword">import</span> HelloWorld from <span class="string">&#x27;./components/HelloWorld&#x27;</span></span><br><span class="line"></span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">  <span class="comment">// 2. 映射组件标签</span></span><br><span class="line">  components: &#123;</span><br><span class="line">     </span><br><span class="line">    HelloWorld</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .logo &#123;</span><br><span class="line">     </span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 300px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="HelloWorld-vue"><a href="#HelloWorld-vue" class="headerlink" title="HelloWorld.vue"></a>HelloWorld.vue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;hello&quot;</span>&gt;</span><br><span class="line">    &lt;p class=<span class="string">&quot;msg&quot;</span>&gt;&#123;</span><br><span class="line">  &#123;msg&#125;&#125;&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">      <span class="comment">//配置对象（与Vue一致）</span></span><br><span class="line">  data () &#123;</span><br><span class="line">      <span class="comment">// 必须写函数</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">      msg: <span class="string">&#x27;Hello Vue Component&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Add <span class="string">&quot;scoped&quot;</span> attribute to limit CSS to <span class="built_in">this</span> component only --&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  .msg &#123;</span><br><span class="line">     </span><br><span class="line">    color: red;</span><br><span class="line">    font-size: 50px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="网页自动更新"><a href="#网页自动更新" class="headerlink" title="网页自动更新"></a>网页自动更新</h2><p><img src="https://img-blog.csdnimg.cn/20210130200055193.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt="img">  <a href="https://github.com/yk2012/vue_demo/tree/main/demo1_HelloVue">项目代码：https://github.com/yk2012/vue_demo/tree/main/demo1_HelloVue</a></p><h2 id="5-1-打包"><a href="#5-1-打包" class="headerlink" title="5.1 打包"></a>5.1 打包</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure><p>在本地对当前项目进行编译打包 会创建一个dist文件夹</p><h2 id="5-2-项目发布"><a href="#5-2-项目发布" class="headerlink" title="5.2 项目发布"></a>5.2 项目发布</h2><p>装静态服务器</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g serve</span><br></pre></td></tr></table></figure><p>运行dist文件夹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">serve dist</span><br></pre></td></tr></table></figure><p>访问：<a href="http://localhost:5000">http://localhost:5000</a></p><h2 id="5-3-使用动态web服务器-tomcat-发布"><a href="#5-3-使用动态web服务器-tomcat-发布" class="headerlink" title="5.3 使用动态web服务器(tomcat)发布"></a>5.3 使用动态web服务器(tomcat)发布</h2><p>修改配置: webpack.prod.conf.js</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">   </span><br><span class="line">publicPath: <span class="string">&#x27;/xxx/&#x27;</span> <span class="comment">//打包文件夹的名称</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>重新打包:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure><p>修改dist 文件夹为项目名称: xxx 将xxx 拷贝到运行的tomcat 的webapps 目录下 访问: <a href="http://localhost:8080/xxx">http://localhost:8080/xxx</a></p><h2 id="6-1-说明"><a href="#6-1-说明" class="headerlink" title="6.1 说明"></a>6.1 说明</h2><ol><li>ESlint 是一个代码规范检查工具 </li><li>定义了很多特定的规则，一旦你的代码违背了某一规则，ESlint会作出非常有用的提示 </li><li>官方: <a href="http://eslint.org/">http://eslint.org/</a> </li><li>基本已经替代之前的JSLint了</li></ol><h2 id="6-2-提供的支持"><a href="#6-2-提供的支持" class="headerlink" title="6.2 提供的支持"></a>6.2 提供的支持</h2><ol><li>ES </li><li>JSX </li><li>style 检查 </li><li>自定义错误和提示</li></ol><h2 id="6-3-ESLint-提供以下几种校验"><a href="#6-3-ESLint-提供以下几种校验" class="headerlink" title="6.3 ESLint 提供以下几种校验"></a>6.3 ESLint 提供以下几种校验</h2><ol><li>语法错误校验 </li><li>不重要或丢失的标点符号，如分号 </li><li>没法运行到的代码块（使用过WebStorm 的童鞋应该了解） </li><li>未被使用的参数提醒 </li><li>确保样式的统一规则，如sass 或者less </li><li>检查变量的命名</li></ol><h2 id="3-4-规则的错误等级有三种"><a href="#3-4-规则的错误等级有三种" class="headerlink" title="3.4 规则的错误等级有三种"></a>3.4 规则的错误等级有三种</h2><p>0：关闭规则。 1：打开规则，并且作为一个警告（信息打印黄色字体） 2：打开规则，并且作为一个错误（信息打印红色字体）</p><h2 id="3-5-相关配置文件"><a href="#3-5-相关配置文件" class="headerlink" title="3.5 相关配置文件"></a>3.5 相关配置文件</h2><ol><li>.eslintrc.js : 全局规则配置文件</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;rules&#x27;</span>: &#123;</span><br><span class="line">   </span><br><span class="line"><span class="string">&#x27;no-new&#x27;</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>在js/vue 文件中修改局部规则</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* eslint-disable no-new */</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">el: <span class="string">&#x27;body&#x27;</span>,</span><br><span class="line">components: &#123;</span><br><span class="line">    App &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>.eslintignore: 指令检查忽略的文件</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*.js</span><br><span class="line">*.vue</span><br></pre></td></tr></table></figure><p> <a href="https://blog.csdn.net/weixin_44972008/article/details/114187511">建议使用cli 3.x 版本创建新项目 https://blog.csdn.net/weixin_44972008/article/details/1141875</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;hr&gt;
&lt;p&gt;layout:  post&lt;br&gt;title:   【Vue】高级系列（二）配置Vue脚手架-npm方法-vscode配置-vue.config.js-项目打包与发布-ESlint使用&lt;br&gt;date:   1-01-30 20:01:48 发布&lt;br&gt;autho</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue高级" scheme="https://manamn.space/tags/Vue%E9%AB%98%E7%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>Vue高级系列（一）Vue组件定义与使用</title>
    <link href="https://manamn.space/2022/10/26/Vue/%E9%AB%98%E7%BA%A7/Vue%E9%AB%98%E7%BA%A7%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%80%EF%BC%89Vue%E7%BB%84%E4%BB%B6%E5%AE%9A%E4%B9%89%E4%B8%8E%E4%BD%BF%E7%94%A8%20/"/>
    <id>https://manamn.space/2022/10/26/Vue/%E9%AB%98%E7%BA%A7/Vue%E9%AB%98%E7%BA%A7%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%80%EF%BC%89Vue%E7%BB%84%E4%BB%B6%E5%AE%9A%E4%B9%89%E4%B8%8E%E4%BD%BF%E7%94%A8%20/</id>
    <published>2022-10-26T02:24:05.000Z</published>
    <updated>2022-10-26T03:18:32.449Z</updated>
    
    <content type="html"><![CDATA[<p>传统方式编写应用</p><p>存在问题：</p><ol><li>依赖关系混乱，不好维护 </li><li>代码复用率不高</li></ol><p><img src="https://img-blog.csdnimg.cn/b26753ba40dd452eaf290fda21d216e6.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAWUvoj4w=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p><p>使用组件方式编写应用 <img src="https://img-blog.csdnimg.cn/99a2b1f2adc948a9a528caa25e9b3e8e.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAWUvoj4w=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p><p>组件的定义——实现应用中局部功能代码和资源的集合 <img src="https://img-blog.csdnimg.cn/13101ed355304697b06bdefcd29d7e54.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAWUvoj4w=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p><h2 id="1-1-使用组件的三大步骤"><a href="#1-1-使用组件的三大步骤" class="headerlink" title="1.1 使用组件的三大步骤"></a>1.1 使用组件的三大步骤</h2><ol><li>定义组件（创建组件） </li><li>注册组件 </li><li>使用组件（写组件标签）</li></ol><h2 id="1-2-如何定义一个组件"><a href="#1-2-如何定义一个组件" class="headerlink" title="1.2 如何定义一个组件"></a>1.2 如何定义一个组件</h2><p>使用Vue.extend(options)创建，其中options和new Vue（options)时传入的那个options几乎一样，但有以下区别</p><ol><li>不要写el——最终所有的组件都要经过一个vm的管理，由vm中的el决定服务哪个容器 </li><li>data必须写成函数——避免组件被复用时，数据存在引用关系</li></ol><p>【备注】使用tempalte可以配置组件结构</p><h2 id="1-3-如何注册组件"><a href="#1-3-如何注册组件" class="headerlink" title="1.3 如何注册组件"></a>1.3 如何注册组件</h2><ol><li>局部注册：new Vue的时候传入components选项 </li><li>全局注册：Vue.component(‘组件名’, 组件)</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span><br><span class="line">  &lt;title&gt;基本使用&lt;/title&gt;</span><br><span class="line">  &lt;script type=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;../js/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;!-- 准备好一个容器--&gt;</span><br><span class="line">  &lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line">    &lt;hello&gt;&lt;/hello&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;h1&gt;&#123;</span><br><span class="line">  &#123;msg&#125;&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;!-- 第三步：编写组件标签 --&gt;</span><br><span class="line">    &lt;school&gt;&lt;/school&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;!-- 第三步：编写组件标签 --&gt;</span><br><span class="line">    &lt;student&gt;&lt;/student&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;div id=<span class="string">&quot;root2&quot;</span>&gt;</span><br><span class="line">    &lt;hello&gt;&lt;/hello&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">  Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//第一步：创建school组件</span></span><br><span class="line">  <span class="type">const</span> <span class="variable">school</span> <span class="operator">=</span> Vue.extend(&#123;</span><br><span class="line">     </span><br><span class="line">    template: `</span><br><span class="line">&lt;div class=<span class="string">&quot;demo&quot;</span>&gt;</span><br><span class="line">&lt;h2&gt;学校名称：&#123;</span><br><span class="line">      &#123;schoolName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;h2&gt;学校地址：&#123;</span><br><span class="line">      &#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;button <span class="meta">@click</span>=<span class="string">&quot;showName&quot;</span>&gt;点我提示学校名&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">`,</span><br><span class="line">    <span class="comment">// el:&#x27;#root&#x27;, //组件定义时，一定不要写el配置项，因为最终所有的组件都要被一个vm管理，由vm决定服务于哪个容器。</span></span><br><span class="line">    data() &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">        schoolName: <span class="string">&#x27;尚硅谷&#x27;</span>,</span><br><span class="line">        address: <span class="string">&#x27;北京昌平&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">     </span><br><span class="line">      showName() &#123;</span><br><span class="line">     </span><br><span class="line">        alert(<span class="built_in">this</span>.schoolName)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//第一步：创建student组件</span></span><br><span class="line">  <span class="type">const</span> <span class="variable">student</span> <span class="operator">=</span> Vue.extend(&#123;</span><br><span class="line">     </span><br><span class="line">    template: `</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;h2&gt;学生姓名：&#123;</span><br><span class="line">      &#123;studentName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;h2&gt;学生年龄：&#123;</span><br><span class="line">      &#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">`,</span><br><span class="line">    data() &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">        studentName: <span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">        age: <span class="number">18</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//第一步：创建hello组件</span></span><br><span class="line">  <span class="type">const</span> <span class="variable">hello</span> <span class="operator">=</span> Vue.extend(&#123;</span><br><span class="line">     </span><br><span class="line">    template: `</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;h2&gt;你好啊！&#123;</span><br><span class="line">      &#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">`,</span><br><span class="line">    data() &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">        name: <span class="string">&#x27;Tom&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//第二步：全局注册组件</span></span><br><span class="line">  Vue.component(<span class="string">&#x27;hello&#x27;</span>, hello)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//创建vm</span></span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">     </span><br><span class="line">    el: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">     </span><br><span class="line">      msg: <span class="string">&#x27;你好啊！&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//第二步：注册组件（局部注册）</span></span><br><span class="line">    components: &#123;</span><br><span class="line">     </span><br><span class="line">      school,</span><br><span class="line">      student</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">     </span><br><span class="line">    el: <span class="string">&#x27;#root2&#x27;</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="1-4-注意点"><a href="#1-4-注意点" class="headerlink" title="1.4 注意点"></a>1.4 注意点</h2><ol><li>关于组件名</li></ol><p>一个单词组成 第一种写法（首字母小写）：school 第二种写法（首字母大写）：School</p><p>多个单词组成 第一种写法（kebab-case命名）：my-school 第二种写法（CamelCase命名）：MySchool（需要Vue脚手架支持）</p><p>备注 ① 组件名尽可能回避HTML中已有的元素名称，例如h2、H2 ② 可以使用name配置项指定组件在开发者工具中呈现的名字</p><ol><li>关于组件标签 第一种写法：<school></school> 第二种写法：<school/> (不使用脚手架会导致后续组件不能渲染)  </li><li>简写方式 const school = Vue.extend(options) 可以简写成 const school = options </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span><br><span class="line">  &lt;title&gt;几个注意点&lt;/title&gt;</span><br><span class="line">  &lt;script type=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;../js/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;!-- 准备好一个容器--&gt;</span><br><span class="line">  &lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line">    &lt;h1&gt;&#123;</span><br><span class="line">  &#123;msg&#125;&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;school&gt;&lt;/school&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">  Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//定义组件</span></span><br><span class="line">  <span class="type">const</span> <span class="variable">s</span> <span class="operator">=</span> Vue.extend(&#123;</span><br><span class="line">     </span><br><span class="line">    name: <span class="string">&#x27;atguigu&#x27;</span>,</span><br><span class="line">    template: `</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;h2&gt;学校名称：&#123;</span><br><span class="line">      &#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;h2&gt;学校地址：&#123;</span><br><span class="line">      &#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">`,</span><br><span class="line">    data() &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">        name: <span class="string">&#x27;尚硅谷&#x27;</span>,</span><br><span class="line">        address: <span class="string">&#x27;北京&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">     </span><br><span class="line">    el: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">     </span><br><span class="line">      msg: <span class="string">&#x27;欢迎学习Vue!&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">     </span><br><span class="line">      school: s</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="1-5-组件嵌套"><a href="#1-5-组件嵌套" class="headerlink" title="1.5 组件嵌套"></a>1.5 组件嵌套</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span><br><span class="line">  &lt;title&gt;组件的嵌套&lt;/title&gt;</span><br><span class="line">  &lt;!-- 引入Vue --&gt;</span><br><span class="line">  &lt;script type=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;../js/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;!-- 准备好一个容器--&gt;</span><br><span class="line">  &lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">  Vue.config.productionTip = <span class="literal">false</span> <span class="comment">//阻止 vue 在启动时生成生产提示。</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//定义student组件</span></span><br><span class="line">  <span class="type">const</span> <span class="variable">student</span> <span class="operator">=</span> Vue.extend(&#123;</span><br><span class="line">     </span><br><span class="line">    name: <span class="string">&#x27;student&#x27;</span>,</span><br><span class="line">    template: `</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;h2&gt;学生姓名：&#123;</span><br><span class="line">      &#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;h2&gt;学生年龄：&#123;</span><br><span class="line">      &#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">`,</span><br><span class="line">    data() &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">        name: <span class="string">&#x27;尚硅谷&#x27;</span>,</span><br><span class="line">        age: <span class="number">18</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//定义school组件</span></span><br><span class="line">  <span class="type">const</span> <span class="variable">school</span> <span class="operator">=</span> Vue.extend(&#123;</span><br><span class="line">     </span><br><span class="line">    name: <span class="string">&#x27;school&#x27;</span>,</span><br><span class="line">    template: `</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;h2&gt;学校名称：&#123;</span><br><span class="line">      &#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;h2&gt;学校地址：&#123;</span><br><span class="line">      &#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;student&gt;&lt;/student&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">`,</span><br><span class="line">    data() &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">        name: <span class="string">&#x27;尚硅谷&#x27;</span>,</span><br><span class="line">        address: <span class="string">&#x27;北京&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//注册组件（局部）</span></span><br><span class="line">    components: &#123;</span><br><span class="line">     </span><br><span class="line">      student</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//定义hello组件</span></span><br><span class="line">  <span class="type">const</span> <span class="variable">hello</span> <span class="operator">=</span> Vue.extend(&#123;</span><br><span class="line">     </span><br><span class="line">    template: `&lt;h1&gt;&#123;</span><br><span class="line">      &#123;msg&#125;&#125;&lt;/h1&gt;`,</span><br><span class="line">    data() &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">        msg: <span class="string">&#x27;欢迎来到尚硅谷学习！&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//定义app组件</span></span><br><span class="line">  <span class="type">const</span> <span class="variable">app</span> <span class="operator">=</span> Vue.extend(&#123;</span><br><span class="line">     </span><br><span class="line">    template: `</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;hello&gt;&lt;/hello&gt;</span><br><span class="line">&lt;school&gt;&lt;/school&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">`,</span><br><span class="line">    components: &#123;</span><br><span class="line">     </span><br><span class="line">      school,</span><br><span class="line">      hello</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//创建vm</span></span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">     </span><br><span class="line">    template: <span class="string">&#x27;&lt;app&gt;&lt;/app&gt;&#x27;</span>,</span><br><span class="line">    el: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    <span class="comment">//注册组件（局部）</span></span><br><span class="line">    components: &#123;</span><br><span class="line">     </span><br><span class="line">      app</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><ol><li>app组件本质是一个名为VueComponent的构造函数，且不是程序员定义的，是Vue.extend生成的  </li><li>我们只需要写<app/>或<app></app>，Vue解析时会帮我们创建app组件的实例对象，即Vue帮我们执行new VueComponent(options)  </li><li>特别注意：每次调用Vue.extend，返回的都是一个全新的VueComponent  </li><li>关于this指向 ① 组件配置中：data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是【VueComponent实例对象】 ② new Vue(options)配置中：data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是【Vue实例对象】  </li><li>VueComponent的实例对象，以后简称vc（也可称之为：组件实例对象）  </li><li>Vue的实例对象，以后简称为vm </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span><br><span class="line">  &lt;title&gt;VueComponent&lt;/title&gt;</span><br><span class="line">  &lt;script type=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;../js/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;!-- 准备好一个容器--&gt;</span><br><span class="line">  &lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line">    &lt;school&gt;&lt;/school&gt;</span><br><span class="line">    &lt;hello&gt;&lt;/hello&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">  Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//定义school组件</span></span><br><span class="line">  <span class="type">const</span> <span class="variable">school</span> <span class="operator">=</span> Vue.extend(&#123;</span><br><span class="line">     </span><br><span class="line">    name: <span class="string">&#x27;school&#x27;</span>,</span><br><span class="line">    template: `</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;h2&gt;学校名称：&#123;</span><br><span class="line">      &#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;h2&gt;学校地址：&#123;</span><br><span class="line">      &#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;button <span class="meta">@click</span>=<span class="string">&quot;showName&quot;</span>&gt;点我提示学校名&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">`,</span><br><span class="line">    data() &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">        name: <span class="string">&#x27;尚硅谷&#x27;</span>,</span><br><span class="line">        address: <span class="string">&#x27;北京&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">     </span><br><span class="line">      showName() &#123;</span><br><span class="line">     </span><br><span class="line">        console.log(<span class="string">&#x27;showName&#x27;</span>, <span class="built_in">this</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="type">const</span> <span class="variable">test</span> <span class="operator">=</span> Vue.extend(&#123;</span><br><span class="line">     </span><br><span class="line">    template: `&lt;span&gt;atguigu&lt;/span&gt;`</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//定义hello组件</span></span><br><span class="line">  <span class="type">const</span> <span class="variable">hello</span> <span class="operator">=</span> Vue.extend(&#123;</span><br><span class="line">     </span><br><span class="line">    template: `</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;h2&gt;&#123;</span><br><span class="line">      &#123;msg&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;test&gt;&lt;/test&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">`,</span><br><span class="line">    data() &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">        msg: <span class="string">&#x27;你好啊！&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">     </span><br><span class="line">      test</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// console.log(&#x27;@&#x27;,school)</span></span><br><span class="line">  <span class="comment">// console.log(&#x27;#&#x27;,hello)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//创建vm</span></span><br><span class="line">  <span class="type">const</span> <span class="variable">vm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">     </span><br><span class="line">    el: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    components: &#123;</span><br><span class="line">     </span><br><span class="line">      school,</span><br><span class="line">      hello</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>一个重要的内置关系</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VueComponent.prototype.__proto__ === Vue.prototype</span><br></pre></td></tr></table></figure><p>这样组件实例对象vc就可以访问到Vue原型上的属性和方法</p><p><img src="https://img-blog.csdnimg.cn/93fe35be3e4d4b17a67596295a98333a.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAWUvoj4w=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span><br><span class="line">  &lt;title&gt;一个重要的内置关系&lt;/title&gt;</span><br><span class="line">  &lt;!-- 引入Vue --&gt;</span><br><span class="line">  &lt;script type=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;../js/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;!-- 准备好一个容器--&gt;</span><br><span class="line">  &lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line">    &lt;school&gt;&lt;/school&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">  Vue.config.productionTip = <span class="literal">false</span> <span class="comment">//阻止 vue 在启动时生成生产提示。</span></span><br><span class="line">  Vue.prototype.x = <span class="number">99</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//定义school组件</span></span><br><span class="line">  <span class="type">const</span> <span class="variable">school</span> <span class="operator">=</span> Vue.extend(&#123;</span><br><span class="line">     </span><br><span class="line">    name: <span class="string">&#x27;school&#x27;</span>,</span><br><span class="line">    template: `</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;h2&gt;学校名称：&#123;</span><br><span class="line">      &#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;h2&gt;学校地址：&#123;</span><br><span class="line">      &#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;button <span class="meta">@click</span>=<span class="string">&quot;showX&quot;</span>&gt;点我输出x&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">`,</span><br><span class="line">    data() &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">        name: <span class="string">&#x27;尚硅谷&#x27;</span>,</span><br><span class="line">        address: <span class="string">&#x27;北京&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">     </span><br><span class="line">      showX() &#123;</span><br><span class="line">     </span><br><span class="line">        console.log(<span class="built_in">this</span>.x)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//创建一个vm</span></span><br><span class="line">  <span class="type">const</span> <span class="variable">vm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">     </span><br><span class="line">    el: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">     </span><br><span class="line">      msg: <span class="string">&#x27;你好&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">     </span><br><span class="line">      school</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">//定义一个构造函数</span></span><br><span class="line">  <span class="comment">/* function Demo()&#123;</span></span><br><span class="line"><span class="comment">  this.a = 1</span></span><br><span class="line"><span class="comment">  this.b = 2</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">  //创建一个Demo的实例对象</span></span><br><span class="line"><span class="comment">  const d = new Demo()</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  console.log(Demo.prototype) //显示原型属性</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  console.log(d.__proto__) //隐式原型属性</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  console.log(Demo.prototype === d.__proto__)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  //程序员通过显示原型属性操作原型对象，追加一个x属性，值为99</span></span><br><span class="line"><span class="comment">  Demo.prototype.x = 99</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  console.log(&#x27;@&#x27;,d) */</span></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="3-1-组成"><a href="#3-1-组成" class="headerlink" title="3.1 组成"></a>3.1 组成</h2><ol><li>模板页面</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">页面模板</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><ol><li>JS 模块对象</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">data() &#123;</span><br><span class="line">     <span class="keyword">return</span> &#123;</span><br><span class="line">     &#125;&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">     &#125;,</span><br><span class="line">computed: &#123;</span><br><span class="line">     &#125;,</span><br><span class="line">components: &#123;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><ol><li>样式</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">样式定义</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="3-2-基本使用"><a href="#3-2-基本使用" class="headerlink" title="3.2 基本使用"></a>3.2 基本使用</h2><ol><li>引入组件 </li><li>映射成标签 </li><li>使用组件标签</li></ol><p>App.vue</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;HelloWorld&gt;&lt;/HelloWorld&gt;</span><br><span class="line">&lt;hello-world&gt;&lt;/hello-world&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> HelloWorld from <span class="string">&#x27;./components/HelloWorld&#x27;</span></span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">name: <span class="string">&#x27;App&#x27;</span>,</span><br><span class="line">components: &#123;</span><br><span class="line">     </span><br><span class="line">HelloWorld</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> App from <span class="string">&#x27;./App&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">el: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">component: &#123;</span><br><span class="line">   App&#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="3-3-关于标签名与标签属性名书写问题"><a href="#3-3-关于标签名与标签属性名书写问题" class="headerlink" title="3.3 关于标签名与标签属性名书写问题"></a>3.3 关于标签名与标签属性名书写问题</h2><ol><li>写法一: 一模一样 </li><li>写法二: 大写变小写, 并用-连接</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;传统方式编写应用&lt;/p&gt;
&lt;p&gt;存在问题：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;依赖关系混乱，不好维护 &lt;/li&gt;
&lt;li&gt;代码复用率不高&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/b26753ba40dd452eaf29</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue高级" scheme="https://manamn.space/tags/Vue%E9%AB%98%E7%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>Vue基础系列（十一）Vue指令-常用内置指令-自定义指令-全局指令-局部指令</title>
    <link href="https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E5%8D%81%E4%B8%80%EF%BC%89Vue%E6%8C%87%E4%BB%A4-%E5%B8%B8%E7%94%A8%E5%86%85%E7%BD%AE%E6%8C%87%E4%BB%A4-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4-%E5%85%A8%E5%B1%80%E6%8C%87%E4%BB%A4-%E5%B1%80%E9%83%A8%E6%8C%87%E4%BB%A4/"/>
    <id>https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E5%8D%81%E4%B8%80%EF%BC%89Vue%E6%8C%87%E4%BB%A4-%E5%B8%B8%E7%94%A8%E5%86%85%E7%BD%AE%E6%8C%87%E4%BB%A4-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4-%E5%85%A8%E5%B1%80%E6%8C%87%E4%BB%A4-%E5%B1%80%E9%83%A8%E6%8C%87%E4%BB%A4/</id>
    <published>2022-10-26T02:22:19.000Z</published>
    <updated>2022-10-26T03:18:53.646Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165421852.png" alt="image-20221025165421852"></p><ul><li>v-text : 更新元素的 textContent </li><li>v-html : 更新元素的 innerHTML </li><li>v-if : 如果为true, 当前标签才会输出到页面 </li><li>v-else: 如果为false, 当前标签才会输出到页面 </li><li>v-show : 通过控制display样式来控制显示/隐藏 </li><li>v-for : 遍历数组/对象 </li><li>v-on : 绑定事件监听, 一般简写为@ </li><li>v-bind : 强制绑定解析表达式, 可以省略v-bind </li><li>v-model : 双向数据绑定</li></ul><ul><li>v-text : 更新元素的 textContent</li></ul><ol><li>作用：向其所在的节点中渲染文本内容。 </li><li>与插值语法的区别：v-text会替换掉节点中的内容，{<br><!-- -->{xx}}则不会。</li></ol><ul><li>v-html : 更新元素的 innerHTML</li></ul><ol><li>作用：向指定节点中渲染包含html结构的内容。 </li><li>与插值语法的区别： (1). v-html会替换掉节点中所有的内容，{<br><!-- -->{xx}}则不会。 (2). v-html可以识别html结构。 <li>严重注意：v-html有安全性问题！！！！ (1). 在网站上动态渲染任意HTML是非常危险的，容易导致XSS攻击。 (2). 一定要在可信的内容上使用v-html，永不要用在用户提交的内容上！</li></li></ol><ul><li>v-once指令：</li></ul><ol><li>v-once所在节点在初次动态渲染后，就视为静态内容了。 </li><li>以后数据的改变不会引起v-once所在结构的更新，可以用于优化性能。</li></ol><ul><li>v-pre指令：</li></ul><ol><li>跳过其所在节点的编译过程。 </li><li>可利用它跳过：没有使用指令语法、没有使用插值语法的节点，会加快编译。</li></ol><ul><li>ref : 为某个元素注册一个唯一标识, vue对象通过$refs属性访问这个元素对象  </li><li>v-cloak : 使用它防止闪现表达式, 与css配合: [v-cloak] { display: none } </li></ul><ol><li>本质是一个特殊属性，Vue实例创建完毕并接管容器后，会删掉v-cloak属性。 </li><li>使用css配合v-cloak可以解决网速慢时页面展示出{<br><!-- -->{xxx}}的问题。</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[v-clock] &#123;</span><br><span class="line">   </span><br><span class="line">display: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=<span class="string">&quot;demo&quot;</span>&gt;</span><br><span class="line">        &lt;p ref=<span class="string">&quot;content&quot;</span>&gt;baidu.com&lt;/p&gt;</span><br><span class="line">        &lt;button <span class="meta">@click</span>=<span class="string">&quot;hint&quot;</span>&gt;提示&lt;/button&gt;</span><br><span class="line">        &lt;p v-cloak&gt;&#123;</span><br><span class="line">  &#123;msg&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src=<span class="string">&quot;../js/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">     </span><br><span class="line">            el: <span class="string">&quot;#demo&quot;</span>,</span><br><span class="line">            data: &#123;</span><br><span class="line">     </span><br><span class="line">                msg: <span class="string">&quot;YK菌&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">     </span><br><span class="line">                hint()&#123;</span><br><span class="line">     </span><br><span class="line">                    alert(<span class="built_in">this</span>.$refs.content.textContent);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210220222720434.gif#pic_center" alt="img"></p><p>需求1：定义一个v-big指令，和v-text功能类似，但会把绑定的数值放大10倍。 需求2：定义一个v-fbind指令，和v-bind功能类似，但可以让其所绑定的input元素默认获取焦点。</p><h2 id="2-1-定义语法"><a href="#2-1-定义语法" class="headerlink" title="2.1 定义语法"></a>2.1 定义语法</h2><p>(1) 局部指令</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">directives:&#123;</span><br><span class="line">   指令名:配置对象&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>或</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">directives&#123;</span><br><span class="line">   指令名:回调函数&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>例子</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">directives : &#123;</span><br><span class="line">   </span><br><span class="line"><span class="string">&#x27;my-directive&#x27;</span> : &#123;</span><br><span class="line">   </span><br><span class="line">bind (el, binding) &#123;</span><br><span class="line">   </span><br><span class="line">el.innerHTML = binding.value.toupperCase()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(2) 全局指令</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.directive(指令名,配置对象)</span><br></pre></td></tr></table></figure><p>或</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.directive(指令名,回调函数)</span><br></pre></td></tr></table></figure><p>例子</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Vue.directive(<span class="string">&#x27;my-directive&#x27;</span>, function(el, binding)&#123;</span><br><span class="line">   </span><br><span class="line">el.innerHTML = binding.value.toupperCase()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="2-2-配置对象中常用的3个回调"><a href="#2-2-配置对象中常用的3个回调" class="headerlink" title="2.2 配置对象中常用的3个回调"></a>2.2 配置对象中常用的3个回调</h2><ul><li>bind：指令与元素成功绑定时调用。 </li><li>inserted：指令所在元素被插入页面时调用。 </li><li>update：指令所在模板结构被重新解析时调用。</li></ul><h2 id="2-3-备注"><a href="#2-3-备注" class="headerlink" title="2.3 备注"></a>2.3 备注</h2><ol><li>指令定义时不加v-，但使用时要加v-； </li><li>指令名如果是多个单词，要使用kebab-case命名方式，不要用camelCase命名。</li></ol><h2 id="2-4-使用指令"><a href="#2-4-使用指令" class="headerlink" title="2.4 使用指令"></a>2.4 使用指令</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span><br><span class="line">&lt;title&gt;自定义指令&lt;/title&gt;</span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;../js/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;!-- 准备好一个容器--&gt;</span><br><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line">&lt;h2&gt;&#123;</span><br><span class="line">  &#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;h2&gt;当前的n值是：&lt;span v-text=<span class="string">&quot;n&quot;</span>&gt;&lt;/span&gt; &lt;/h2&gt;</span><br><span class="line">&lt;!-- &lt;h2&gt;放大<span class="number">10</span>倍后的n值是：&lt;span v-big-number=<span class="string">&quot;n&quot;</span>&gt;&lt;/span&gt; &lt;/h2&gt; --&gt;</span><br><span class="line">&lt;h2&gt;放大<span class="number">10</span>倍后的n值是：&lt;span v-big=<span class="string">&quot;n&quot;</span>&gt;&lt;/span&gt; &lt;/h2&gt;</span><br><span class="line">&lt;button <span class="meta">@click</span>=<span class="string">&quot;n++&quot;</span>&gt;点我n+<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">&lt;hr/&gt;</span><br><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> v-fbind:value=<span class="string">&quot;n&quot;</span>&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义全局指令</span></span><br><span class="line"><span class="comment">/* Vue.directive(&#x27;fbind&#x27;,&#123;</span></span><br><span class="line"><span class="comment">//指令与元素成功绑定时（一上来）</span></span><br><span class="line"><span class="comment">bind(element,binding)&#123;</span></span><br><span class="line"><span class="comment">element.value = binding.value</span></span><br><span class="line"><span class="comment">&#125;,</span></span><br><span class="line"><span class="comment">//指令所在元素被插入页面时</span></span><br><span class="line"><span class="comment">inserted(element,binding)&#123;</span></span><br><span class="line"><span class="comment">element.focus()</span></span><br><span class="line"><span class="comment">&#125;,</span></span><br><span class="line"><span class="comment">//指令所在的模板被重新解析时</span></span><br><span class="line"><span class="comment">update(element,binding)&#123;</span></span><br><span class="line"><span class="comment">element.value = binding.value</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">&#125;) */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">     </span><br><span class="line">el:<span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">data:&#123;</span><br><span class="line">     </span><br><span class="line">name:<span class="string">&#x27;尚硅谷&#x27;</span>,</span><br><span class="line">n:<span class="number">1</span></span><br><span class="line">&#125;,</span><br><span class="line">directives:&#123;</span><br><span class="line">     </span><br><span class="line"><span class="comment">//big函数何时会被调用？1.指令与元素成功绑定时（一上来）。2.指令所在的模板被重新解析时。</span></span><br><span class="line"><span class="comment">/* &#x27;big-number&#x27;(element,binding)&#123;</span></span><br><span class="line"><span class="comment">// console.log(&#x27;big&#x27;)</span></span><br><span class="line"><span class="comment">element.innerText = binding.value * 10</span></span><br><span class="line"><span class="comment">&#125;, */</span></span><br><span class="line">big(element,binding)&#123;</span><br><span class="line">     </span><br><span class="line">console.log(<span class="string">&#x27;big&#x27;</span>,<span class="built_in">this</span>) <span class="comment">//注意此处的this是window</span></span><br><span class="line"><span class="comment">// console.log(&#x27;big&#x27;)</span></span><br><span class="line">element.innerText = binding.value * <span class="number">10</span></span><br><span class="line">&#125;,</span><br><span class="line">fbind:&#123;</span><br><span class="line">     </span><br><span class="line"><span class="comment">//指令与元素成功绑定时（一上来）</span></span><br><span class="line">bind(element,binding)&#123;</span><br><span class="line">     </span><br><span class="line">element.value = binding.value</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//指令所在元素被插入页面时</span></span><br><span class="line">inserted(element,binding)&#123;</span><br><span class="line">     </span><br><span class="line">element.focus()</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//指令所在的模板被重新解析时</span></span><br><span class="line">update(element,binding)&#123;</span><br><span class="line">     </span><br><span class="line">element.value = binding.value</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/d9552463441d4356ae276643558d2dd9.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAWUvoj4w=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165421852.png&quot; alt=&quot;image-20221025165421852&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;v-te</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue基础" scheme="https://manamn.space/tags/Vue%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>Vue基础系列（十）过滤器</title>
    <link href="https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E5%8D%81%EF%BC%89%E8%BF%87%E6%BB%A4%E5%99%A8/"/>
    <id>https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E5%8D%81%EF%BC%89%E8%BF%87%E6%BB%A4%E5%99%A8/</id>
    <published>2022-10-26T02:21:05.000Z</published>
    <updated>2022-10-26T03:19:07.463Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165421852.png" alt="image-20221025165421852"></p><p>定义：对要显示的数据进行特定格式化后再显示（适用于一些简单逻辑的处理）。 语法： 1.注册过滤器：Vue.filter(name,callback) 或 new Vue{filters:{}} 2.使用过滤器：{<br><!-- -->{ xxx | 过滤器名}} 或 v-bind:属性 = “xxx | 过滤器名” 备注： 1.过滤器也可以接收额外参数、多个过滤器也可以串联 2.并没有改变原本的数据, 是产生新的对应的数据</p><h2 id="1-定义过滤器"><a href="#1-定义过滤器" class="headerlink" title="1). 定义过滤器"></a>1). 定义过滤器</h2><p>全局过滤器</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Vue.filter(filterName, function(value[,arg1,arg2,...])&#123;</span><br><span class="line">   </span><br><span class="line">  <span class="comment">// 进行一定的数据处理</span></span><br><span class="line">  <span class="keyword">return</span> newValue</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>局部过滤器</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>&#123;</span><br><span class="line">   </span><br><span class="line">filters:&#123;</span><br><span class="line">   </span><br><span class="line">filterName(value)&#123;</span><br><span class="line">   </span><br><span class="line"><span class="keyword">return</span> newValue</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-使用过滤器"><a href="#2-使用过滤器" class="headerlink" title="2). 使用过滤器"></a>2). 使用过滤器</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;&#123;</span><br><span class="line">  &#123;myData | filterName&#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;div&gt;&#123;</span><br><span class="line">  &#123;myData | filterName(arg)&#125;&#125;&lt;/div&gt;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=<span class="string">&quot;demo&quot;</span>&gt;</span><br><span class="line">        &lt;h2&gt;显示格式化的日期时间&lt;/h2&gt;</span><br><span class="line">        &lt;p&gt;&#123;</span><br><span class="line">  &#123;date&#125;&#125;&lt;/p&gt; </span><br><span class="line">        &lt;p&gt;完整版：&#123;</span><br><span class="line">  &#123;date | dateString&#125;&#125;&lt;/p&gt;</span><br><span class="line">        &lt;p&gt;年月日：&#123;</span><br><span class="line">  &#123;date | dateString(<span class="string">&#x27;YYYY-MM-DD&#x27;</span>)&#125;&#125;&lt;/p&gt;</span><br><span class="line">        &lt;p&gt;时分秒：&#123;</span><br><span class="line">  &#123;date | dateString(<span class="string">&#x27;HH:mm:ss&#x27;</span>)&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src=<span class="string">&quot;../js/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/moment.js/2.29.1/moment.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.filter(<span class="string">&#x27;dateString&#x27;</span>, function(value, format=<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>)&#123;</span><br><span class="line">     </span><br><span class="line">            <span class="keyword">return</span> moment(value).format(format);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">     </span><br><span class="line">            el: <span class="string">&#x27;#demo&#x27;</span>,</span><br><span class="line">            data: &#123;</span><br><span class="line">     </span><br><span class="line">                date: <span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210125212023505.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70#pic_center" alt="img"></p><p>使用dayjs</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span><br><span class="line">&lt;title&gt;过滤器&lt;/title&gt;</span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;../js/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;../js/dayjs.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;!-- 准备好一个容器--&gt;</span><br><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line">&lt;h2&gt;显示格式化后的时间&lt;/h2&gt;</span><br><span class="line">&lt;!-- 计算属性实现 --&gt;</span><br><span class="line">&lt;h3&gt;现在是：&#123;</span><br><span class="line">  &#123;fmtTime&#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;!-- methods实现 --&gt;</span><br><span class="line">&lt;h3&gt;现在是：&#123;</span><br><span class="line">  &#123;getFmtTime()&#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;!-- 过滤器实现 --&gt;</span><br><span class="line">&lt;h3&gt;现在是：&#123;</span><br><span class="line">  &#123;time | timeFormater&#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;!-- 过滤器实现（传参） --&gt;</span><br><span class="line">&lt;h3&gt;现在是：&#123;</span><br><span class="line">  &#123;time | timeFormater(<span class="string">&#x27;YYYY_MM_DD&#x27;</span>) | mySlice&#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;h3 :x=<span class="string">&quot;msg | mySlice&quot;</span>&gt;尚硅谷&lt;/h3&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id=<span class="string">&quot;root2&quot;</span>&gt;</span><br><span class="line">&lt;h2&gt;&#123;</span><br><span class="line">  &#123;msg | mySlice&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"><span class="comment">//全局过滤器</span></span><br><span class="line">Vue.filter(<span class="string">&#x27;mySlice&#x27;</span>,function(value)&#123;</span><br><span class="line">     </span><br><span class="line"><span class="keyword">return</span> value.slice(<span class="number">0</span>,<span class="number">4</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">     </span><br><span class="line">el:<span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">data:&#123;</span><br><span class="line">     </span><br><span class="line">time:<span class="number">1621561377603</span>, <span class="comment">//时间戳</span></span><br><span class="line">msg:<span class="string">&#x27;你好，尚硅谷&#x27;</span></span><br><span class="line">&#125;,</span><br><span class="line">computed: &#123;</span><br><span class="line">     </span><br><span class="line">fmtTime()&#123;</span><br><span class="line">     </span><br><span class="line"><span class="keyword">return</span> dayjs(<span class="built_in">this</span>.time).format(<span class="string">&#x27;YYYY年MM月DD日 HH:mm:ss&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">     </span><br><span class="line">getFmtTime()&#123;</span><br><span class="line">     </span><br><span class="line"><span class="keyword">return</span> dayjs(<span class="built_in">this</span>.time).format(<span class="string">&#x27;YYYY年MM月DD日 HH:mm:ss&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//局部过滤器</span></span><br><span class="line">filters:&#123;</span><br><span class="line">     </span><br><span class="line">timeFormater(value,str=<span class="string">&#x27;YYYY年MM月DD日 HH:mm:ss&#x27;</span>)&#123;</span><br><span class="line">     </span><br><span class="line"><span class="comment">// console.log(&#x27;@&#x27;,value)</span></span><br><span class="line"><span class="keyword">return</span> dayjs(value).format(str)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">     </span><br><span class="line">el:<span class="string">&#x27;#root2&#x27;</span>,</span><br><span class="line">data:&#123;</span><br><span class="line">     </span><br><span class="line">msg:<span class="string">&#x27;hello,atguigu!&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/8b75baeca12941f6b1a77665704d294d.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAWUvoj4w=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p><p>其中使用到了moment.js  <a href="http://momentjs.cn/">中文网</a> <a href="http://momentjs.cn/">http://momentjs.cn/</a></p><p><img src="https://img-blog.csdnimg.cn/20210125215248585.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70#pic_center" alt="img"></p><h2 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/moment.js/2.29.1/moment.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><ol><li>日期格式化</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">moment().format(<span class="string">&#x27;MMMM Do YYYY, h:mm:ss a&#x27;</span>); <span class="comment">// 一月 25日 2021, 9:51:41 晚上</span></span><br><span class="line">moment().format(<span class="string">&#x27;dddd&#x27;</span>);                    <span class="comment">// 星期一</span></span><br><span class="line">moment().format(<span class="string">&quot;MMM Do YY&quot;</span>);               <span class="comment">// 1月 25日 21</span></span><br><span class="line">moment().format(<span class="string">&#x27;YYYY [escaped] YYYY&#x27;</span>);     <span class="comment">// 2021 escaped 2021</span></span><br><span class="line">moment().format();                          <span class="comment">// 2021-01-25T21:51:41+08:00</span></span><br></pre></td></tr></table></figure><ol><li>相对时间</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">moment(<span class="string">&quot;20111031&quot;</span>, <span class="string">&quot;YYYYMMDD&quot;</span>).fromNow(); <span class="comment">// 9 年前</span></span><br><span class="line">moment(<span class="string">&quot;20120620&quot;</span>, <span class="string">&quot;YYYYMMDD&quot;</span>).fromNow(); <span class="comment">// 9 年前</span></span><br><span class="line">moment().startOf(<span class="string">&#x27;day&#x27;</span>).fromNow();        <span class="comment">// 1 天前</span></span><br><span class="line">moment().endOf(<span class="string">&#x27;day&#x27;</span>).fromNow();          <span class="comment">// 2 小时内</span></span><br><span class="line">moment().startOf(<span class="string">&#x27;hour&#x27;</span>).fromNow();       <span class="comment">// 1 小时前</span></span><br></pre></td></tr></table></figure><ol><li>日历时间</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">moment().subtract(<span class="number">10</span>, <span class="string">&#x27;days&#x27;</span>).calendar(); <span class="comment">// 2021/01/15</span></span><br><span class="line">moment().subtract(<span class="number">6</span>, <span class="string">&#x27;days&#x27;</span>).calendar();  <span class="comment">// 上星期二21:51</span></span><br><span class="line">moment().subtract(<span class="number">3</span>, <span class="string">&#x27;days&#x27;</span>).calendar();  <span class="comment">// 上星期五21:51</span></span><br><span class="line">moment().subtract(<span class="number">1</span>, <span class="string">&#x27;days&#x27;</span>).calendar();  <span class="comment">// 昨天21:51</span></span><br><span class="line">moment().calendar();                      <span class="comment">// 今天21:51</span></span><br><span class="line">moment().add(<span class="number">1</span>, <span class="string">&#x27;days&#x27;</span>).calendar();       <span class="comment">// 明天21:51</span></span><br><span class="line">moment().add(<span class="number">3</span>, <span class="string">&#x27;days&#x27;</span>).calendar();       <span class="comment">// 下星期四21:51</span></span><br><span class="line">moment().add(<span class="number">10</span>, <span class="string">&#x27;days&#x27;</span>).calendar();      <span class="comment">// 2021/02/04</span></span><br></pre></td></tr></table></figure><ol><li>多语言支持</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">moment.locale();         <span class="comment">// zh-cn</span></span><br><span class="line">moment().format(<span class="string">&#x27;LT&#x27;</span>);   <span class="comment">// 21:51</span></span><br><span class="line">moment().format(<span class="string">&#x27;LTS&#x27;</span>);  <span class="comment">// 21:51:41</span></span><br><span class="line">moment().format(<span class="string">&#x27;L&#x27;</span>);    <span class="comment">// 2021/01/25</span></span><br><span class="line">moment().format(<span class="string">&#x27;l&#x27;</span>);    <span class="comment">// 2021/1/25</span></span><br><span class="line">moment().format(<span class="string">&#x27;LL&#x27;</span>);   <span class="comment">// 2021年1月25日</span></span><br><span class="line">moment().format(<span class="string">&#x27;ll&#x27;</span>);   <span class="comment">// 2021年1月25日</span></span><br><span class="line">moment().format(<span class="string">&#x27;LLL&#x27;</span>);  <span class="comment">// 2021年1月25日晚上9点51分</span></span><br><span class="line">moment().format(<span class="string">&#x27;lll&#x27;</span>);  <span class="comment">// 2021年1月25日 21:51</span></span><br><span class="line">moment().format(<span class="string">&#x27;LLLL&#x27;</span>); <span class="comment">// 2021年1月25日星期一晚上9点51分</span></span><br><span class="line">moment().format(<span class="string">&#x27;llll&#x27;</span>); <span class="comment">// 2021年1月25日星期一 21:51</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165421852.png&quot; alt=&quot;image-20221025165421852&quot;&gt;&lt;/p&gt;
&lt;p&gt;定义：对要显示的数据</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue基础" scheme="https://manamn.space/tags/Vue%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>Vue基础系列（九）动画与过渡-trasition-enter-leave</title>
    <link href="https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E4%B9%9D%EF%BC%89%E5%8A%A8%E7%94%BB%E4%B8%8E%E8%BF%87%E6%B8%A1-trasition-enter-leave/"/>
    <id>https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E4%B9%9D%EF%BC%89%E5%8A%A8%E7%94%BB%E4%B8%8E%E8%BF%87%E6%B8%A1-trasition-enter-leave/</id>
    <published>2022-10-26T02:20:36.000Z</published>
    <updated>2022-10-26T03:19:20.658Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165421852.png" alt="image-20221025165421852"></p><p>操作css的trasition或animation</p><p>vue会给目标元素添加/移除特定的class</p><ol><li>在目标元素外包裹 </li><li>定义class样式 1&gt;. 指定过渡样式: transition 2&gt;. 指定隐藏时的样式: opacity/其它</li></ol><p>xxx-enter-active: 指定显示的transition xxx-leave-active: 指定隐藏的transition xxx-enter: 指定隐藏时的样式</p><p><img src="https://img-blog.csdnimg.cn/20210125172255788.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt="img"></p><h2 id="过渡代码示例"><a href="#过渡代码示例" class="headerlink" title="过渡代码示例"></a>过渡代码示例</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 显示/隐藏的过渡效果 */</span></span><br><span class="line">.xxx-enter-active, .xxx-leave-active&#123;</span><br><span class="line">   </span><br><span class="line">    transition: opacity <span class="number">0.</span>5s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 隐藏时的样式  */</span></span><br><span class="line">.xxx-enter, .xxx-leave-to&#123;</span><br><span class="line">   </span><br><span class="line">    opacity: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.move-enter-active &#123;</span><br><span class="line">   </span><br><span class="line">    transition: all 1s;</span><br><span class="line">&#125;</span><br><span class="line">.move-leave-active &#123;</span><br><span class="line">   </span><br><span class="line">    transition: all 3s;</span><br><span class="line">&#125;</span><br><span class="line">.move-enter, .move-leave-to &#123;</span><br><span class="line">   </span><br><span class="line">    opacity: <span class="number">0</span>;</span><br><span class="line">    transition: translateX(20px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=<span class="string">&quot;demo1&quot;</span>&gt;</span><br><span class="line">        &lt;button <span class="meta">@click</span>=<span class="string">&quot;isShow=!isShow&quot;</span>&gt;过渡<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">        &lt;transition name=<span class="string">&quot;xxx&quot;</span>&gt;</span><br><span class="line">            &lt;p v-show=<span class="string">&quot;isShow&quot;</span>&gt;YK菌学前端&lt;/p&gt;</span><br><span class="line">        &lt;/transition&gt;   </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div id=<span class="string">&quot;demo2&quot;</span>&gt;</span><br><span class="line">        &lt;button <span class="meta">@click</span>=<span class="string">&quot;isShow=!isShow&quot;</span>&gt;过渡<span class="number">2</span>&lt;/button&gt;</span><br><span class="line">        &lt;transition name=<span class="string">&quot;move&quot;</span>&gt;</span><br><span class="line">            &lt;p v-show=<span class="string">&quot;isShow&quot;</span>&gt;YK菌天天学前端&lt;/p&gt;</span><br><span class="line">        &lt;/transition&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src=<span class="string">&quot;../js/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;  </span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">     </span><br><span class="line">            el: <span class="string">&quot;#demo1&quot;</span>,</span><br><span class="line">            data() &#123;</span><br><span class="line">     </span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">                    isShow: <span class="literal">true</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">     </span><br><span class="line">            el: <span class="string">&quot;#demo2&quot;</span>,</span><br><span class="line">            data: &#123;</span><br><span class="line">     </span><br><span class="line">                isShow:<span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210125194322925.gif#pic_center" alt="img"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;button <span class="meta">@click</span>=<span class="string">&quot;isShow = !isShow&quot;</span>&gt;显示/隐藏&lt;/button&gt;</span><br><span class="line">&lt;transition-group name=<span class="string">&quot;hello&quot;</span> appear&gt;</span><br><span class="line">&lt;h1 v-show=<span class="string">&quot;!isShow&quot;</span> key=<span class="string">&quot;1&quot;</span>&gt;你好啊！&lt;/h1&gt;</span><br><span class="line">&lt;h1 v-show=<span class="string">&quot;isShow&quot;</span> key=<span class="string">&quot;2&quot;</span>&gt;尚硅谷！&lt;/h1&gt;</span><br><span class="line">&lt;/transition-group&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">name:<span class="string">&#x27;Test&#x27;</span>,</span><br><span class="line">data() &#123;</span><br><span class="line">     </span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">isShow:<span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">h1&#123;</span><br><span class="line">     </span><br><span class="line">background-color: orange;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 进入的起点、离开的终点 */</span></span><br><span class="line">.hello-enter,.hello-leave-to&#123;</span><br><span class="line">     </span><br><span class="line">transform: translateX(-<span class="number">100</span>%);</span><br><span class="line">&#125;</span><br><span class="line">.hello-enter-active,.hello-leave-active&#123;</span><br><span class="line">     </span><br><span class="line">transition: <span class="number">0.</span>5s linear;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 进入的终点、离开的起点 */</span></span><br><span class="line">.hello-enter-to,.hello-leave&#123;</span><br><span class="line">     </span><br><span class="line">transform: translateX(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="动画代码示例"><a href="#动画代码示例" class="headerlink" title="动画代码示例"></a>动画代码示例</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">.bounce-enter-active &#123;</span><br><span class="line">   </span><br><span class="line">    animation: bounce-in .5s;</span><br><span class="line">&#125;</span><br><span class="line">.bounce-leave-active &#123;</span><br><span class="line">   </span><br><span class="line">    animation: bounce-in .5s reverse;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@keyframes</span> bounce-in &#123;</span><br><span class="line">   </span><br><span class="line">    <span class="number">0</span>% &#123;</span><br><span class="line">   </span><br><span class="line">        transform: scale(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="number">50</span>% &#123;</span><br><span class="line">   </span><br><span class="line">        transform: scale(<span class="number">1.5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100</span>% &#123;</span><br><span class="line">   </span><br><span class="line">        transform: scale(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=<span class="string">&quot;example-2&quot;</span>&gt;</span><br><span class="line">        &lt;button <span class="meta">@click</span>=<span class="string">&quot;show = !show&quot;</span>&gt;Toggle show&lt;/button&gt;&lt;br&gt;</span><br><span class="line">        &lt;transition name=<span class="string">&quot;bounce&quot;</span>&gt;</span><br><span class="line">          &lt;p v-<span class="keyword">if</span>=<span class="string">&quot;show&quot;</span> style=<span class="string">&quot;display: inline-block;&quot;</span>&gt;YK菌一直在学前端&lt;/p&gt;</span><br><span class="line">        &lt;/transition&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">      &lt;script src=<span class="string">&quot;../js/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">      &lt;script&gt;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">     </span><br><span class="line">            el: <span class="string">&#x27;#example-2&#x27;</span>,</span><br><span class="line">            data: &#123;</span><br><span class="line">     </span><br><span class="line">                show: <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210125194507733.gif#pic_center" alt="img"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;button <span class="meta">@click</span>=<span class="string">&quot;isShow = !isShow&quot;</span>&gt;显示/隐藏&lt;/button&gt;</span><br><span class="line">&lt;transition name=<span class="string">&quot;hello&quot;</span> appear&gt;</span><br><span class="line">&lt;h1 v-show=<span class="string">&quot;isShow&quot;</span>&gt;你好啊！&lt;/h1&gt;</span><br><span class="line">&lt;/transition&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">name:<span class="string">&#x27;Test&#x27;</span>,</span><br><span class="line">data() &#123;</span><br><span class="line">     </span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">isShow:<span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">h1&#123;</span><br><span class="line">     </span><br><span class="line">background-color: orange;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.hello-enter-active&#123;</span><br><span class="line">     </span><br><span class="line">animation: atguigu <span class="number">0.</span>5s linear;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.hello-leave-active&#123;</span><br><span class="line">     </span><br><span class="line">animation: atguigu <span class="number">0.</span>5s linear reverse;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@keyframes</span> atguigu &#123;</span><br><span class="line">     </span><br><span class="line">from&#123;</span><br><span class="line">     </span><br><span class="line">transform: translateX(-<span class="number">100</span>%);</span><br><span class="line">&#125;</span><br><span class="line">to&#123;</span><br><span class="line">     </span><br><span class="line">transform: translateX(0px);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p><a href="https://animate.style/">https://animate.style/</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;button <span class="meta">@click</span>=<span class="string">&quot;isShow = !isShow&quot;</span>&gt;显示/隐藏&lt;/button&gt;</span><br><span class="line">&lt;transition-group </span><br><span class="line">appear</span><br><span class="line">name=<span class="string">&quot;animate__animated animate__bounce&quot;</span> </span><br><span class="line">enter-active-class=<span class="string">&quot;animate__swing&quot;</span></span><br><span class="line">leave-active-class=<span class="string">&quot;animate__backOutUp&quot;</span></span><br><span class="line">&gt;</span><br><span class="line">&lt;h1 v-show=<span class="string">&quot;!isShow&quot;</span> key=<span class="string">&quot;1&quot;</span>&gt;你好啊！&lt;/h1&gt;</span><br><span class="line">&lt;h1 v-show=<span class="string">&quot;isShow&quot;</span> key=<span class="string">&quot;2&quot;</span>&gt;尚硅谷！&lt;/h1&gt;</span><br><span class="line">&lt;/transition-group&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;animate.css&#x27;</span></span><br><span class="line">export <span class="keyword">default</span> &#123;</span><br><span class="line">     </span><br><span class="line">name:<span class="string">&#x27;Test&#x27;</span>,</span><br><span class="line">data() &#123;</span><br><span class="line">     </span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">     </span><br><span class="line">isShow:<span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">h1&#123;</span><br><span class="line">     </span><br><span class="line">background-color: orange;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><ol><li>作用：在插入、更新或移除 DOM元素时，在合适的时候给元素添加样式类名。  </li><li><p>写法： </p><ol> 2.  准备好样式： <ul> 2. 元素进入的样式：  <ol>   2. v-enter：进入的起点   2. v-enter-active：进入过程中   2. v-enter-to：进入的终点  </ol>  2. 元素离开的样式：  <ol>   2. v-leave：离开的起点   2. v-leave-active：离开过程中   2. v-leave-to：离开的终点  </ol>  </ul>  2.  使用<transition>包裹要过度的元素，并配置name属性：  </ol> </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;transition name=<span class="string">&quot;hello&quot;</span>&gt;</span><br><span class="line">&lt;h1 v-show=<span class="string">&quot;isShow&quot;</span>&gt;你好啊！&lt;/h1&gt;</span><br><span class="line">&lt;/transition&gt;</span><br></pre></td></tr></table></figure><ol><li>备注：若有多个元素需要过渡，则需要使用：<transition-group>，且每个元素都要指定key值。</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165421852.png&quot; alt=&quot;image-20221025165421852&quot;&gt;&lt;/p&gt;
&lt;p&gt;操作css的tras</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue基础" scheme="https://manamn.space/tags/Vue%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>Vue基础系列（八）生命周期 父子组件</title>
    <link href="https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E5%85%AB%EF%BC%89%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%20%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6/"/>
    <id>https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E5%85%AB%EF%BC%89%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%20%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6/</id>
    <published>2022-10-26T02:19:29.000Z</published>
    <updated>2022-10-26T03:19:53.607Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165421852.png" alt="image-20221025165421852"></p><p>生命周期：</p><ol><li>又名：生命周期回调函数、生命周期函数、生命周期钩子。 </li><li>是什么：Vue在关键时刻帮我们调用的一些特殊名称的函数。 </li><li>生命周期函数的名字不可更改，但函数的具体内容是程序员根据需求编写的。 </li><li>生命周期函数中的this指向是vm 或 组件实例对象。</li></ol><ol><li><p>初始化显示 </p><ul> 1. beforeCreate() 1. created() 1. beforeMount() 1. mounted() </ul>  </li><li><p>更新状态</p></li></ol><ul><li>beforeUpdate() </li><li>updated()</li></ul><ol><li>销毁 vue 实例: vm.$destory()</li></ol><ul><li>beforeDestory() </li><li>destoryed()</li></ul><p><img src="https://img-blog.csdnimg.cn/20210119151008654.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt="img"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/fd987d1498a744e1e2500bbb19c162e9.png" alt="img"></p><ul><li>mounted(): 发送ajax请求, 启动定时器、绑定自定义事件、订阅消息等异步任务【初始化操作】 </li><li>beforeDestroy(): 做收尾工作, 如: 清除定时器、解绑自定义事件、取消订阅消息等【首尾工作】</li></ul><ol><li>销毁后借助Vue开发者工具看不到任何信息 </li><li>销毁后自定义事件会失效，但原生DOM事件依然有效 </li><li>一般不会在beforeDestroy操作数据，因为即使操作数据，也不会再触发更新流程了。</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=<span class="string">&quot;demo&quot;</span>&gt;</span><br><span class="line">        &lt;button <span class="meta">@click</span>=<span class="string">&quot;destoryVM&quot;</span>&gt;destroy vm&lt;/button&gt;</span><br><span class="line">        &lt;p v-show=<span class="string">&quot;isShow&quot;</span>&gt;YK菌学前端&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;../js/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">     </span><br><span class="line">            el: <span class="string">&quot;#demo&quot;</span>,</span><br><span class="line">            data:&#123;</span><br><span class="line">     </span><br><span class="line">                isShow: <span class="literal">true</span>,</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 1. 初始化阶段</span></span><br><span class="line">            beforeCreate()&#123;</span><br><span class="line">     </span><br><span class="line">                console.log(<span class="string">&#x27;beforeCreate()&#x27;</span>);</span><br><span class="line">            &#125;,</span><br><span class="line">            created()&#123;</span><br><span class="line">     </span><br><span class="line">                console.log(<span class="string">&#x27;created()&#x27;</span>);</span><br><span class="line">            &#125;,</span><br><span class="line">           </span><br><span class="line">            beforeMount()&#123;</span><br><span class="line">     </span><br><span class="line">                console.log(<span class="string">&#x27;beforeMount()&#x27;</span>);</span><br><span class="line">            &#125;,</span><br><span class="line">            mounted()&#123;</span><br><span class="line">      <span class="comment">// 初始化显示之后立即调用（1次）</span></span><br><span class="line">                console.log(<span class="string">&#x27;mounted()&#x27;</span>);</span><br><span class="line">                <span class="built_in">this</span>.intervalId = setInterval(() =&gt; &#123;</span><br><span class="line">      <span class="comment">// 将函数进行参数传递，最好用箭头函数，因为它函数内部没有this，直接用外面的this</span></span><br><span class="line">                    <span class="built_in">this</span>.isShow = !<span class="built_in">this</span>.isShow;</span><br><span class="line">                &#125;, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 2. 更新阶段</span></span><br><span class="line">            beforeUpdate()&#123;</span><br><span class="line">     </span><br><span class="line">                console.log(<span class="string">&#x27;beforeUpdate()&#x27;</span>);</span><br><span class="line">            &#125;,</span><br><span class="line">            updated()&#123;</span><br><span class="line">     </span><br><span class="line">                console.log(<span class="string">&#x27;updated()&#x27;</span>);</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3. 死亡阶段</span></span><br><span class="line">            beforeDestroy()&#123;</span><br><span class="line">      <span class="comment">// 死亡之前调用（1次）</span></span><br><span class="line">                console.log(<span class="string">&#x27;beforeDestroy()&#x27;</span>);</span><br><span class="line">                clearInterval(<span class="built_in">this</span>.intervalId);<span class="comment">//清除定时器</span></span><br><span class="line">            &#125;,</span><br><span class="line">            destroyed()&#123;</span><br><span class="line">     </span><br><span class="line">                console.log(<span class="string">&#x27;destroyed()&#x27;</span>);</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            methods:&#123;</span><br><span class="line">     </span><br><span class="line">                destoryVM()&#123;</span><br><span class="line">     </span><br><span class="line">                    <span class="built_in">this</span>.$destroy();<span class="comment">// 内存泄漏，定时器还没有清除</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210119151057656.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70#pic_center" alt="img"></p><ol><li>加载渲染过程</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">父beforeCreate -&gt; 父created -&gt; 父beforeMount -&gt; 子beforeCreate-&gt;子created-&gt;子beforeMount-&gt;子mounted-&gt;父mounted</span><br></pre></td></tr></table></figure><ol><li>更新过程</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">父beforeUpdate-&gt;子beforeUpdate-&gt;子updated-&gt;父updated</span><br></pre></td></tr></table></figure><ol><li>销毁过程</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">父beforeDestroy-&gt;子beforeDestroy-&gt;子destroyed-&gt;父destroyed</span><br></pre></td></tr></table></figure><ol><li>常见钩子版本</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">父beforeDestroy-&gt;子beforeDestroy-&gt;子destroyed-&gt;父destroyed</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165421852.png&quot; alt=&quot;image-20221025165421852&quot;&gt;&lt;/p&gt;
&lt;p&gt;生命周期：&lt;/p&gt;
</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue基础" scheme="https://manamn.space/tags/Vue%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>Vue基础系列（六）事件处理 - 绑定监听 - 事件修饰符 - 按键修饰符</title>
    <link href="https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E5%85%AD%EF%BC%89%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%20-%20%E7%BB%91%E5%AE%9A%E7%9B%91%E5%90%AC%20-%20%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6%20-%20%E6%8C%89%E9%94%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6/"/>
    <id>https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E5%85%AD%EF%BC%89%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%20-%20%E7%BB%91%E5%AE%9A%E7%9B%91%E5%90%AC%20-%20%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6%20-%20%E6%8C%89%E9%94%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6/</id>
    <published>2022-10-26T02:13:27.000Z</published>
    <updated>2022-10-26T03:21:19.156Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165421852.png" alt="image-20221025165421852"></p><p>事件的基本使用：</p><ol><li>使用v-on:xxx 或 @xxx 绑定事件，其中xxx是事件名； </li><li>事件的回调需要配置在methods对象中，最终会在vm上； </li><li>methods中配置的函数，不要用箭头函数！否则this就不是vm了； </li><li>methods中配置的函数，都是被Vue所管理的函数，this的指向是vm 或 组件实例对象； </li><li>@click=”demo”和 @click=”demo($event)”效果一致，但后者可以<strong>传参</strong>；</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">v-on:xxx=<span class="string">&quot;fun&quot;</span></span><br><span class="line">  <span class="meta">@xxx</span>=<span class="string">&quot;fun&quot;</span></span><br><span class="line">  <span class="meta">@xxx</span>=<span class="string">&quot;fun(参数)&quot;</span></span><br></pre></td></tr></table></figure><ul><li>事件对象 默认事件形参: event 隐含属性对象: $event $event 就是当前触发事件的元素，即使不传 $event，在回调函数中也可以使用 event 这个参数。 </li></ul><ol><li>prevent：阻止默认事件（常用）；event.preventDefault() </li><li>stop：阻止事件冒泡（常用）；event.stopPropagation() </li><li>once：事件只触发一次（常用）； </li><li>capture：使用事件的捕获模式； </li><li>self：只有event.target是当前操作的元素时才触发事件； </li><li>passive：事件的默认行为立即执行，无需等待事件回调执行完毕；</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 阻止事件冒泡 --&gt;</span><br><span class="line">&lt;div id=<span class="string">&quot;big&quot;</span> <span class="meta">@click</span>=<span class="string">&quot;test&quot;</span>&gt;</span><br><span class="line">    &lt;div id=<span class="string">&quot;small&quot;</span> <span class="meta">@click</span>.stop=<span class="string">&quot;test2&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 提交事件不再重载页面 --&gt;</span><br><span class="line">&lt;form v-on:submit.prevent=<span class="string">&quot;onSubmit&quot;</span>&gt;&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 点击事件将只会触发一次 --&gt;</span><br><span class="line">&lt;a v-on:click.once=<span class="string">&quot;doThis&quot;</span>&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure><ol><li><p>Vue中常用的按键别名： 回车 =&gt; enter</p><p> 删除 =&gt; delete (捕获“删除”和“退格”键)<br> 退出 =&gt; esc<br> 空格 =&gt; space<br> 换行 =&gt; tab (特殊，必须配合keydown去使用)<br> 上 =&gt; up<br> 下 =&gt; down<br> 左 =&gt; left<br> 右 =&gt; right  </p></li><li><p>Vue未提供别名的按键，可以使用按键原始的key值去绑定，但注意要转为kebab-case（短横线命名）  </p></li><li>系统修饰键（用法特殊）：ctrl、alt、shift、meta (1). 配合keyup使用：按下修饰键的同时，再按下其他键，随后释放其他键，事件才被触发。 (2). 配合keydown使用：正常触发事件。  </li><li>也可以使用keyCode去指定具体的按键（不推荐）  </li><li>Vue.config.keyCodes.自定义键名 = 键码，可以去定制按键别名 </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 任何按键按下都会触发回调函数 --&gt;</span><br><span class="line">&lt;textarea <span class="meta">@keyup</span>=<span class="string">&quot;testKeyup&quot;</span>&gt;&lt;/textarea&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 下面的两种写法效果是一致的 --&gt;</span><br><span class="line">&lt;!-- 使用按键码，回车键的keyCode是<span class="number">13</span> --&gt;</span><br><span class="line">&lt;textarea <span class="meta">@keyup</span><span class="number">.13</span>=<span class="string">&quot;testKeyup&quot;</span>&gt;&lt;/textarea&gt;</span><br><span class="line">&lt;!-- 使用按键修饰符，因为回车键比较常用，所以vue为他设置了名称，可以直接使用enter来代替 --&gt;</span><br><span class="line">&lt;textarea <span class="meta">@keyup</span>.enter=<span class="string">&quot;testKeyup&quot;</span>&gt;&lt;/textarea&gt;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=<span class="string">&quot;demo&quot;</span>&gt;</span><br><span class="line">        &lt;h1&gt;<span class="number">1.</span> 绑定监听&lt;/h1&gt;</span><br><span class="line">        &lt;button <span class="meta">@click</span>=<span class="string">&quot;test1&quot;</span>&gt;test1&lt;/button&gt;</span><br><span class="line">        &lt;button <span class="meta">@click</span>=<span class="string">&quot;test2(&#x27;abc&#x27;)&quot;</span>&gt;test2&lt;/button&gt;</span><br><span class="line">        &lt;button <span class="meta">@click</span>=<span class="string">&quot;test3&quot;</span>&gt;test3&lt;/button&gt;</span><br><span class="line">        &lt;button <span class="meta">@click</span>=<span class="string">&quot;test4(123, $event)&quot;</span>&gt;test4&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">        &lt;h1&gt;<span class="number">2.</span> 事件修饰符&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">        &lt;h3&gt; 停止事件冒泡 &lt;/h3&gt;</span><br><span class="line">        &lt;div style=<span class="string">&quot;width: 200px; height: 200px; background: red;&quot;</span> <span class="meta">@click</span>=<span class="string">&quot;test5&quot;</span>&gt;</span><br><span class="line">            &lt;div style=<span class="string">&quot;width: 100px; height: 100px; background: blue;&quot;</span> <span class="meta">@click</span>.stop=<span class="string">&quot;test6&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;h3&gt; 阻止事件默认行为 &lt;/h3&gt;</span><br><span class="line">        &lt;a href=<span class="string">&quot;http://www.baidu.com&quot;</span> <span class="meta">@click</span>.prevent=<span class="string">&quot;test7&quot;</span>&gt;去百度首页&lt;/a&gt;</span><br><span class="line">    </span><br><span class="line">        &lt;h1&gt;<span class="number">3.</span> 按键修饰符&lt;/h1&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;text&quot;</span> <span class="meta">@keyup</span><span class="number">.13</span>=<span class="string">&quot;test8&quot;</span>&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;text&quot;</span> <span class="meta">@keyup</span>.enter=<span class="string">&quot;test8&quot;</span>&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;script src=<span class="string">&quot;../js/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">     </span><br><span class="line">            el: <span class="string">&quot;#demo&quot;</span>,</span><br><span class="line">            data: &#123;</span><br><span class="line">     &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">     </span><br><span class="line">                test1()&#123;</span><br><span class="line">     </span><br><span class="line">                    alert(<span class="string">&quot;hahah&quot;</span>);</span><br><span class="line">                &#125;,</span><br><span class="line">                test2(msg)&#123;</span><br><span class="line">     </span><br><span class="line">                    alert(msg);</span><br><span class="line">                &#125;,</span><br><span class="line">                test3(event)&#123;</span><br><span class="line">     </span><br><span class="line">                    alert(event.target.innerHTML);</span><br><span class="line">                &#125;,</span><br><span class="line">                test4(number, event)&#123;</span><br><span class="line">     </span><br><span class="line">                    alert(number + <span class="string">&#x27;---&#x27;</span> + event.target.innerHTML);</span><br><span class="line">                &#125;,</span><br><span class="line">                test5()&#123;</span><br><span class="line">     </span><br><span class="line">                    alert(<span class="string">&#x27;out&#x27;</span>);</span><br><span class="line">                &#125;,</span><br><span class="line">                test6()&#123;</span><br><span class="line">     </span><br><span class="line">                    <span class="comment">// event.stopPropagation(); // 停止事件冒泡 原来的做法</span></span><br><span class="line">                    alert(<span class="string">&#x27;inner&#x27;</span>);</span><br><span class="line">                &#125;,</span><br><span class="line">                test7()&#123;</span><br><span class="line">     </span><br><span class="line">                    <span class="comment">// event.preventDefault(); // 阻止事件默认行为 原来的做法</span></span><br><span class="line">                    alert(<span class="string">&quot;2222&quot;</span>);</span><br><span class="line">                &#125;,</span><br><span class="line">                test8(event)&#123;</span><br><span class="line">     </span><br><span class="line">                    <span class="comment">// if(event.keyCode===13)&#123; // 原来的做法</span></span><br><span class="line">                    <span class="comment">//     alert(event.target.value);</span></span><br><span class="line">                    <span class="comment">// &#125;</span></span><br><span class="line">                    alert(event.target.value);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165421852.png&quot; alt=&quot;image-20221025165421852&quot;&gt;&lt;/p&gt;
&lt;p&gt;事件的基本使用：&lt;/</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue基础" scheme="https://manamn.space/tags/Vue%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>Vue基础系列（七）双向数据绑定-自动收集数据-表单数据自动更新</title>
    <link href="https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%83%EF%BC%89%E5%8F%8C%E5%90%91%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A-%E8%87%AA%E5%8A%A8%E6%94%B6%E9%9B%86%E6%95%B0%E6%8D%AE-%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0/"/>
    <id>https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%83%EF%BC%89%E5%8F%8C%E5%90%91%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A-%E8%87%AA%E5%8A%A8%E6%94%B6%E9%9B%86%E6%95%B0%E6%8D%AE-%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0/</id>
    <published>2022-10-26T02:09:42.000Z</published>
    <updated>2022-10-26T03:22:04.407Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165421852.png" alt="image-20221025165421852"></p><p>text/textarea checkbox radio select</p><p><input type="text"/>，则v-model收集的是value值，用户输入的就是value值。 <input type="radio"/>，则v-model收集的是value值，且要给标签配置value值。</p><input type="checkbox"/><ol><li>没有配置input的value属性，那么收集的就是checked（勾选 or 未勾选，是布尔值） </li><li>配置input的value属性: (1)v-model的初始值是非数组，那么收集的就是checked（勾选 or 未勾选，是布尔值） (2)v-model的初始值是数组，那么收集的的就是value组成的数组！！！</li></ol><p>备注：v-model的三个修饰符：</p><ul><li>lazy：失去焦点再收集数据 </li><li>number：输入字符串转为有效的数字 </li><li>trim：输入首尾空格过滤</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=<span class="string">&quot;demo&quot;</span>&gt;</span><br><span class="line">        &lt;form action=<span class="string">&quot;/xxx&quot;</span> <span class="meta">@submit</span>.prevent=<span class="string">&quot;handleSubmit&quot;</span>&gt;</span><br><span class="line">            &lt;span&gt;用户名：&lt;/span&gt;</span><br><span class="line">            &lt;input type=<span class="string">&quot;text&quot;</span> v-model=<span class="string">&quot;username&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">            &lt;span&gt;密码&lt;/span&gt;</span><br><span class="line">            &lt;input type=<span class="string">&quot;password&quot;</span> v-model=<span class="string">&quot;pwd&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">    </span><br><span class="line">            &lt;span&gt;性别：&lt;/span&gt;</span><br><span class="line">            &lt;input type=<span class="string">&quot;radio&quot;</span> id=<span class="string">&quot;female&quot;</span> value=<span class="string">&quot;女&quot;</span> v-model=<span class="string">&quot;sex&quot;</span>&gt;</span><br><span class="line">            &lt;label <span class="keyword">for</span>=<span class="string">&quot;female&quot;</span>&gt;女&lt;/label&gt;</span><br><span class="line">            &lt;input type=<span class="string">&quot;radio&quot;</span> id=<span class="string">&quot;male&quot;</span> value=<span class="string">&quot;男&quot;</span> v-model=<span class="string">&quot;sex&quot;</span>&gt;</span><br><span class="line">            &lt;label <span class="keyword">for</span>=<span class="string">&quot;male&quot;</span>&gt;男&lt;/label&gt;&lt;br&gt;</span><br><span class="line">    </span><br><span class="line">            &lt;span&gt;爱好：&lt;/span&gt;</span><br><span class="line">            &lt;input type=<span class="string">&quot;checkbox&quot;</span> id=<span class="string">&quot;basket&quot;</span> value=<span class="string">&quot;basket&quot;</span> v-model=<span class="string">&quot;likes&quot;</span>&gt;</span><br><span class="line">            &lt;label <span class="keyword">for</span>=<span class="string">&quot;basket&quot;</span>&gt;篮球&lt;/label&gt;</span><br><span class="line">            &lt;input type=<span class="string">&quot;checkbox&quot;</span> id=<span class="string">&quot;foot&quot;</span> value=<span class="string">&quot;foot&quot;</span> v-model=<span class="string">&quot;likes&quot;</span>&gt;</span><br><span class="line">            &lt;label <span class="keyword">for</span>=<span class="string">&quot;foot&quot;</span>&gt;足球&lt;/label&gt;</span><br><span class="line">            &lt;input type=<span class="string">&quot;checkbox&quot;</span> id=<span class="string">&quot;pingpang&quot;</span> value=<span class="string">&quot;pingpang&quot;</span> v-model=<span class="string">&quot;likes&quot;</span>&gt;</span><br><span class="line">            &lt;label <span class="keyword">for</span>=<span class="string">&quot;pingpang&quot;</span>&gt;乒乓&lt;/label&gt;&lt;br&gt;</span><br><span class="line">    </span><br><span class="line">            &lt;span&gt;城市：&lt;/span&gt;</span><br><span class="line">            &lt;select v-model=<span class="string">&quot;cityId&quot;</span>&gt;</span><br><span class="line">                &lt;option value=<span class="string">&quot;&quot;</span>&gt;未选择&lt;/option&gt;</span><br><span class="line">                &lt;option :value=<span class="string">&quot;city.id&quot;</span> v-<span class="keyword">for</span>=<span class="string">&quot;(city, index) in allCitys&quot;</span> :key=<span class="string">&quot;index&quot;</span>&gt;&#123;</span><br><span class="line">  &#123;city.name&#125;&#125;&lt;/option&gt;</span><br><span class="line">            &lt;/select&gt;&lt;br&gt;</span><br><span class="line">            &lt;span&gt;介绍：&lt;/span&gt;</span><br><span class="line">            &lt;textarea rows=<span class="string">&quot;10&quot;</span> v-model=<span class="string">&quot;desc&quot;</span>&gt;&lt;/textarea&gt;&lt;br&gt;</span><br><span class="line"></span><br><span class="line">            &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;注册&quot;</span>&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src=<span class="string">&quot;../js/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">     </span><br><span class="line">            el: <span class="string">&quot;#demo&quot;</span>,</span><br><span class="line">            data: &#123;</span><br><span class="line">     </span><br><span class="line">                username: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">                pwd: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">                sex: <span class="string">&#x27;女&#x27;</span>,</span><br><span class="line">                likes: [<span class="string">&#x27;foot&#x27;</span>],</span><br><span class="line">                cityId: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">                allCitys: [&#123;</span><br><span class="line">     id:<span class="number">1</span>, name:<span class="string">&#x27;BJ&#x27;</span>&#125;, &#123;</span><br><span class="line">     id:<span class="number">2</span>, name:<span class="string">&#x27;SH&#x27;</span>&#125;, &#123;</span><br><span class="line">     id:<span class="number">3</span>, name:<span class="string">&#x27;WH&#x27;</span>&#125;],</span><br><span class="line">                desc:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">     </span><br><span class="line">                handleSubmit()&#123;</span><br><span class="line">     </span><br><span class="line">                    console.log(<span class="built_in">this</span>.username, <span class="built_in">this</span>.pwd, <span class="built_in">this</span>.sex, <span class="built_in">this</span>.likes, <span class="built_in">this</span>.cityId, <span class="built_in">this</span>.desc);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210119150554224.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70#pic_center" alt="img"> <img src="https://img-blog.csdnimg.cn/20210119150554222.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70#pic_center" alt="img"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span><br><span class="line">  &lt;title&gt;收集表单数据&lt;/title&gt;</span><br><span class="line">  &lt;script type=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;../js/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;!-- </span><br><span class="line">收集表单数据：</span><br><span class="line">若：&lt;input type=<span class="string">&quot;text&quot;</span>/&gt;，则v-model收集的是value值，用户输入的就是value值。</span><br><span class="line">若：&lt;input type=<span class="string">&quot;radio&quot;</span>/&gt;，则v-model收集的是value值，且要给标签配置value值。</span><br><span class="line">若：&lt;input type=<span class="string">&quot;checkbox&quot;</span>/&gt;</span><br><span class="line"><span class="number">1.</span>没有配置input的value属性，那么收集的就是checked（勾选 or 未勾选，是布尔值）</span><br><span class="line"><span class="number">2.</span>配置input的value属性:</span><br><span class="line">(<span class="number">1</span>)v-model的初始值是非数组，那么收集的就是checked（勾选 or 未勾选，是布尔值）</span><br><span class="line">(<span class="number">2</span>)v-model的初始值是数组，那么收集的的就是value组成的数组</span><br><span class="line">备注：v-model的三个修饰符：</span><br><span class="line">lazy：失去焦点再收集数据</span><br><span class="line">number：输入字符串转为有效的数字</span><br><span class="line">trim：输入首尾空格过滤</span><br><span class="line">--&gt;</span><br><span class="line">  &lt;!-- 准备好一个容器--&gt;</span><br><span class="line">  &lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line">    &lt;form <span class="meta">@submit</span>.prevent=<span class="string">&quot;demo&quot;</span>&gt;</span><br><span class="line">      账号：&lt;input type=<span class="string">&quot;text&quot;</span> v-model.trim=<span class="string">&quot;userInfo.account&quot;</span>&gt; &lt;br /&gt;&lt;br /&gt;</span><br><span class="line">      密码：&lt;input type=<span class="string">&quot;password&quot;</span> v-model=<span class="string">&quot;userInfo.password&quot;</span>&gt; &lt;br /&gt;&lt;br /&gt;</span><br><span class="line">      年龄：&lt;input type=<span class="string">&quot;number&quot;</span> v-model.number=<span class="string">&quot;userInfo.age&quot;</span>&gt; &lt;br /&gt;&lt;br /&gt;</span><br><span class="line">      性别：</span><br><span class="line">      男&lt;input type=<span class="string">&quot;radio&quot;</span> name=<span class="string">&quot;sex&quot;</span> v-model=<span class="string">&quot;userInfo.sex&quot;</span> value=<span class="string">&quot;male&quot;</span>&gt;</span><br><span class="line">      女&lt;input type=<span class="string">&quot;radio&quot;</span> name=<span class="string">&quot;sex&quot;</span> v-model=<span class="string">&quot;userInfo.sex&quot;</span> value=<span class="string">&quot;female&quot;</span>&gt; &lt;br /&gt;&lt;br /&gt;</span><br><span class="line">      爱好：</span><br><span class="line">      学习&lt;input type=<span class="string">&quot;checkbox&quot;</span> v-model=<span class="string">&quot;userInfo.hobby&quot;</span> value=<span class="string">&quot;study&quot;</span>&gt;</span><br><span class="line">      打游戏&lt;input type=<span class="string">&quot;checkbox&quot;</span> v-model=<span class="string">&quot;userInfo.hobby&quot;</span> value=<span class="string">&quot;game&quot;</span>&gt;</span><br><span class="line">      吃饭&lt;input type=<span class="string">&quot;checkbox&quot;</span> v-model=<span class="string">&quot;userInfo.hobby&quot;</span> value=<span class="string">&quot;eat&quot;</span>&gt;</span><br><span class="line">      &lt;br /&gt;&lt;br /&gt;</span><br><span class="line">      所属校区</span><br><span class="line">      &lt;select v-model=<span class="string">&quot;userInfo.city&quot;</span>&gt;</span><br><span class="line">        &lt;option value=<span class="string">&quot;&quot;</span>&gt;请选择校区&lt;/option&gt;</span><br><span class="line">        &lt;option value=<span class="string">&quot;beijing&quot;</span>&gt;北京&lt;/option&gt;</span><br><span class="line">        &lt;option value=<span class="string">&quot;shanghai&quot;</span>&gt;上海&lt;/option&gt;</span><br><span class="line">        &lt;option value=<span class="string">&quot;shenzhen&quot;</span>&gt;深圳&lt;/option&gt;</span><br><span class="line">        &lt;option value=<span class="string">&quot;wuhan&quot;</span>&gt;武汉&lt;/option&gt;</span><br><span class="line">      &lt;/select&gt;</span><br><span class="line">      &lt;br /&gt;&lt;br /&gt;</span><br><span class="line">      其他信息：</span><br><span class="line">      &lt;textarea v-model.lazy=<span class="string">&quot;userInfo.other&quot;</span>&gt;&lt;/textarea&gt; &lt;br /&gt;&lt;br /&gt;</span><br><span class="line">      &lt;input type=<span class="string">&quot;checkbox&quot;</span> v-model=<span class="string">&quot;userInfo.agree&quot;</span>&gt;阅读并接受&lt;a href=<span class="string">&quot;http://www.atguigu.com&quot;</span>&gt;《用户协议》&lt;/a&gt;</span><br><span class="line">      &lt;button&gt;提交&lt;/button&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">  Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">     </span><br><span class="line">    el: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">     </span><br><span class="line">      userInfo: &#123;</span><br><span class="line">     </span><br><span class="line">        account: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        password: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        age: <span class="number">18</span>,</span><br><span class="line">        sex: <span class="string">&#x27;female&#x27;</span>,</span><br><span class="line">        hobby: [],</span><br><span class="line">        city: <span class="string">&#x27;beijing&#x27;</span>,</span><br><span class="line">        other: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        agree: <span class="string">&#x27;&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">     </span><br><span class="line">      demo() &#123;</span><br><span class="line">     </span><br><span class="line">        console.log(JSON.stringify(<span class="built_in">this</span>.userInfo))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165421852.png&quot; alt=&quot;image-20221025165421852&quot;&gt;&lt;/p&gt;
&lt;p&gt;text/texta</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue基础" scheme="https://manamn.space/tags/Vue%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>Vue基础系列（五）列表渲染v-for</title>
    <link href="https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E4%BA%94%EF%BC%89%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93v-for/"/>
    <id>https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E4%BA%94%EF%BC%89%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93v-for/</id>
    <published>2022-10-26T02:08:38.000Z</published>
    <updated>2022-10-26T03:04:33.260Z</updated>
    
    <content type="html"><![CDATA[<h1 id="【Vue】基础系列（五）列表渲染v-for-key的原理-数组-对象-删除替换-过滤与排序"><a href="#【Vue】基础系列（五）列表渲染v-for-key的原理-数组-对象-删除替换-过滤与排序" class="headerlink" title="【Vue】基础系列（五）列表渲染v-for | key的原理 | 数组 | 对象 | 删除替换 | 过滤与排序"></a>【Vue】基础系列（五）列表渲染v-for | key的原理 | 数组 | 对象 | 删除替换 | 过滤与排序</h1><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025173508768.png" alt="image-20221025173508768"></p><h1 id="1-列表显示"><a href="#1-列表显示" class="headerlink" title="1. 列表显示"></a>1. 列表显示</h1><p>v-for指令</p><ol><li>用于展示列表数据</li><li>语法：<code>v-for=&quot;(item, index) in xxx&quot; :key=&quot;yyy&quot;</code></li><li>可遍历：数组、对象、字符串（用的很少）、指定次数（用的很少）</li></ol><ul><li>数组: (item, index)</li><li>对象: (value, key)</li><li>字符串：(char, index)</li><li>数字：(number, index)</li></ul><h1 id="2-key的原理"><a href="#2-key的原理" class="headerlink" title="2. key的原理"></a>2. key的原理</h1><ol><li><p>虚拟DOM中key的作用：<br>key是虚拟DOM对象的标识，当数据发生变化时，Vue会根据【新数据】生成【新的虚拟DOM】, 随后Vue进行【新虚拟DOM】与【旧虚拟DOM】的差异比较，比较规则如下：</p></li><li><p>对比规则：<br>(1). 旧虚拟DOM中找到了与新虚拟DOM相同的key：<br>  ①若虚拟DOM中内容没变, 直接使用之前的真实DOM<br>  ②若虚拟DOM中内容变了, 则生成新的真实DOM，随后替换掉页面中之前的真实DOM</p><p>(2). 旧虚拟DOM中未找到与新虚拟DOM相同的key创建新的真实DOM，随后渲染到到页面。</p></li><li><p>用index作为key可能会引发的问题：<br>(1). 若对数据进行：逆序添加、逆序删除等破坏顺序操作: 会产生没有必要的真实DOM更新 <code>==&gt;</code> 界面效果没问题, 但效率低<br>(2). 如果结构中还包含输入类的DOM： 会产生错误DOM更新 <code>==&gt;</code>界面有问题</p></li><li><p>开发中如何选择key:<br>(1). 最好使用每条数据的唯一标识作为key, 比如id、手机号、身份证号、学号等唯一值。<br>(2). 如果不存在对数据的逆序添加、逆序删除等破坏顺序操作，仅用于渲染列表用于展示，使用index作为key是没有问题的。</p></li></ol><h1 id="3-Vue监视数据的原理"><a href="#3-Vue监视数据的原理" class="headerlink" title="3. Vue监视数据的原理"></a>3. Vue监视数据的原理</h1><ol><li>vue会监视data中所有层次的数据。</li><li>如何监测对象中的数据？<br>通过setter实现监视，且要在new Vue时就传入要监测的数据。<br>  (1).对象中后追加的属性，Vue默认不做响应式处理<br>  (2).如需给后添加的属性做响应式，请使用如下API：<pre><code>`Vue.set(target，propertyName/index，value)` 或`vm.$set(target，propertyName/index，value)`</code></pre></li><li>如何监测<a href="https://so.csdn.net/so/search?q=数组&amp;spm=1001.2101.3001.7020">数组</a>中的数据？<br>通过包裹数组更新元素的方法实现，本质就是做了两件事：<br>  (1). 调用原生对应的方法对数组进行更新。<br>  (2). 重新解析模板，进而更新页面。</li><li>在Vue修改数组中的某个元素一定要用如下方法：<br>(1). 使用这些API:push()、pop()、shift()、unshift()、splice()、sort()、reverse()<br>(2). Vue.set() 或 vm.$set()</li></ol><p>特别注意：Vue.set() 和 vm.$set() 不能给vm 或 vm的根数据对象 添加属性！！！</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>总结数据监视<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-tag">button</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">margin-top</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 引入Vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 准备好一个容器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>学生信息<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;student.age++&quot;</span>&gt;</span>年龄+1岁<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addSex&quot;</span>&gt;</span>添加性别属性，默认值：男<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;student.sex = &#x27;未知&#x27; &quot;</span>&gt;</span>修改性别<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addFriend&quot;</span>&gt;</span>在列表首位添加一个朋友<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateFirstFriendName&quot;</span>&gt;</span>修改第一个朋友的名字为：张三<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addHobby&quot;</span>&gt;</span>添加一个爱好<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateHobby&quot;</span>&gt;</span>修改第一个爱好为：开车<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;removeSmoke&quot;</span>&gt;</span>过滤掉爱好中的抽烟<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>姓名：&#123;&#123;student.name&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>年龄：&#123;&#123;student.age&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-if</span>=<span class="string">&quot;student.sex&quot;</span>&gt;</span>性别：&#123;&#123;student.sex&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>爱好：<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(h,index) in student.hobby&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">&#123;&#123;h&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>朋友们：<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(f,index) in student.friends&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">&#123;&#123;f.name&#125;&#125;--&#123;&#123;f.age&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">//阻止 vue 在启动时生成生产提示。</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123; </span></span><br><span class="line"><span class="language-javascript"><span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">student</span>:&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">name</span>:<span class="string">&#x27;tom&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">age</span>:<span class="number">18</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">hobby</span>:[<span class="string">&#x27;抽烟&#x27;</span>,<span class="string">&#x27;喝酒&#x27;</span>,<span class="string">&#x27;烫头&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript"><span class="attr">friends</span>:[</span></span><br><span class="line"><span class="language-javascript">&#123;<span class="attr">name</span>:<span class="string">&#x27;jerry&#x27;</span>,<span class="attr">age</span>:<span class="number">35</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">&#123;<span class="attr">name</span>:<span class="string">&#x27;tony&#x27;</span>,<span class="attr">age</span>:<span class="number">36</span>&#125;</span></span><br><span class="line"><span class="language-javascript">]</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="title function_">addSex</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// Vue.set(this.student,&#x27;sex&#x27;,&#x27;男&#x27;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">student</span>,<span class="string">&#x27;sex&#x27;</span>,<span class="string">&#x27;男&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="title function_">addFriend</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">friends</span>.<span class="title function_">unshift</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;jack&#x27;</span>,<span class="attr">age</span>:<span class="number">70</span>&#125;)</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="title function_">updateFirstFriendName</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">friends</span>[<span class="number">0</span>].<span class="property">name</span> = <span class="string">&#x27;张三&#x27;</span></span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="title function_">addHobby</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">hobby</span>.<span class="title function_">push</span>(<span class="string">&#x27;学习&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="title function_">updateHobby</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// this.student.hobby.splice(0,1,&#x27;开车&#x27;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// Vue.set(this.student.hobby,0,&#x27;开车&#x27;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">hobby</span>,<span class="number">0</span>,<span class="string">&#x27;开车&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="title function_">removeSmoke</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">hobby</span> = <span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">hobby</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">h</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">return</span> h !== <span class="string">&#x27;抽烟&#x27;</span></span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/15b75b022c7a4d3a8737a312d744da11.png" alt="在这里插入图片描述"></p><h1 id="4-数组更新检测"><a href="#4-数组更新检测" class="headerlink" title="4. 数组更新检测"></a>4. 数组更新检测</h1><ul><li>Vue 重写了数组中的一系列改变数组内部数据的方法（先调用原生，再更新界面）<br><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/20210118163340744.png" alt="数组变更方法"></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">persons</span>[index] = newP;</span><br><span class="line"><span class="comment">//并没有改变persons本身，数组内部发生了变化，但是没有调用变异方法，vue不会更新界面</span></span><br></pre></td></tr></table></figure><p>也可以替换item<br>相比之下，也有非变更方法，例如 filter()、concat() 和 slice()。它们不会变更原始数组，而总是返回一个新数组。当使用非变更方法时，可以用新数组替换旧数组。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fpersons = persons.<span class="title function_">filter</span>(</span><br><span class="line">  <span class="function"><span class="params">p</span> =&gt;</span> p.<span class="property">name</span>.<span class="title function_">includes</span>(searchName)</span><br><span class="line">)</span><br><span class="line"><span class="number">123</span></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>测试：v-for遍历数组<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(p, index) in persons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span> </span></span><br><span class="line"><span class="language-xml">                &#123;&#123;index&#125;&#125;---&#123;&#123;p.name&#125;&#125;---&#123;&#123;p.age&#125;&#125;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;deleteP(index)&quot;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateP(index, &#123;name:&#x27;Cat&#x27;, age: 20&#125;)&quot;</span>&gt;</span>更新<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>测试：v-for遍历对象<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value, key) in persons[1]&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;key&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                &#123;&#123;value&#125;&#125;---&#123;&#123;key&#125;&#125; </span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    </span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// Vue本身只是监视了persons的改变，没有监视数组内部数据的改变</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// Vue 重写了数组中的一系列改变数组内部数据的方法（先调用原生，再更新界面）</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">el</span>: <span class="string">&#x27;#demo&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">data</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">persons</span>:[ </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    &#123;<span class="attr">name</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    &#123;<span class="attr">name</span>: <span class="string">&#x27;Jack&#x27;</span>, <span class="attr">age</span>: <span class="number">19</span>&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    &#123;<span class="attr">name</span>: <span class="string">&#x27;Marry&#x27;</span>, <span class="attr">age</span>: <span class="number">16</span>&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    &#123;<span class="attr">name</span>: <span class="string">&#x27;Rose&#x27;</span>, <span class="attr">age</span>: <span class="number">12</span>&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                ]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="title function_">deleteP</span>(<span class="params">index</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="comment">// 删除persons中指定idnex的p（有数据绑定）</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="variable language_">this</span>.<span class="property">persons</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="title function_">updateP</span>(<span class="params">index, newP</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="comment">// this.persons[index] = newP; //数据（数组内部）变了，界面没有变化（没有数据绑定）</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="comment">//并没有改变persons本身，数组内部发生了变化，但是没有调用变异方法，vue不会更新界面</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="comment">// this.persons = []  //界面有变化，改变了persons</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="variable language_">this</span>.<span class="property">persons</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>, newP);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt; </span><br></pre></td></tr></table></figure><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/20210220200342961.gif" alt="在这里插入图片描述"></p><h1 id="5-过滤与排序"><a href="#5-过滤与排序" class="headerlink" title="5. 过滤与排序"></a>5. 过滤与排序</h1><p>过滤操作</p><p>可以使用watch也可以使用计算属性，使用计算属性更加简单方便一点</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>列表过滤<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 准备好一个容器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>人员列表<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入名字&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;keyWord&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(p,index) of filPerons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">&#123;&#123;p.name&#125;&#125;-&#123;&#123;p.age&#125;&#125;-&#123;&#123;p.sex&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//用watch实现</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//#region </span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">/* new Vue(&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">el:&#x27;#root&#x27;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">data:&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">keyWord:&#x27;&#x27;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">persons:[</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">&#123;id:&#x27;001&#x27;,name:&#x27;马冬梅&#x27;,age:19,sex:&#x27;女&#x27;&#125;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">&#123;id:&#x27;002&#x27;,name:&#x27;周冬雨&#x27;,age:20,sex:&#x27;女&#x27;&#125;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">&#123;id:&#x27;003&#x27;,name:&#x27;周杰伦&#x27;,age:21,sex:&#x27;男&#x27;&#125;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">&#123;id:&#x27;004&#x27;,name:&#x27;温兆伦&#x27;,age:22,sex:&#x27;男&#x27;&#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">],</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">filPerons:[]</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">&#125;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">watch:&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">keyWord:&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">immediate:true,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">handler(val)&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">this.filPerons = this.persons.filter((p)=&gt;&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">return p.name.indexOf(val) !== -1</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">&#125;)</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">&#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">&#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">&#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">&#125;) */</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//#endregion</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//用computed实现</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">keyWord</span>:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">persons</span>:[</span></span><br><span class="line"><span class="language-javascript">&#123;<span class="attr">id</span>:<span class="string">&#x27;001&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;马冬梅&#x27;</span>,<span class="attr">age</span>:<span class="number">19</span>,<span class="attr">sex</span>:<span class="string">&#x27;女&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">&#123;<span class="attr">id</span>:<span class="string">&#x27;002&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;周冬雨&#x27;</span>,<span class="attr">age</span>:<span class="number">20</span>,<span class="attr">sex</span>:<span class="string">&#x27;女&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">&#123;<span class="attr">id</span>:<span class="string">&#x27;003&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;周杰伦&#x27;</span>,<span class="attr">age</span>:<span class="number">21</span>,<span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">&#123;<span class="attr">id</span>:<span class="string">&#x27;004&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;温兆伦&#x27;</span>,<span class="attr">age</span>:<span class="number">22</span>,<span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span>&#125;</span></span><br><span class="line"><span class="language-javascript">]</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="title function_">filPerons</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">persons</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">p</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">return</span> p.<span class="property">name</span>.<span class="title function_">indexOf</span>(<span class="variable language_">this</span>.<span class="property">keyWord</span>) !== -<span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;) </span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>排序操作</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>:&#123;</span><br><span class="line"><span class="title function_">filPerons</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">const</span> arr = <span class="variable language_">this</span>.<span class="property">persons</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">p</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">return</span> p.<span class="property">name</span>.<span class="title function_">indexOf</span>(<span class="variable language_">this</span>.<span class="property">keyWord</span>) !== -<span class="number">1</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//判断一下是否需要排序</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">sortType</span>)&#123;</span><br><span class="line">arr.<span class="title function_">sort</span>(<span class="function">(<span class="params">p1,p2</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">sortType</span> === <span class="number">1</span> ? p2.<span class="property">age</span>-p1.<span class="property">age</span> : p1.<span class="property">age</span>-p2.<span class="property">age</span></span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>例子</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;searchName&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(p, index) in filterPersons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123;index&#125;&#125;---&#123;&#123;p.name&#125;&#125;---&#123;&#123;p.age&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;setOrderType(1)&quot;</span>&gt;</span>年龄升序<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;setOrderType(2)&quot;</span>&gt;</span>年龄降序<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;setOrderType(0)&quot;</span>&gt;</span>还原顺序<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#test&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">searchName</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">orderType</span>: <span class="number">0</span>, <span class="comment">//0代表原本， 1代表升序， 2代表降序</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">persons</span>: [</span></span><br><span class="line"><span class="language-javascript">                    &#123;<span class="attr">name</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="attr">age</span>: <span class="number">10</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123;<span class="attr">name</span>: <span class="string">&#x27;Jack&#x27;</span>, <span class="attr">age</span>: <span class="number">16</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123;<span class="attr">name</span>: <span class="string">&#x27;Rose&#x27;</span>, <span class="attr">age</span>: <span class="number">12</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123;<span class="attr">name</span>: <span class="string">&#x27;Aka&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;</span></span><br><span class="line"><span class="language-javascript">                ]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">filterPersons</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 1. 取出相关数据</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> &#123;searchName, persons, orderType&#125; = <span class="variable language_">this</span>; <span class="comment">// 解构赋值</span></span></span><br><span class="line"><span class="language-javascript">                    </span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">let</span> fPersons;</span></span><br><span class="line"><span class="language-javascript">               </span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 2. 对persons进行过滤</span></span></span><br><span class="line"><span class="language-javascript">                    fPersons = persons.<span class="title function_">filter</span>(<span class="function"><span class="params">p</span> =&gt;</span> p.<span class="property">name</span>.<span class="title function_">indexOf</span>(searchName) !== -<span class="number">1</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 3. 排序</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span>(orderType !== <span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        fPersons.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">p1, p2</span>)&#123; <span class="comment">// 返回负数p1在前，返回正数p2在前</span></span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">if</span>(orderType === <span class="number">2</span>)&#123; </span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">return</span> p2.<span class="property">age</span> - p1.<span class="property">age</span>; <span class="comment">// 降序</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;<span class="keyword">else</span>&#123; </span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">return</span> p1.<span class="property">age</span> - p2.<span class="property">age</span>; <span class="comment">// 升序</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;)</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> fPersons;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">setOrderType</span>(<span class="params">orderType</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">orderType</span> = orderType;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/20210220200230571.gif" alt="在这里插入图片描述"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;【Vue】基础系列（五）列表渲染v-for-key的原理-数组-对象-删除替换-过滤与排序&quot;&gt;&lt;a href=&quot;#【Vue】基础系列（五）列表渲染v-for-key的原理-数组-对象-删除替换-过滤与排序&quot; class=&quot;headerlink&quot; title=&quot;【V</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue基础" scheme="https://manamn.space/tags/Vue%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>基础系列（二）模板语法 - 插值语法 - 指令语法</title>
    <link href="https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E4%BA%8C%EF%BC%89%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95%20-%20%E6%8F%92%E5%80%BC%E8%AF%AD%E6%B3%95%20-%20%E6%8C%87%E4%BB%A4%E8%AF%AD%E6%B3%95/"/>
    <id>https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E4%BA%8C%EF%BC%89%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95%20-%20%E6%8F%92%E5%80%BC%E8%AF%AD%E6%B3%95%20-%20%E6%8C%87%E4%BB%A4%E8%AF%AD%E6%B3%95/</id>
    <published>2022-10-26T02:07:30.000Z</published>
    <updated>2022-10-26T03:21:50.100Z</updated>
    
    <content type="html"><![CDATA[<h1 id="【Vue】基础系列（二）模板语法-插值语法-指令语法-v-bind-v-model-v-on-v-if-v-show"><a href="#【Vue】基础系列（二）模板语法-插值语法-指令语法-v-bind-v-model-v-on-v-if-v-show" class="headerlink" title="【Vue】基础系列（二）模板语法 - 插值语法 - 指令语法 - | v-bind | v-model | v-on | v-if | v- show"></a>【Vue】基础系列（二）模板语法 - 插值语法 - 指令语法 - | v-bind | v-model | v-on | v-if | v- show</h1><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025170433891.png" alt="image-20221025170433891"></p><h1 id="1-模板的理解"><a href="#1-模板的理解" class="headerlink" title="1. 模板的理解"></a>1. 模板的理解</h1><ol><li>动态html页面</li><li>包含了一些js语法代码</li></ol><ul><li>【插值语法】双大括号表达式 （“Mustache”语法）【一个】</li><li>【指令语法】指令（以v-开头的自定义标签属性）【很多】</li></ul><ol><li><a href="https://so.csdn.net/so/search?q=插值&amp;spm=1001.2101.3001.7020">插值</a>语法：<br>功能：用于解析标签体内容<br>写法：，xxx是js表达式，且可以直接读取到data中的所有属性</li><li>指令语法：<br>功能：用于解析标签（包括：标签属性、标签体内容、绑定事件…）<br>举例：v-bind:href=“xxx” 或 简写为 :href=“xxx”，xxx同样要写js表达式，且可以直接读取到data中的所有属性<br>备注：Vue中有很多的指令，且形式都是：v-???</li></ol><h1 id="2-插值语法：双大括号表达式"><a href="#2-插值语法：双大括号表达式" class="headerlink" title="2. 插值语法：双大括号表达式"></a>2. 插值语法：双大括号表达式</h1><ol><li>语法: <code>&#123;&#123;exp&#125;&#125;</code></li><li>功能: 向页面输出数据</li><li>可以调用对象的方法</li></ol><p>里面写js表达式：有返回值的js代码，而不是js语句</p><h1 id="3-指令语法：强制数据绑定-v-bind"><a href="#3-指令语法：强制数据绑定-v-bind" class="headerlink" title="3. 指令语法：强制数据绑定 v-bind:"></a>3. 指令语法：强制数据绑定 <code>v-bind:</code></h1><blockquote><p>功能：指定变化的属性值</p></blockquote><p>完整写法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v-<span class="attr">bind</span>:xxx=<span class="string">&#x27;yyy&#x27;</span>  <span class="comment">// yyy会作为表达式解析执行</span></span><br></pre></td></tr></table></figure><p>简洁写法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:xxx=<span class="string">&#x27;yyy&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="单向数据绑定"><a href="#单向数据绑定" class="headerlink" title="单向数据绑定"></a>单向数据绑定</h2><ol><li>语法：<code>v-bind:href =&quot;xxx&quot;</code> 或简写为 <code>:href =&quot;xxx&quot;</code></li><li>特点：数据只能从 data 流向页面</li></ol><h2 id="双向数据绑定-指令-v-model"><a href="#双向数据绑定-指令-v-model" class="headerlink" title="双向数据绑定 指令 v-model"></a>双向数据绑定 指令 <code>v-model</code></h2><ol><li>语法：<code>v-mode:value=&quot;xxx&quot;</code> 或简写为 <code>v-model=&quot;xxx&quot;</code></li><li>特点：数据不仅能从 data 流向页面，还能从页面流向 data</li></ol><h1 id="4-指令语法：绑定事件监听-v-on"><a href="#4-指令语法：绑定事件监听-v-on" class="headerlink" title="4. 指令语法：绑定事件监听 v-on:"></a>4. 指令语法：绑定事件监听 <code>v-on:</code></h1><blockquote><p>功能：绑定指定事件名的回调函数</p></blockquote><p>完整写法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">v-<span class="attr">on</span>:click=<span class="string">&#x27;xxx&#x27;</span></span><br><span class="line">v-<span class="attr">on</span>:keyup=<span class="string">&#x27;xxx(参数)&#x27;</span></span><br><span class="line">v-<span class="attr">on</span>:keyup.<span class="property">enter</span>=<span class="string">&#x27;xxx&#x27;</span></span><br></pre></td></tr></table></figure><p>简洁写法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@click=<span class="string">&#x27;xxx&#x27;</span></span><br><span class="line">@keyup=<span class="string">&#x27;xxx&#x27;</span></span><br><span class="line">@keyup.<span class="property">enter</span>=<span class="string">&#x27;xxx&#x27;</span></span><br></pre></td></tr></table></figure><h1 id="5-示例"><a href="#5-示例" class="headerlink" title="5. 示例"></a>5. 示例</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v-text</span><br></pre></td></tr></table></figure><ol><li>作用：向其所在的节点中渲染文本内容。</li><li>与插值语法的区别：<code>v-text</code>会替换掉节点中的内容，<code>&#123;&#123;xx&#125;&#125;</code>则不会。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v-html</span><br></pre></td></tr></table></figure><ol><li>作用：向指定节点中渲染包含html结构的内容。</li><li>与插值语法的区别：<br>(1).<code>v-html</code>会替换掉节点中所有的内容，<code>&#123;&#123;xx&#125;&#125;</code>则不会。<br>(2).<code>v-html</code>可以识别html结构。</li><li>严重注意：<code>v-html</code>有安全性问题！！！！<br>(1).在网站上动态渲染任意HTML是非常危险的，容易导致XSS攻击。<br>(2).一定要在可信的内容上使用<code>v-html</code>，永不要用在用户提交的内容上！</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;app&#x27;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>1. 大括号表达式<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span>    <span class="comment">&lt;!--textContent --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;msg.toUpperCase()&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-html</span>=<span class="string">&quot;msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span> <span class="comment">&lt;!--innerHTML --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-text</span>=<span class="string">&quot;msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span> <span class="comment">&lt;!--textContent --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-text</span>=<span class="string">&quot;msg.toUpperCase()&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>2. 指令一： 强制数据绑定<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;imgUrl&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Vue&quot;</span>&gt;</span>  <span class="comment">&lt;!--无法显示图片，没有识别成js表达式 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-bind:src</span>=<span class="string">&quot;imgUrl&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Vue&quot;</span>&gt;</span> <span class="comment">&lt;!--属性值识别成js表达式 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;imgUrl&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Vue&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>3. 指令二： 绑定事件监听<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;test1&quot;</span>&gt;</span>test1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;test1&quot;</span>&gt;</span>test1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;test2(&#x27;abc&#x27;)&quot;</span>&gt;</span>test2<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="comment">&lt;!--可以传参数 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;test2(msg)&quot;</span>&gt;</span>test2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">msg</span>: <span class="string">&#x27;&lt;a href=&quot;http:www.baidu.com&quot;&gt;I Will Back!&lt;/a&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">imgUrl</span>: <span class="string">&quot;https://cn.vuejs.org/images/logo.png&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">test1</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(<span class="string">&#x27;heheh&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">test2</span>(<span class="params">content</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(content);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/20210118144427546.png" alt="在这里插入图片描述"></p><h1 id="6-条件渲染指令"><a href="#6-条件渲染指令" class="headerlink" title="6. 条件渲染指令"></a>6. 条件渲染指令</h1><blockquote><p>移除标签删除</p></blockquote><ul><li>v-if</li><li>v-else</li></ul><p>写法：</p><ol><li><code>v-if=&quot;表达式&quot;</code></li><li><code>v-else-if=&quot;表达式&quot;</code></li><li><code>v-else=&quot;表达式&quot;</code></li></ol><p>适用于：切换频率较低的场景。<br>特点：不展示的DOM元素直接被移除。<br>注意：v-if可以和:v-else-if、v-else一起使用，但要求结构不能被“打断”。</p><blockquote><p>添加样式隐藏（display: none）</p></blockquote><ul><li>v-show</li></ul><p>写法：<code>v-show=&quot;表达式&quot;</code><br>适用于：切换频率较高的场景。<br>特点：不展示的DOM元素未被移除，仅仅是使用样式隐藏掉</p><p>【备注】使用v-if的时候，元素可能无法获取到，而使用v-show一定可以获取到。</p><h1 id="7-比较v-if与v-show"><a href="#7-比较v-if与v-show" class="headerlink" title="7. 比较v-if与v-show"></a>7. 比较v-if与v-show</h1><ul><li>如果需要频繁切换 v-show 较好</li><li>当条件不成立时, v-if 的所有子节点不会解析</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;ok&quot;</span>&gt;</span>成功了<span class="tag">&lt;/<span class="name">p</span>&gt;</span> <span class="comment">&lt;!-- 移除标签删除 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else</span>&gt;</span>失败了<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">&quot;ok&quot;</span>&gt;</span>又成功了<span class="tag">&lt;/<span class="name">p</span>&gt;</span> <span class="comment">&lt;!-- 添加样式隐藏 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">&quot;!ok&quot;</span>&gt;</span>又失败了<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;ok = !ok&quot;</span>&gt;</span>切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#demo&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">ok</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/20210220174225497.gif" alt="在这里插入图片描述"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;【Vue】基础系列（二）模板语法-插值语法-指令语法-v-bind-v-model-v-on-v-if-v-show&quot;&gt;&lt;a href=&quot;#【Vue】基础系列（二）模板语法-插值语法-指令语法-v-bind-v-model-v-on-v-if-v-show&quot; cl</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue基础" scheme="https://manamn.space/tags/Vue%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>Vue基础系列（四）样式绑定</title>
    <link href="https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E5%9B%9B%EF%BC%89%E6%A0%B7%E5%BC%8F%E7%BB%91%E5%AE%9A/"/>
    <id>https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E5%9B%9B%EF%BC%89%E6%A0%B7%E5%BC%8F%E7%BB%91%E5%AE%9A/</id>
    <published>2022-10-26T02:07:30.000Z</published>
    <updated>2022-10-26T03:22:23.336Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165421852.png" alt="image-20221025165421852"></p><blockquote><p>在应用界面中, 某个(些)元素的样式是变化的，<code>class</code>/<code>style</code> 绑定就是专门用来实现动态样式效果的技术</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:class=<span class="string">&#x27;xxx&#x27;</span> <span class="comment">// xxx可以是字符串、对象、数组。</span></span><br></pre></td></tr></table></figure><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><ol><li>表达式是字符串: ‘classA’</li></ol><p>适用于：<strong>类名不确定，要动态获取</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span><br><span class="line">  &lt;title&gt;绑定样式&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    .basic &#123;</span><br><span class="line">   </span><br><span class="line">      width: 400px;</span><br><span class="line">      height: 100px;</span><br><span class="line">      border: 1px solid black;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .happy &#123;</span><br><span class="line">   </span><br><span class="line">      border: 4px solid red;</span><br><span class="line">      ;</span><br><span class="line">      background-color: rgba(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">0.644</span>);</span><br><span class="line">      background: linear-gradient(30deg, yellow, pink, orange, yellow);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .sad &#123;</span><br><span class="line">   </span><br><span class="line">      border: 4px dashed <span class="title function_">rgb</span><span class="params">(<span class="number">2</span>, <span class="number">197</span>, <span class="number">2</span>)</span>;</span><br><span class="line">      background-color: gray;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .normal &#123;</span><br><span class="line">   </span><br><span class="line">      background-color: skyblue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">  &lt;script src=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.6.12/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- 准备好一个容器--&gt;</span><br><span class="line">  &lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line">    &lt;!-- 绑定class样式--字符串写法，适用于：样式的类名不确定，需要动态指定 --&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;basic&quot;</span> :class=<span class="string">&quot;mood&quot;</span> <span class="meta">@click</span>=<span class="string">&quot;changeMood&quot;</span>&gt;&#123;</span><br><span class="line">   &#123;</span><br><span class="line">   name&#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">  Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="type">const</span> <span class="variable">vm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">    el: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">   </span><br><span class="line">      name: <span class="string">&#x27;YK菌&#x27;</span>,</span><br><span class="line">      mood: <span class="string">&#x27;normal&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">   </span><br><span class="line">      changeMood() &#123;</span><br><span class="line">   </span><br><span class="line">        <span class="type">const</span> <span class="variable">arr</span> <span class="operator">=</span> [<span class="string">&#x27;happy&#x27;</span>, <span class="string">&#x27;sad&#x27;</span>, <span class="string">&#x27;normal&#x27;</span>]</span><br><span class="line">        <span class="type">const</span> <span class="variable">index</span> <span class="operator">=</span> Math.floor(Math.random() * <span class="number">3</span>)</span><br><span class="line">        <span class="built_in">this</span>.mood = arr[index]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/img_convert/2bce2310c73e0356fc2c0ea6efe2dfa2.gif" alt="img"></p><h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><ol><li>表达式是对象: {classA:isA, classB: isB}</li></ol><p>适用于：<strong>要绑定多个样式，个数不确定，名字也不确定</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span><br><span class="line">  &lt;title&gt;绑定样式&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    .basic &#123;</span><br><span class="line">   </span><br><span class="line">      width: 400px;</span><br><span class="line">      height: 100px;</span><br><span class="line">      border: 1px solid black;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .yk1 &#123;</span><br><span class="line">   </span><br><span class="line">      background-color: yellowgreen;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .yk2 &#123;</span><br><span class="line">   </span><br><span class="line">      font-size: 30px;</span><br><span class="line">      text-shadow: 2px 2px 10px red;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .yk3 &#123;</span><br><span class="line">   </span><br><span class="line">      border-radius: 20px;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">  &lt;script src=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.6.12/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- 准备好一个容器--&gt;</span><br><span class="line">  &lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 绑定class样式--数组写法，适用于：要绑定的样式个数不确定、名字也不确定 --&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;basic&quot;</span> :class=<span class="string">&quot;classArr&quot;</span>&gt;&#123;</span><br><span class="line">   &#123;</span><br><span class="line">   name&#125;&#125;&lt;/div&gt; &lt;br /&gt;&lt;br /&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">  Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="type">const</span> <span class="variable">vm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">    el: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">   </span><br><span class="line">      name: <span class="string">&#x27;YK菌&#x27;</span>,</span><br><span class="line">      classArr: [<span class="string">&#x27;yk1&#x27;</span>, <span class="string">&#x27;yk2&#x27;</span>, <span class="string">&#x27;yk3&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/img_convert/9dbeeb69b1b045515ca3f00db76a5d28.png" alt="img"></p><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><ol><li>表达式是数组: [‘classA’, ‘classB’]</li></ol><p>适用于：<strong>要绑定多个样式，个数确定，名字也确定，但不确定用不用</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span><br><span class="line">  &lt;title&gt;绑定样式&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    .basic &#123;</span><br><span class="line">   </span><br><span class="line">      width: 400px;</span><br><span class="line">      height: 100px;</span><br><span class="line">      border: 1px solid black;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .yk1 &#123;</span><br><span class="line">   </span><br><span class="line">      background-color: yellowgreen;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .yk2 &#123;</span><br><span class="line">   </span><br><span class="line">      font-size: 30px;</span><br><span class="line">      text-shadow: 2px 2px 10px red;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .yk3 &#123;</span><br><span class="line">   </span><br><span class="line">      border-radius: 20px;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">  &lt;script src=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.6.12/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- 准备好一个容器--&gt;</span><br><span class="line">  &lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 绑定class样式--对象写法，适用于：要绑定的样式个数确定、名字也确定，但要动态决定用不用 --&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;basic&quot;</span> :class=<span class="string">&quot;classObj&quot;</span>&gt;&#123;</span><br><span class="line">   &#123;</span><br><span class="line">   name&#125;&#125;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">  Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="type">const</span> <span class="variable">vm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">    el: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">   </span><br><span class="line">      name: <span class="string">&#x27;YK菌&#x27;</span>,</span><br><span class="line">      classObj: &#123;</span><br><span class="line">   </span><br><span class="line">        yk1: <span class="literal">true</span>,</span><br><span class="line">        yk2: <span class="literal">false</span>,</span><br><span class="line">        yk3: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/img_convert/b93d58dca01ca6843c02ac8ddad0fe1b.png" alt="img"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:style=<span class="string">&quot;&#123; color: activeColor, fontSize: fontSize + &#x27;px&#x27; &#125;&quot;</span></span><br></pre></td></tr></table></figure><p>其中 activeColor/fontSize 是 data 属性</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">:style=<span class="string">&quot;&#123;fontSize: xxx&#125;&quot;</span>其中xxx是动态值。</span><br><span class="line">:style=<span class="string">&quot;[a,b]&quot;</span>其中a、b是样式对象。</span><br></pre></td></tr></table></figure><h2 id="对象-1"><a href="#对象-1" class="headerlink" title="对象"></a>对象</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span><br><span class="line">  &lt;title&gt;绑定样式&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    .basic &#123;</span><br><span class="line">   </span><br><span class="line">      width: 400px;</span><br><span class="line">      height: 100px;</span><br><span class="line">      border: 1px solid black;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">  &lt;script src=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.6.12/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- 准备好一个容器--&gt;</span><br><span class="line">  &lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 绑定style样式--对象写法 --&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;basic&quot;</span> :style=<span class="string">&quot;styleObj, styleObj2&quot;</span>&gt;&#123;</span><br><span class="line">   &#123;</span><br><span class="line">   name&#125;&#125;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">  Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="type">const</span> <span class="variable">vm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">    el: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">   </span><br><span class="line">      name: <span class="string">&#x27;YK菌&#x27;</span>,</span><br><span class="line">      styleObj: &#123;</span><br><span class="line">   </span><br><span class="line">        fontSize: <span class="string">&#x27;40px&#x27;</span>,</span><br><span class="line">        color: <span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      styleObj2: &#123;</span><br><span class="line">   </span><br><span class="line">        backgroundColor: <span class="string">&#x27;orange&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/img_convert/efc2f175000425f9408def5d88fd2f7b.png" alt="img"></p><h2 id="数组-1"><a href="#数组-1" class="headerlink" title="数组"></a>数组</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span><br><span class="line">  &lt;title&gt;绑定样式&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    .basic &#123;</span><br><span class="line">   </span><br><span class="line">      width: 400px;</span><br><span class="line">      height: 100px;</span><br><span class="line">      border: 1px solid black;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">  &lt;script src=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.6.12/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- 准备好一个容器--&gt;</span><br><span class="line">  &lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 绑定style样式--数组写法 --&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;basic&quot;</span> :style=<span class="string">&quot;styleArr&quot;</span>&gt;&#123;</span><br><span class="line">   &#123;</span><br><span class="line">   name&#125;&#125;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">  Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="type">const</span> <span class="variable">vm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">    el: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">   </span><br><span class="line">      name: <span class="string">&#x27;YK菌&#x27;</span>,</span><br><span class="line">      styleArr: [&#123;</span><br><span class="line">   </span><br><span class="line">          fontSize: <span class="string">&#x27;40px&#x27;</span>,</span><br><span class="line">          color: <span class="string">&#x27;blue&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">   </span><br><span class="line">          backgroundColor: <span class="string">&#x27;gray&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/img_convert/2bff91ddf1136aed516815786ddd3487.png" alt="img"></p><blockquote><p>最后，欢迎关注我的专栏，和<strong>YK菌</strong>做好朋友</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165421852.png&quot; alt=&quot;image-20221025165421852&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue基础" scheme="https://manamn.space/tags/Vue%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>Vue基础系列（三）计算属性-监视属性-双向绑定-示例-getter/setter显示与监听-计算属性缓存</title>
    <link href="https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%89%EF%BC%89%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7-%E7%9B%91%E8%A7%86%E5%B1%9E%E6%80%A7-%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A-%E7%A4%BA%E4%BE%8B-getter-setter%E6%98%BE%E7%A4%BA%E4%B8%8E%E7%9B%91%E5%90%AC-%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%BC%93%E5%AD%98/"/>
    <id>https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%89%EF%BC%89%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7-%E7%9B%91%E8%A7%86%E5%B1%9E%E6%80%A7-%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A-%E7%A4%BA%E4%BE%8B-getter-setter%E6%98%BE%E7%A4%BA%E4%B8%8E%E7%9B%91%E5%90%AC-%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%BC%93%E5%AD%98/</id>
    <published>2022-10-26T02:06:46.000Z</published>
    <updated>2022-10-26T03:22:36.381Z</updated>
    
    <content type="html"><![CDATA[<h1 id="【Vue】基础系列（三）计算属性-监视属性-双向绑定-示例-getter-setter显示与监听-计算属性缓存"><a href="#【Vue】基础系列（三）计算属性-监视属性-双向绑定-示例-getter-setter显示与监听-计算属性缓存" class="headerlink" title="【Vue】基础系列（三）计算属性-监视属性-双向绑定-示例-getter/setter显示与监听-计算属性缓存"></a>【Vue】基础系列（三）计算属性-监视属性-双向绑定-示例-getter/setter显示与监听-计算属性缓存</h1><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025173315137.png" alt="image-20221025173315137"></p><h1 id="1-计算属性-computed"><a href="#1-计算属性-computed" class="headerlink" title="1. 计算属性 computed"></a>1. 计算属性 computed</h1><ul><li>在computed属性对象中定义计算属性的方法</li><li>在页面中使用<code>&#123;&#123;方法名&#125;&#125;</code>来显示计算的结果</li></ul><ol><li>定义：要用的属性不存在，要通过已有属性计算得来。</li><li>原理：底层借助了<code>Objcet.defineproperty</code>方法提供的<code>getter</code>和<code>setter</code>。</li><li>get函数什么时候执行？<br>(1). 初次读取时会执行一次。<br>(2). 当依赖的数据发生改变时会被再次调用。</li><li>优势：与methods实现相比，内部有缓存机制（复用），效率更高，调试方便。</li><li>备注：<br>1.计算属性最终会出现在vm上，直接读取使用即可。<br>2.如果计算属性要被修改，那必须写set函数去响应修改，且set中要引起计算时依赖的数据发生改变。</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//完整写法</span></span><br><span class="line"> <span class="attr">fullName</span>:&#123;</span><br><span class="line"><span class="title function_">get</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;get被调用了&#x27;</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">set</span>(<span class="params">value</span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;set&#x27;</span>,value)</span><br><span class="line"><span class="keyword">const</span> arr = value.<span class="title function_">split</span>(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">firstName</span> = arr[<span class="number">0</span>]</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">lastName</span> = arr[<span class="number">1</span>]</span><br><span class="line">&#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">//简写</span></span><br><span class="line"><span class="title function_">fullName</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;get被调用了&#x27;</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="2-监视属性-watch"><a href="#2-监视属性-watch" class="headerlink" title="2. 监视属性 watch"></a>2. 监视属性 watch</h1><ul><li>通过通过vm对象的<code>$watch()</code>或<code>watch配置</code>来监视指定的属性</li><li>当属性变化时, 回调函数自动调用, 在函数内部进行计算</li></ul><ol><li>当被监视的属性变化时, 回调函数自动调用, 进行相关操作</li><li>监视的属性必须存在，才能进行监视！！</li><li>监视的两种写法：<br>(1). <code>new Vue</code>时传入<code>watch</code>配置<br>(2). 通过<code>vm.$watch</code>监视</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">watch</span>:&#123;</span><br><span class="line"><span class="attr">isHot</span>:&#123;</span><br><span class="line"><span class="attr">immediate</span>:<span class="literal">true</span>, <span class="comment">//初始化时让handler调用一下</span></span><br><span class="line"><span class="comment">//handler什么时候调用？当isHot发生改变时。</span></span><br><span class="line"><span class="title function_">handler</span>(<span class="params">newValue,oldValue</span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;isHot被修改了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">vm.$watch(<span class="string">&#x27;isHot&#x27;</span>,&#123;</span><br><span class="line"><span class="attr">immediate</span>:<span class="literal">true</span>, <span class="comment">//初始化时让handler调用一下</span></span><br><span class="line"><span class="comment">//handler什么时候调用？当isHot发生改变时。</span></span><br><span class="line"><span class="title function_">handler</span>(<span class="params">newValue,oldValue</span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;isHot被修改了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>深度监视：<br>(1). Vue中的watch默认不监测对象内部值的改变（一层）。<br>(2). 配置<code>deep:true</code>可以监测对象内部值改变（多层）。<br>备注：<br>(1). Vue自身可以监测对象内部值的改变，但Vue提供的watch默认不可以！<br>(2). 使用watch时根据数据的具体结构，决定是否采用深度监视。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">numbers</span>:&#123;</span><br><span class="line"><span class="attr">deep</span>:<span class="literal">true</span>,</span><br><span class="line"><span class="title function_">handler</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;numbers改变了&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>简写</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//正常写法</span></span><br><span class="line"><span class="attr">isHot</span>:&#123;</span><br><span class="line"><span class="comment">// immediate:true, //初始化时让handler调用一下</span></span><br><span class="line"><span class="comment">// deep:true,//深度监视</span></span><br><span class="line"><span class="title function_">handler</span>(<span class="params">newValue,oldValue</span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;isHot被修改了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//简写</span></span><br><span class="line"><span class="title function_">isHot</span>(<span class="params">newValue,oldValue</span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;isHot被修改了&#x27;</span>,newValue,oldValue,<span class="variable language_">this</span>)</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h1 id="3-计算属性与监视属性的区别"><a href="#3-计算属性与监视属性的区别" class="headerlink" title="3. 计算属性与监视属性的区别"></a>3. 计算属性与监视属性的区别</h1><p>computed和watch之间的区别：</p><ol><li>computed能完成的功能，watch都可以完成。</li><li>watch能完成的功能，computed不一定能完成，例如：watch可以进行异步操作。</li></ol><p>两个重要的小原则：</p><ol><li>所被Vue管理的函数，最好写成普通函数，这样this的指向才是vm 或 组件实例对象。</li><li>所有不被Vue所管理的函数（定时器的回调函数、ajax的回调函数等、Promise的回调函数），最好写成箭头函数，这样this的指向才是vm 或 组件实例对象。</li></ol><h1 id="4-例子"><a href="#4-例子" class="headerlink" title="4. 例子"></a>4. 例子</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span><br><span class="line">        姓：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;First Name&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Last Name&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        姓名1（单向）：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Full Name1&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;fullName1&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        姓名2（单向）：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Full Name2&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;fullName2&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        姓名3（双向）：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Full Name3&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;fullName3&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;fullName1&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;fullName1&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;fullName1&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#demo&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">firstName</span>: <span class="string">&#x27;A&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">lastName</span>: <span class="string">&#x27;B&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">fullName2</span>: <span class="string">&#x27;A B&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 什么时候执行：初始化显示 / 相关的data属性数据发生改变</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 做什么的: 计算并返回当前属性的值</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">fullName1</span>(<span class="params"></span>) &#123; <span class="comment">//计算属性中的一个方法，方法的返回值作为属性 （回调函数）</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fullName1()&#x27;</span>) <span class="comment">// 必然会掉用</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27; &#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">fullName3</span>: &#123; <span class="comment">//不是函数是一个对象，里面有两个方法  </span></span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">// 回调函数 ： 1. 你定义的 2. 你没有调用 3. 但他最终执行了</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">// 1. 什么时候调用？ 2. 用来做什么</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 回调函数 当需要读取当前属性值时回调  根据相关的数据计算并返回当前属性的值</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27; &#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">set</span>(<span class="params">value</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 回调函数 监视当前属性值的变化 当属性值发生改变时回调  更新相关的属性数据</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> names = value.<span class="title function_">split</span>(<span class="string">&#x27; &#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">firstName</span> = names[<span class="number">0</span>];</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">lastName</span> = names[<span class="number">1</span>];</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">watch</span>: &#123; <span class="comment">//配置监视</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">firstName</span>: <span class="keyword">function</span>(<span class="params">value</span>)&#123; <span class="comment">// firstName 发生了变化</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>); <span class="comment">//就是vm对象</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">fullName2</span> = value + <span class="string">&#x27; &#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        vm.$watch(<span class="string">&#x27;lastName&#x27;</span>, <span class="keyword">function</span>(<span class="params">value</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//更新fullName2</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">fullName2</span> = <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27; &#x27;</span> + value;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/20210203153111282.gif" alt="在这里插入图片描述"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;【Vue】基础系列（三）计算属性-监视属性-双向绑定-示例-getter-setter显示与监听-计算属性缓存&quot;&gt;&lt;a href=&quot;#【Vue】基础系列（三）计算属性-监视属性-双向绑定-示例-getter-setter显示与监听-计算属性缓存&quot; class=&quot;h</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue基础" scheme="https://manamn.space/tags/Vue%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>基础系列（一）初始Vue</title>
    <link href="https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%80%EF%BC%89%E5%88%9D%E5%A7%8BVue/"/>
    <id>https://manamn.space/2022/10/26/Vue/Vue%E5%9F%BA%E7%A1%80/Vue%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97%EF%BC%88%E4%B8%80%EF%BC%89%E5%88%9D%E5%A7%8BVue/</id>
    <published>2022-10-26T02:04:21.000Z</published>
    <updated>2022-10-26T03:03:53.721Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165421852.png" alt="image-20221025165421852"></p><blockquote><p>渐进式 JavaScript 框架，用来动态构建用户界面</p></blockquote><p> <a href="https://cn.vuejs.org/">https://cn.vuejs.org/</a> <img src="https://img-blog.csdnimg.cn/82202af3b2b84d3d95e83f4d8ecb0a5e.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAWUvoj4w=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p><h2 id="0-1-特点"><a href="#0-1-特点" class="headerlink" title="0.1 特点"></a>0.1 特点</h2><ol><li>遵循 MVVM 模式 </li><li>编码简洁，体积小，运行效率高，适合 移动/PC 端开发 </li><li>它本身只关注 UI，可以轻松引入 vue 插件或其它第三方库开发项目 </li><li>采用<strong>组件化</strong>模式，提高代码复用率、且让代码更好维护 </li><li><strong>声明式</strong>编码，让编码人员无需直接操作DOM，提高开发效率 </li><li>使用<strong>虚拟DOM</strong>和<strong>Diff算法</strong>，尽量复用DOM节点</li></ol><h2 id="0-2-与其他前端-JS-框架的关联"><a href="#0-2-与其他前端-JS-框架的关联" class="headerlink" title="0.2 与其他前端 JS 框架的关联"></a>0.2 与其他前端 JS 框架的关联</h2><p>借鉴 angular 的 <strong>模板</strong> 和 <strong>数据绑定</strong> 技术 借鉴 react 的 <strong>组件化</strong> 和 <strong>虚拟DOM</strong> 技术</p><h2 id="0-3-Vue-扩展插件"><a href="#0-3-Vue-扩展插件" class="headerlink" title="0.3 Vue 扩展插件"></a>0.3 Vue 扩展插件</h2><p>vue-cli：vue 脚手架 vue-resource(axios)：ajax 请求 vue-router：路由 vuex：状态管理（它是 vue 的插件但是没有用 vue-xxx 的命名规则） vue-lazyload：图片懒加载 vue-scroller：页面滑动相关 mint-ui：基于 vue 的 UI 组件库（移动端） element-ui：基于 vue 的 UI 组件库（PC 端）</p><p>本地引入 CDN引入</p><ol><li>想让Vue工作，就必须创建一个Vue实例，且要传入一个配置对象； </li><li>root容器里的代码依然符合html规范，只不过混入了一些特殊的Vue语法； </li><li>root容器里的代码被称为【Vue模板】； </li><li>Vue实例和容器是一一对应的； </li><li>真实开发中只有一个Vue实例，并且会配合着组件一起使用； </li><li>{<br><!-- -->{xxx}}中的xxx要写js表达式，且xxx可以自动读取到data中的所有属性； </li><li>一旦data中的数据发生改变，那么页面中用到该数据的地方也会自动更新；</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建Vue实例</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">el:<span class="string">&#x27;#root&#x27;</span>, <span class="comment">//el用于指定当前Vue实例为哪个容器服务，值通常为css选择器字符串。</span></span><br><span class="line">data:&#123;</span><br><span class="line">    <span class="comment">//data中用于存储数据，数据供el所指定的容器去使用，值我们暂时先写成一个对象。</span></span><br><span class="line">name:<span class="string">&#x27;YK菌&#x27;</span>,</span><br><span class="line">address:<span class="string">&#x27;合肥&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>注意区分：js表达式 和 js代码(语句)</p><ol><li>表达式：一个表达式会产生一个值，可以放在任何一个需要值的地方： (1). a (2). a+b (3). demo(1) (4). x === y ? ‘a’ : ‘b’  </li><li>js代码(语句) (1). if(){} (2). for(){} </li></ol><h2 id="2-1-el"><a href="#2-1-el" class="headerlink" title="2.1 el"></a>2.1 el</h2><p>指定根element(选择器)</p><h2 id="2-2-data"><a href="#2-2-data" class="headerlink" title="2.2 data"></a>2.2 data</h2><p>初始化数据(页面可以访问)</p><h2 id="关于el和data的两种写法"><a href="#关于el和data的两种写法" class="headerlink" title="关于el和data的两种写法"></a>关于el和data的两种写法</h2><ol><li>el有2种写法</li></ol><p>(1) new Vue时候配置el属性。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="variable">v</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">el:<span class="string">&#x27;#root&#x27;</span>, <span class="comment">//第一种写法</span></span><br><span class="line">data:&#123;</span><br><span class="line">   </span><br><span class="line">name:<span class="string">&#x27;YK菌&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>(2) 先创建Vue实例，随后再通过vm.$mount(’#root’)指定el的值。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="variable">v</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   </span><br><span class="line">data:&#123;</span><br><span class="line">   </span><br><span class="line">name:<span class="string">&#x27;YK菌&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">v.$mount(<span class="string">&#x27;#root&#x27;</span>) <span class="comment">//第二种写法 */</span></span><br></pre></td></tr></table></figure><ol><li>data有2种写法</li></ol><p>(1) 对象式</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data:&#123;</span><br><span class="line">   </span><br><span class="line">name:<span class="string">&#x27;YK菌&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(2) 函数式</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">data()&#123;</span><br><span class="line">   </span><br><span class="line">console.log(<span class="string">&#x27;@@@&#x27;</span>,<span class="built_in">this</span>) <span class="comment">//此处的this是Vue实例对象</span></span><br><span class="line"><span class="keyword">return</span>&#123;</span><br><span class="line">   </span><br><span class="line">name:<span class="string">&#x27;YK菌&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如何选择：目前哪种写法都可以，以后学习到组件时，data必须使用函数式，否则会报错。</p><ol><li>一个重要的原则</li></ol><p>由Vue管理的函数，一定不要写箭头函数，一旦写了箭头函数，this就不再是Vue实例了。</p><h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;test&quot;</span>&gt; &lt;!--view--&gt;</span><br><span class="line">  &lt;input type=<span class="string">&quot;text&quot;</span> v-model=<span class="string">&quot;msg&quot;</span>&gt;&lt;br&gt;&lt;!--指令--&gt;</span><br><span class="line">  &lt;p&gt;Hello &#123;</span><br><span class="line">  &#123;msg&#125;&#125;&lt;/p&gt;&lt;!--大括号表达式--&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src=<span class="string">&quot;../js/vue.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="type">const</span> <span class="variable">vm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">      <span class="comment">// 配置对象 options </span></span><br><span class="line">    <span class="comment">// 配置选项(option)</span></span><br><span class="line">    el: <span class="string">&#x27;#test&#x27;</span>,  <span class="comment">// element: 指定用vue来管理页面中的哪个标签区域</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      <span class="comment">// 数据（model）</span></span><br><span class="line">      msg: <span class="string">&#x27;World&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210203152751703.gif#pic_center" alt="img"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/e33d54e38453afcef480b02df5e17f01.png" alt="img"></p><h2 id="M"><a href="#M" class="headerlink" title="M"></a>M</h2><p>模型(Model) ：data中的数据</p><h2 id="V"><a href="#V" class="headerlink" title="V"></a>V</h2><p>视图(View) ：模板代码（不是静态页面） （两个语法：指令，大括号表达式）</p><h2 id="VM"><a href="#VM" class="headerlink" title="VM"></a>VM</h2><p>viewModel: 视图模型（Vue的实例）</p><ul><li>Dom Listeners （Dom 监听） </li><li>Data Bindings （数据绑定）</li></ul><ol><li>data中所有的属性，最后都出现在了vm身上。 </li><li>vm身上所有的属性 及 Vue原型上所有属性，在Vue模板中都可以直接使用。</li></ol><h2 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h2><p>MVVM 本质上是 MVC （Model-View- Controller）的改进版。即模型-视图-视图模型。</p><p>模型model指的是后端传递的数据，视图view指的是所看到的页面。</p><p>视图模型viewModel是 mvvm 模式的核心，它是连接 view 和 model 的桥梁。它有两个方向：</p><p>将模型转化成视图，即将后端传递的数据转化成所看到的页面。实现的方式是：<strong>数据绑定</strong> 将视图转化成模型，即将所看到的页面转化成后端的数据。实现的方式是：<strong>DOM 事件监听</strong></p><p>这两个方向都实现的，我们称之为<strong>数据的双向绑定</strong></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20221025165421852.png&quot; alt=&quot;image-20221025165421852&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
</summary>
      
    
    
    
    <category term="Vue" scheme="https://manamn.space/categories/Vue/"/>
    
    
    <category term="Vue" scheme="https://manamn.space/tags/Vue/"/>
    
    <category term="Vue基础" scheme="https://manamn.space/tags/Vue%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
</feed>
