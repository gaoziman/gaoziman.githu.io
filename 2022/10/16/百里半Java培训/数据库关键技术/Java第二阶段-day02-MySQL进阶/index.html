<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Java第二阶段_day02_MySQL进阶 | 爱笑的Gao的个人博客</title><meta name="keywords" content="MySQL,百里半Java培训"><meta name="author" content="Gao"><meta name="copyright" content="Gao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Java第二阶段_day02_MySQL进阶学习目标 能够使用SQL语句操作数据库 掌握MYSQL支持的数据类型 能够使用SQL语句操作表结构 能够使用SQL语句进行数据的添加修改和删除的操作 能够使用SQL语句简单查询数据 能够使用SQL关联查询  1. 数据定义语言（DDL）🧬操作数据库创建数据库 直接创建数据库CREATE DATABASE 数据库名;  判断是否存在并创建数据库(了解)C">
<meta property="og:type" content="article">
<meta property="og:title" content="Java第二阶段_day02_MySQL进阶">
<meta property="og:url" content="https://manamn.space/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF/Java%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5-day02-MySQL%E8%BF%9B%E9%98%B6/index.html">
<meta property="og:site_name" content="爱笑的Gao的个人博客">
<meta property="og:description" content="Java第二阶段_day02_MySQL进阶学习目标 能够使用SQL语句操作数据库 掌握MYSQL支持的数据类型 能够使用SQL语句操作表结构 能够使用SQL语句进行数据的添加修改和删除的操作 能够使用SQL语句简单查询数据 能够使用SQL关联查询  1. 数据定义语言（DDL）🧬操作数据库创建数据库 直接创建数据库CREATE DATABASE 数据库名;  判断是否存在并创建数据库(了解)C">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://pic.netbian.com/uploads/allimg/221008/163336-16652180162ea7.jpg">
<meta property="article:published_time" content="2022-10-16T14:49:33.000Z">
<meta property="article:modified_time" content="2022-10-16T15:50:33.838Z">
<meta property="article:author" content="Gao">
<meta property="article:tag" content="MySQL">
<meta property="article:tag" content="百里半Java培训">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://pic.netbian.com/uploads/allimg/221008/163336-16652180162ea7.jpg"><link rel="shortcut icon" href="https://yzf.qq.com/fsna/kf-file/kf_pic/20221016/KFPIC_38088722014365ca6_WXIMAGE_d75c047ed85544ddaded8bf8eafb054c.jpg?"><link rel="canonical" href="https://manamn.space/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF/Java%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5-day02-MySQL%E8%BF%9B%E9%98%B6/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Java第二阶段_day02_MySQL进阶',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2022-10-16 23:50:33'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><script data-pjax src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><link rel="stylesheet" href="/js/title.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Jayhrn/fontawesome-pro/css/all.min.css"><link rel="stylesheet" href="https://npm.elemecdn.com/remixicon@2.5.0/fonts/remixicon.css"><script src="https://at.alicdn.com/t/c/font_3570527_dthoqrrv2tv.css"></script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-blog@2.0.4/css/runtime/runtime.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-swiper-anzhiyu@1.0.4/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-swiper-anzhiyu@1.0.4/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="爱笑的Gao的个人博客" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://yzf.qq.com/fsna/kf-file/kf_pic/20221016/KFPIC_38088722014365ca6_WXIMAGE_d75c047ed85544ddaded8bf8eafb054c.jpg?" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">142</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">37</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">25</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw fas fa-home faa-tada"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><i class="fa-fw fas fa-archive faa-tada"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/artitalk/"><i class="fa-fw fas fa-comment-dots faa-tada"></i><span> 闲言碎语</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/music/"><i class="fa-fw fas fa-music faa-tada"></i><span> 音乐馆</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><i class="fa-fw fas fa-folder-open faa-tada"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/fcircle/"><i class="fa-fw fab fa-artstation faa-tada"></i><span> 朋友圈</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/comments/"><i class="fa-fw fas fa-envelope faa-tada"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/link/"><i class="fa-fw fas fa-link faa-tada"></i><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/photos"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#iconfont icon-xiangji1"></use></svg><span> 照片墙</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/about/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-zhifeiji"></use></svg><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('http://pic.netbian.com/uploads/allimg/221008/163336-16652180162ea7.jpg')"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" title="返回博客主页"><span>JAYHRN</span></a></span><span id="page_name"><a id="page-name-text" title="回到顶部" onclick="btf.scrollToDest(0,500)"><span>爱笑的Gao的个人博客</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw fas fa-home faa-tada"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><i class="fa-fw fas fa-archive faa-tada"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/artitalk/"><i class="fa-fw fas fa-comment-dots faa-tada"></i><span> 闲言碎语</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/music/"><i class="fa-fw fas fa-music faa-tada"></i><span> 音乐馆</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><i class="fa-fw fas fa-folder-open faa-tada"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/fcircle/"><i class="fa-fw fab fa-artstation faa-tada"></i><span> 朋友圈</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/comments/"><i class="fa-fw fas fa-envelope faa-tada"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/link/"><i class="fa-fw fas fa-link faa-tada"></i><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/photos"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#iconfont icon-xiangji1"></use></svg><span> 照片墙</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/about/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-zhifeiji"></use></svg><span> 关于我</span></a></div></div></div><div id="hotkey"><div id="search-button"><a class="site-page social-icon search" title="搜索"><i class="ri-search-eye-line"></i></a></div><div id="randompost-button"><a class="site-page" title="随机文章" onclick="toRandomPost()"><i class="ri-subway-fill"></i></a></div><div id="mode-button"><a class="site-page" title="浅色和深色模式转换" onclick="switchDarkMode()"><i class="ri-sun-fill"></i></a></div><div id="top-button"><a class="site-page" title="回到顶部" onclick="btf.scrollToDest(0,500)"><i class="ri-plane-fill"></i></a></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-info"><h1 class="post-title">Java第二阶段_day02_MySQL进阶</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-10-16T14:49:33.000Z" title="发表于 2022-10-16 22:49:33">2022-10-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-16T15:50:33.838Z" title="更新于 2022-10-16 23:50:33">2022-10-16</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/MySQL/">MySQL</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">17.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>65分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Java第二阶段_day02_MySQL进阶"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Java第二阶段-day02-MySQL进阶"><a href="#Java第二阶段-day02-MySQL进阶" class="headerlink" title="Java第二阶段_day02_MySQL进阶"></a>Java第二阶段_day02_MySQL进阶</h1><h1 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h1><ul>
<li>能够使用SQL语句操作数据库</li>
<li>掌握MYSQL支持的数据类型</li>
<li>能够使用SQL语句操作表结构</li>
<li>能够使用SQL语句进行数据的添加修改和删除的操作</li>
<li>能够使用SQL语句简单查询数据</li>
<li>能够使用SQL关联查询</li>
</ul>
<h1 id="1-数据定义语言（DDL）🧬"><a href="#1-数据定义语言（DDL）🧬" class="headerlink" title="1. 数据定义语言（DDL）🧬"></a>1. 数据定义语言（DDL）🧬</h1><h2 id="操作数据库"><a href="#操作数据库" class="headerlink" title="操作数据库"></a>操作数据库</h2><h3 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h3><ol>
<li><p>直接创建数据库<br><code>CREATE DATABASE 数据库名;</code></p>
</li>
<li><p>判断是否存在并创建数据库(了解)<br><code>CREATE DATABASE IF NOT EXISTS 数据库名;</code></p>
</li>
<li><p>创建数据库并指定字符集(了解)<br><code>CREATE DATABASE 数据库名 CHARACTER SET 字符集;</code></p>
</li>
<li><p>具体操作：</p>
</li>
</ol>
<ul>
<li><p>直接创建数据库db1</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE db1;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E7%9B%B4%E6%8E%A5%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93.png" alt="直接创建数据库"></p>
</li>
<li><p>判断是否存在并创建数据库db2</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> db2;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E5%B9%B6%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93.png" alt="判断是否存在并创建数据库"></p>
</li>
<li><p>创建数据库并指定字符集为gbk</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE db2 <span class="type">CHARACTER</span> <span class="keyword">SET</span> gbk;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B9%B6%E6%8C%87%E5%AE%9A%E5%AD%97%E7%AC%A6%E9%9B%86.png" alt="创建数据库并指定字符集"></p>
</li>
</ul>
<h3 id="查看数据库"><a href="#查看数据库" class="headerlink" title="查看数据库"></a>查看数据库</h3><ol>
<li><p>查看所有的数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW databases;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E5%BA%93.png" alt="查看所有数据库"></p>
</li>
<li><p>查看某个数据库的定义信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW CREATE DATABASE 数据库名;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>   <img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E6%9F%A5%E7%9C%8B%E6%9F%90%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%9A%E4%B9%89%E4%BF%A1%E6%81%AF.png" alt="查看某个数据库的定义信息"></p>
<h3 id="修改数据库-了解"><a href="#修改数据库-了解" class="headerlink" title="修改数据库(了解)"></a>修改数据库(了解)</h3><p>修改数据库字符集格式</p>
<p><code>ALTER DATABASE 数据库名 DEFAULT CHARACTER SET 字符集;</code></p>
<p>具体操作：</p>
<ul>
<li><p>将db3数据库的字符集改成utf8</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> DATABASE db3 <span class="keyword">DEFAULT</span> <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%97%E7%AC%A6%E9%9B%86.png" alt="修改数据库字符集"></p>
</li>
</ul>
<h3 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h3><p><code>DROP DATABASE 数据库名;</code></p>
<p>具体操作：</p>
<ul>
<li><p>删除db2数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> DATABASE db2;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93.png" alt="删除数据库"></p>
</li>
</ul>
<h3 id="使用数据库"><a href="#使用数据库" class="headerlink" title="使用数据库"></a>使用数据库</h3><ol>
<li>查看正在使用的数据库<br><code>SELECT DATABASE();</code></li>
<li>使用/切换数据库<br><code>USE 数据库名;</code></li>
</ol>
<p>具体操作：</p>
<ul>
<li><p>查看正在使用的数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> DATABASE();</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E6%9F%A5%E7%9C%8B%E6%AD%A3%E5%9C%A8%E4%BD%BF%E7%94%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93.png" alt="查看正在使用的数据库"></p>
</li>
<li><p>使用db1数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USE db1;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E4%BD%BF%E7%94%A8db1%E6%95%B0%E6%8D%AE%E5%BA%93.png" alt="使用db1数据库"></p>
</li>
</ul>
<h2 id="操作表"><a href="#操作表" class="headerlink" title="操作表"></a>操作表</h2><blockquote>
<p><strong>如果已执行 use 数据库名; 可以省略数据库名。</strong></p>
</blockquote>
<h3 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h3><p>语法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> [IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>] 表名 (</span><br><span class="line">   字段名 字段类型 [ <span class="keyword">primary</span> key <span class="operator">|</span> <span class="keyword">unique</span> <span class="operator">|</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="operator">|</span> auto_increment <span class="operator">|</span></span><br><span class="line">      <span class="operator">|</span> <span class="type">binary</span> <span class="operator">|</span> <span class="keyword">default</span> 缺省值 <span class="operator">|</span> comment 注释语句],</span><br><span class="line">   ......</span><br><span class="line">) [ ENGINE<span class="operator">=</span>InnoDB <span class="operator">|</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8 ];</span><br></pre></td></tr></table></figure>
<p>表可选项：</p>
<blockquote>
<p>if not exists：如果不存在就执行建表</p>
<p>engine：设置数据引擎，默认为innodb</p>
<p>default charset：设置默认字符编码</p>
<p>字段可选项：</p>
<p>primary key：主键，值唯一，不可为null</p>
<p>unique：唯一键，值唯一，可以为null</p>
<p>not null：不可为null，不写这一项，则默认为可以接受null值</p>
<p>auto_increment：自动增长，只能与整数类型搭配，默认每次增长1</p>
<p>binary：与字符类型搭配，在字段比较时大小写敏感</p>
<p>default：设置缺省值，若插入值为null时，则使用默认值填充</p>
<p>comment：设置字段注释</p>
</blockquote>
<p>示例：</p>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20200723113701000.png" alt="image-20200723113701000"></p>
<h3 id="MySQL的数值数据类型"><a href="#MySQL的数值数据类型" class="headerlink" title="MySQL的数值数据类型"></a>MySQL的数值数据类型</h3><p>​        MySQL支持所有标准SQL数值数据类型。</p>
<p>​        这些类型包括严格数值数据类型(<strong>INTEGER、SMALLINT、DECIMAL和NUMERIC</strong>)，以及近似数值数据类型(<strong>FLOAT、REAL和DOUBLE PRECISION</strong>)。</p>
<h4 id="整数类型"><a href="#整数类型" class="headerlink" title="整数类型"></a>整数类型</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">类型</th>
<th style="text-align:left">大小</th>
<th style="text-align:left">范围（有符号）</th>
<th style="text-align:left">范围（无符号）</th>
<th style="text-align:left">用途</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">TINYINT</td>
<td style="text-align:left">1 字节</td>
<td style="text-align:left">(-128，127) FF 1111 1111</td>
<td style="text-align:left">(0，255)</td>
<td style="text-align:left">小整数值</td>
</tr>
<tr>
<td style="text-align:left">SMALLINT</td>
<td style="text-align:left">2 字节</td>
<td style="text-align:left">(-32 768，32 767)</td>
<td style="text-align:left">(0，65 535)</td>
<td style="text-align:left">大整数值</td>
</tr>
<tr>
<td style="text-align:left">MEDIUMINT</td>
<td style="text-align:left">3 字节</td>
<td style="text-align:left">(-8 388 608，8 388 607)</td>
<td style="text-align:left">(0，16 777 215)</td>
<td style="text-align:left">大整数值</td>
</tr>
<tr>
<td style="text-align:left">INT或INTEGER</td>
<td style="text-align:left">4 字节</td>
<td style="text-align:left">(-2,147,483,648，2,147,483,647)</td>
<td style="text-align:left">(0，4 294 967 295)</td>
<td style="text-align:left">大整数值</td>
</tr>
<tr>
<td style="text-align:left">BIGINT</td>
<td style="text-align:left">8 字节</td>
<td style="text-align:left">(-9,223,372,036,854,775,808 ~ 9,223,372,036,854,775,807)</td>
<td style="text-align:left">(0，18 446 744 073 709 551 615)</td>
<td style="text-align:left">极大整数值</td>
</tr>
</tbody>
</table>
</div>
<p>关键字<strong>INT</strong>是<strong>INTEGER</strong>的同义词，关键字<strong>DEC</strong>是<strong>DECIMAL</strong>的同义词。</p>
<p>BIT数据类型保存位字段值，并且支持MyISAM、MEMORY、InnoDB和BDB表。</p>
<p>作为SQL标准的扩展，MySQL也支持整数类型TINYINT、MEDIUMINT和BIGINT。下面的表显示了需要的每个整数类型的存储和范围。</p>
<p>​        <strong>TINYINT</strong>，1字节，8位，16进制最大表示为FF，2进制表示最大为1111 1111，有符号，第一位为符号为（整数为0，负数为1），所以整数最大值为0111 1111（127），负数最大值为1111 1111（-128），无符号的最大值是255。</p>
<ul>
<li><p>可以用unsigned控制是否有符号位</p>
</li>
<li><p>可以使用zerofill控制是否有前导零</p>
</li>
<li><p>也存在布尔类型。首先mysql是不支持布尔类型的,当把一个数据设置成布尔类型的时候,数据库会自动转换成tinyint(1)的数据类型,其实这个就是变相的布尔。 默认值也就是1,0两种,分别对应了布尔类型的true和false。</p>
</li>
<li><p>类型后面(1)，代表的显示长度，只有跟zerofill配合起来才能用。简单地说，没有(1)，会显示成00x数字，具体连数字带前导零总共几位，有(n)来限制。</p>
</li>
</ul>
<p>  我们在这里测试一下。</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test1 (</span><br><span class="line">c1 TINYINT,</span><br><span class="line">c2 tinyint UNSIGNED,</span><br><span class="line">c3 tinyint ZEROFILL );</span><br></pre></td></tr></table></figure>
<p>  然后执行sql，分别看看执行结果，分析报错信息。</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test1 <span class="keyword">values</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test1 <span class="keyword">values</span>(<span class="number">-1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test1 <span class="keyword">values</span>(<span class="number">1</span>, <span class="number">-2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test1 <span class="keyword">values</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">-3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test1 <span class="keyword">values</span>(<span class="number">127</span>, <span class="number">2</span>, <span class="number">-3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test1 <span class="keyword">values</span>(<span class="number">-128</span>, <span class="number">128</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test1 <span class="keyword">values</span>(<span class="number">-128</span>, <span class="number">256</span>, <span class="number">255</span>);</span><br></pre></td></tr></table></figure>
<p>  总结：zerofill具备unsigned的隐藏属性，不能存负值。</p>
<blockquote>
<p><strong>SMALLINT</strong>，2字节，16位，16进制最大表示为FFFF。</p>
<p><strong>MEDIUMINT</strong>，3字节，24位，16进制最大表示为FF FFFF。</p>
<p><strong>INT</strong>或<strong>INTEGER</strong> ，4字节，32位 ，16进制最大表示为FFFF FFFF。</p>
<p><strong>BIGINT</strong>，8字节，64位 ，16进制最大表示为FFFF FFFF FFFF FFFF。</p>
<p>​    这些类型都可以用unsigned和zerofill修饰。</p>
</blockquote>
<h4 id="浮点数类型"><a href="#浮点数类型" class="headerlink" title="浮点数类型"></a>浮点数类型</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">类型</th>
<th style="text-align:left">大小</th>
<th style="text-align:left">范围（有符号）</th>
<th style="text-align:left">范围（无符号）</th>
<th style="text-align:left">用途</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">FLOAT</td>
<td style="text-align:left">4 字节</td>
<td style="text-align:left">(-3.402 823 466 E+38，-1.175 494 351 E-38)，0，(1.175 494 351 E-38，3.402 823 466 351 E+38)</td>
<td style="text-align:left">0，(1.175 494 351 E-38，3.402 823 466 E+38)</td>
<td style="text-align:left">单精度 浮点数值</td>
</tr>
<tr>
<td style="text-align:left">DOUBLE</td>
<td style="text-align:left">8 字节</td>
<td style="text-align:left">(-1.797 693 134 862 315 7 E+308，-2.225 073 858 507 201 4 E-308)，0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)</td>
<td style="text-align:left">0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)</td>
<td style="text-align:left">双精度 浮点数值</td>
</tr>
</tbody>
</table>
</div>
<p>科学计数法，0.123 * 10^1。</p>
<p>创建该类型字段时，可以设置（M，D）模式控制数值范围</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test4 (</span><br><span class="line">  f1 <span class="type">float</span>,</span><br><span class="line">  f2 <span class="type">float</span>(<span class="number">5</span>, <span class="number">2</span>),</span><br><span class="line">  f3 <span class="type">float</span>(<span class="number">16</span>，<span class="number">4</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test4 <span class="keyword">values</span> (<span class="number">123.456789</span>, <span class="number">123.456789</span>, <span class="number">123.456789</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test4 <span class="keyword">values</span> (<span class="number">1234.56789</span>, <span class="number">1234.56789</span>, <span class="number">1234.56789</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test4 <span class="keyword">values</span> (<span class="number">12345.6789</span>, <span class="number">12345.6789</span>, <span class="number">12345.6789</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test4 <span class="keyword">values</span> (<span class="number">123456.789</span>, <span class="number">123456.789</span>, <span class="number">123456.789</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test4 <span class="keyword">values</span> (<span class="number">1234567.89</span>, <span class="number">1234567.89</span>, <span class="number">1234567.89</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test4 <span class="keyword">values</span> (<span class="number">12345678.9</span>, <span class="number">12345678.9</span>, <span class="number">12345678.9</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test4 <span class="keyword">values</span> (<span class="number">123456789</span>, <span class="number">123456789</span>, <span class="number">123456789</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> test4;</span><br></pre></td></tr></table></figure>
<p><strong>从上面看出：</strong>默认的float类型都只能存6个数字（包括小数点前后的位数），整数超过6位就被科学计数表示（id=4），小数位超出则需要四舍五入。</p>
<p>float(m,d)：小数点后位数为d，即整数位数为（m-d），整数位超出则整数为(m-d)个，小数点后位数为(d)个9999，不用科学计算了；若小数位超出，则需要四舍五入。</p>
<p>单精度浮点数的精度是不高的，我们可以试试double。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> test5;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test5 (</span><br><span class="line">  d1 <span class="keyword">double</span>,</span><br><span class="line">  d2 <span class="keyword">double</span>(<span class="number">5</span>, <span class="number">2</span>),</span><br><span class="line">  d3 <span class="keyword">double</span>(<span class="number">16</span>, <span class="number">4</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test5 <span class="keyword">values</span> (<span class="number">123.456789</span>, <span class="number">123.456789</span>, <span class="number">123.456789</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test5 <span class="keyword">values</span> (<span class="number">1234.56789</span>, <span class="number">1234.56789</span>, <span class="number">1234.56789</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test5 <span class="keyword">values</span> (<span class="number">12345.6789</span>, <span class="number">12345.6789</span>, <span class="number">12345.6789</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test5 <span class="keyword">values</span> (<span class="number">123456.789</span>, <span class="number">123456.789</span>, <span class="number">123456.789</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test5 <span class="keyword">values</span> (<span class="number">1234567.89</span>, <span class="number">1234567.89</span>, <span class="number">1234567.89</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test5 <span class="keyword">values</span> (<span class="number">12345678.9</span>, <span class="number">12345678.9</span>, <span class="number">12345678.9</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test5 <span class="keyword">values</span> (<span class="number">123456789</span>, <span class="number">123456789</span>, <span class="number">123456789</span>);</span><br></pre></td></tr></table></figure>
<p>双精度浮点型的有效精度更高（16位左右），可以容纳更多的值。</p>
<h4 id="定点小数类型"><a href="#定点小数类型" class="headerlink" title="定点小数类型"></a><strong>定点小数类型</strong></h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">类型</th>
<th style="text-align:left">大小</th>
<th style="text-align:left">范围（有符号）</th>
<th style="text-align:left">范围（无符号）</th>
<th style="text-align:left">用途</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">DECIMAL</td>
<td style="text-align:left">对DECIMAL(M,D) ，如果M&gt;D，为M+2否则为D+2</td>
<td style="text-align:left">依赖于M和D的值</td>
<td style="text-align:left">依赖于M和D的值</td>
<td style="text-align:left">小数值</td>
</tr>
</tbody>
</table>
</div>
<p>我们创建一个包含decimal类型字段的表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> test6;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test6 (</span><br><span class="line">  d1 <span class="type">decimal</span>,</span><br><span class="line">  d2 <span class="type">decimal</span>(<span class="number">6</span>, <span class="number">2</span>),</span><br><span class="line">  d3 <span class="type">decimal</span>(<span class="number">32</span>, <span class="number">4</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test6 <span class="keyword">values</span> (<span class="number">123.456789</span>, <span class="number">123.456789</span>, <span class="number">123.456789</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test6 <span class="keyword">values</span> (<span class="number">1234.56789</span>, <span class="number">1234.56789</span>, <span class="number">1234.56789</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test6 <span class="keyword">values</span> (<span class="number">12345.6789</span>, <span class="number">12345.6789</span>, <span class="number">12345.6789</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test6 <span class="keyword">values</span> (<span class="number">123456.789</span>, <span class="number">123456.789</span>, <span class="number">123456.789</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test6 <span class="keyword">values</span> (<span class="number">1234567.89</span>, <span class="number">1234567.89</span>, <span class="number">1234567.89</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test6 <span class="keyword">values</span> (<span class="number">12345678.9</span>, <span class="number">12345678.9</span>, <span class="number">12345678.9</span>);</span><br></pre></td></tr></table></figure>
<p>decimal型的默认整数位为10，小数位为0，即默认为整数。</p>
<p>在MySQL中，定点数以字符串形式存储，因此，其精度比浮点数要高，而且浮点数会出现误差，这是浮点数一直存在的缺陷。如果要对数据的精度要求比较高，还是选择定点数decimal比较安全。</p>
<h4 id="MySQL-数值类型溢出处理-了解"><a href="#MySQL-数值类型溢出处理-了解" class="headerlink" title="MySQL 数值类型溢出处理(了解)"></a><strong>MySQL 数值类型溢出处理</strong>(了解)</h4><p>当 MySQL 在某个数值列上存储超出列数据类型允许范围的值时，结果取决于当时生效的 SQL 模式</p>
<ul>
<li><p>如果启用了严格的 SQL 模式，则 MySQL 会根据 SQL 标准拒绝带有错误的超出范围的值，并且插入失败。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> sql_mode <span class="operator">=</span> <span class="string">&#x27;TRADITIONAL&#x27;</span>; <span class="comment">-- 将当前会话的模式设置严格模式</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>如果没有启用任何限制模式，那么 MySQL 会将值裁剪到列数据类型范围的上下限值并存储</p>
<ul>
<li>当超出范围的值分配给整数列时，MySQL 会存储表示列数据类型范围的相应端点的值</li>
<li>当为浮点或定点列分配的值超出指定（或默认）精度和比例所隐含的范围时，MySQL 会存储表示该范围的相应端点的值</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> sql_mode <span class="operator">=</span> <span class="string">&#x27;&#x27;</span>; <span class="comment">-- 禁用所有模式</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>不光是insert 的时候，其他时候也可能会触发数值溢出。</p>
<p>数值表达式求值过程中的溢出会导致错误，例如，因为最大的有符号 BIGINT 值是 9223372036854775807，因此以下表达式会产生错误。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SELECT</span> <span class="number">9223372036854775807</span> <span class="operator">+</span> <span class="number">1</span>;</span><br><span class="line">ERROR <span class="number">1690</span> (<span class="number">22003</span>): <span class="type">BIGINT</span> <span class="keyword">value</span> <span class="keyword">is</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="keyword">range</span> <span class="keyword">in</span> <span class="string">&#x27;(9223372036854775807 + 1)&#x27;</span></span><br></pre></td></tr></table></figure>
<p>为了在这种情况下使操作成功，需要将值转换为 unsigned</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT CAST(9223372036854775807 AS UNSIGNED) + 1;</span><br><span class="line">+-------------------------------------------+</span><br><span class="line">| CAST(9223372036854775807 AS UNSIGNED) + 1 |</span><br><span class="line">+-------------------------------------------+</span><br><span class="line">|                       9223372036854775808 |</span><br><span class="line">+-------------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>
<p>整数数值之间的减去，如果其中一个类型为 UNSIGNED ，默认情况下会生成无符号结果。如果为负，则会引发错误。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SET</span> sql_mode <span class="operator">=</span> <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="number">0</span> <span class="keyword">AS</span> UNSIGNED) <span class="operator">-</span> <span class="number">1</span>;</span><br><span class="line">ERROR <span class="number">1690</span> (<span class="number">22003</span>): <span class="type">BIGINT</span> UNSIGNED <span class="keyword">value</span> <span class="keyword">is</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="keyword">range</span> <span class="keyword">in</span> <span class="string">&#x27;(cast(0 as unsigned) - 1)&#x27;</span></span><br></pre></td></tr></table></figure>
<p>这种情况下，如果启用了 NO_UNSIGNED_SUBTRACTION SQL 模式，则结果为负。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SET</span> sql_mode <span class="operator">=</span> <span class="string">&#x27;NO_UNSIGNED_SUBTRACTION&#x27;</span>;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="number">0</span> <span class="keyword">AS</span> UNSIGNED) <span class="operator">-</span> <span class="number">1</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">CAST</span>(<span class="number">0</span> <span class="keyword">AS</span> UNSIGNED) <span class="operator">-</span> <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------------+</span></span><br><span class="line"><span class="operator">|</span>                      <span class="number">-1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>
<p>如果此类操作的结果用于更新 UNSIGNED 整数列，则结果将裁剪为列类型的最大值，如果启用了 NO_UNSIGNED_SUBTRACTION 则裁剪为 0。但如果启用了严格的 SQL 模式，则会发生错误并且列保持不变。</p>
<h4 id="MySQL的日期时间数据类型"><a href="#MySQL的日期时间数据类型" class="headerlink" title="MySQL的日期时间数据类型"></a>MySQL的日期时间数据类型</h4><p>表示时间值的日期和时间类型为DATETIME、DATE、TIMESTAMP、TIME和YEAR。</p>
<p>每个时间类型有一个有效值范围和一个”零”值，当指定不合法的MySQL不能表示的值时使用”零”值。</p>
<p>TIMESTAMP类型有专有的自动更新特性，将在后面描述。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>日期时间类型</th>
<th>占用空间</th>
<th>日期格式</th>
<th>最小值</th>
<th>最大值</th>
<th>零值表示</th>
</tr>
</thead>
<tbody>
<tr>
<td>DATETIME</td>
<td>8 bytes</td>
<td>YYYY-MM-DD HH:MM:SS</td>
<td>1000-01-01 00:00:00</td>
<td>9999-12-31 23:59:59</td>
<td>0000-00-00 00:00:00</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>4 bytes</td>
<td>YYYY-MM-DD HH:MM:SS</td>
<td>1970-01-01 00:00:00</td>
<td>结束时间是第 <strong>2147483647</strong> 秒，北京时间 <strong>2038-1-19 11:14:07</strong>，格林尼治时间 2038年1月19日 凌晨 03:14:07</td>
<td>00000000000000</td>
</tr>
<tr>
<td>DATE</td>
<td>4 bytes</td>
<td>YYYY-MM-DD</td>
<td>1000-01-01</td>
<td>9999-12-31</td>
<td>0000-00-00</td>
</tr>
<tr>
<td>TIME</td>
<td>3 bytes</td>
<td>HH:MM:SS</td>
<td>-838:59:59</td>
<td>838:59:59</td>
<td>00:00:00</td>
</tr>
<tr>
<td>YEAR</td>
<td>1 bytes</td>
<td>YYYY</td>
<td>1901</td>
<td>2155</td>
<td>0000</td>
</tr>
</tbody>
</table>
</div>
<p>我们来创建 一个表试试。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> dt01;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> dt01(</span><br><span class="line">  d1 <span class="keyword">year</span>,</span><br><span class="line">  d2 <span class="type">date</span>,</span><br><span class="line">  d3 <span class="type">time</span>,</span><br><span class="line">  d4 datetime,</span><br><span class="line">  d5 <span class="type">timestamp</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dt01 <span class="keyword">values</span> (<span class="string">&#x27;2020&#x27;</span>, <span class="string">&#x27;2020-3-4&#x27;</span>, <span class="string">&#x27;3:4:5&#x27;</span>,<span class="string">&#x27;2020-3-4 3:4:5&#x27;</span>, <span class="keyword">null</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dt01 <span class="keyword">values</span> (<span class="string">&#x27;2020&#x27;</span>, <span class="string">&#x27;20200304&#x27;</span>, <span class="string">&#x27;131415&#x27;</span>,<span class="string">&#x27;20200304131415&#x27;</span>, <span class="built_in">CURRENT_TIMESTAMP</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dt01 <span class="keyword">values</span> (<span class="string">&#x27;2020&#x27;</span>, <span class="string">&#x27;2020-3-4&#x27;</span>, <span class="string">&#x27;3:4:5&#x27;</span>,<span class="string">&#x27;2020-3-4 3:4:5&#x27;</span>, <span class="built_in">CURRENT_TIMESTAMP</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dt01 <span class="keyword">values</span> (<span class="string">&#x27;2020&#x27;</span>, <span class="string">&#x27;2020:3:4&#x27;</span>, <span class="string">&#x27;03:04:05&#x27;</span>,<span class="string">&#x27;2020:3:4 3:4:5&#x27;</span>, <span class="built_in">CURRENT_TIMESTAMP</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dt01 <span class="keyword">values</span> (<span class="string">&#x27;2020&#x27;</span>, <span class="string">&#x27;2020-3-4&#x27;</span>, <span class="string">&#x27;3:4:5&#x27;</span>,</span><br><span class="line">STR_TO_DATE(<span class="string">&#x27;2019-12-5 7:8:9&#x27;</span>, <span class="string">&#x27;%Y-%m-%d %H:%i:%s&#x27;</span>), <span class="built_in">CURRENT_TIMESTAMP</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dt01 <span class="keyword">values</span> (<span class="string">&#x27;2020&#x27;</span>, <span class="string">&#x27;2020-3-4&#x27;</span>, <span class="string">&#x27;3:4:5&#x27;</span>,</span><br><span class="line">STR_TO_DATE(<span class="string">&#x27;2019*12*5 7&amp;8&amp;9&#x27;</span>, <span class="string">&#x27;%Y*%m*%d %H&amp;%i&amp;%s&#x27;</span>), <span class="built_in">CURRENT_TIMESTAMP</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dt01 <span class="keyword">values</span> (<span class="string">&#x27;2020&#x27;</span>, <span class="string">&#x27;2020-3-4&#x27;</span>, <span class="string">&#x27;3:4:5&#x27;</span>,</span><br><span class="line">STR_TO_DATE(<span class="string">&#x27;2019年12月12日 7时8分9秒&#x27;</span>, <span class="string">&#x27;%Y年%m月%d日 %H时%i分%s秒&#x27;</span>), <span class="built_in">CURRENT_TIMESTAMP</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>日期时间类型转换成格式字符串，可以使用这种方法。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> date_format(now(), ‘<span class="operator">%</span>Y<span class="operator">-</span><span class="operator">%</span>m<span class="operator">-</span><span class="operator">%</span>d <span class="operator">%</span>H:<span class="operator">%</span>i:<span class="operator">%</span>s’); </span><br></pre></td></tr></table></figure>
<p>格式字符串转换成日期时间类型，可以使用这个函数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">STR_TO_DATE(<span class="string">&#x27;2019-12-5 7:8:9&#x27;</span>, <span class="string">&#x27;%Y-%m-%d %H:%i:%s&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>format可以使用的值为：</p>
<blockquote>
<p>%M 月名字(January……December)</p>
<p>%W 星期名字(Sunday……Saturday) </p>
<p>%D 有英语前缀的月份的日期(1st, 2nd, 3rd, 等等。） </p>
<p>%Y 年, 数字, 4 位</p>
<p>%y 年, 数字, 2 位 </p>
<p>%a 缩写的星期名字(Sun……Sat) </p>
<p>%d 月份中的天数, 数字(00……31) </p>
<p>%e 月份中的天数, 数字(0……31) </p>
<p>%m 月, 数字(01……12) </p>
<p>%c 月, 数字(1……12) </p>
<p>%b 缩写的月份名字(Jan……Dec) </p>
<p>%j 一年中的天数(001……366) </p>
<p>%H 小时(00……23) </p>
<p>%k 小时(0……23) </p>
<p>%h 小时(01……12) </p>
<p>%I 小时(01……12) </p>
<p>%l 小时(1……12) </p>
<p>%i 分钟, 数字(00……59) </p>
<p>%r 时间,12 小时(hh:mm:ss [AP]M) </p>
<p>%T 时间,24 小时(hh:mm:ss) </p>
<p>%S 秒(00……59) %s 秒(00……59) </p>
<p>%p AM或PM </p>
<p>%w 一个星期中的天数(0=Sunday ……6=Saturday ） </p>
<p>%U 星期(0……52), 这里星期天是星期的第一天 </p>
<p>%u 星期(0……52), 这里星期一是星期的第一天 </p>
<p>%% 一个文字“%”。</p>
</blockquote>
<h4 id="MySQL的字符串类型"><a href="#MySQL的字符串类型" class="headerlink" title="MySQL的字符串类型"></a>MySQL的字符串类型</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">类型</th>
<th style="text-align:left">大小</th>
<th style="text-align:left">用途</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">CHAR(n)</td>
<td style="text-align:left">0-255字符（*字符集字节数）</td>
<td style="text-align:left">定长字符串</td>
</tr>
<tr>
<td style="text-align:left">VARCHAR(2000)</td>
<td style="text-align:left">0-65535 字节</td>
<td style="text-align:left">变长字符串</td>
</tr>
<tr>
<td style="text-align:left">TINYBLOB</td>
<td style="text-align:left">0-255字节</td>
<td style="text-align:left">不超过 255 个字符的二进制字符串</td>
</tr>
<tr>
<td style="text-align:left">TINYTEXT</td>
<td style="text-align:left">0-255字节</td>
<td style="text-align:left">短文本字符串</td>
</tr>
<tr>
<td style="text-align:left">BLOB</td>
<td style="text-align:left">0-65 535字节</td>
<td style="text-align:left">二进制形式的长文本数据</td>
</tr>
<tr>
<td style="text-align:left">TEXT</td>
<td style="text-align:left">0-65 535字节</td>
<td style="text-align:left">长文本数据</td>
</tr>
<tr>
<td style="text-align:left">MEDIUMBLOB</td>
<td style="text-align:left">0-16 777 215字节</td>
<td style="text-align:left">二进制形式的中等长度文本数据</td>
</tr>
<tr>
<td style="text-align:left">MEDIUMTEXT</td>
<td style="text-align:left">0-16 777 215字节</td>
<td style="text-align:left">中等长度文本数据</td>
</tr>
<tr>
<td style="text-align:left">LONGBLOB</td>
<td style="text-align:left">0-4 294 967 295字节</td>
<td style="text-align:left">二进制形式的极大文本数据</td>
</tr>
<tr>
<td style="text-align:left">LONGTEXT</td>
<td style="text-align:left">0-4 294 967 295字节</td>
<td style="text-align:left">极大文本数据</td>
</tr>
</tbody>
</table>
</div>
<p><strong>CHAR 和 VARCHAR</strong> 类型类似，但它们保存和检索的方式不同。它们的最大长度和是否尾部空格被保留等方面也不同。在存储或检索过程中不进行大小写转换，CHAR删除尾部的空格，VARCHAR则保留尾部的空格。</p>
<p>因为varchar要记录数据长度（系统根据数据长度自动分配空间），所以每个varchar数据产生后，系统都会在数据后面增加1-2个字节的额外开销：是用来保存数据所占用的空间长度</p>
<p>如果数据本身小于127个字符：额外开销一个字节；如果大于127个，就开销两个字节。</p>
<p>最大长度根据字符集换算，GBK每个字符2个字节，UTF8每个字符3个字节，utf8mb4每个字符4字节，那么</p>
<p>在GBK字符集下，varchar最大长度<strong>32766</strong>，UTF8最大长度<strong>21844</strong>，UTF8MB4最大长度16384。</p>
<p>我们来验证一下</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test7 (</span><br><span class="line">  test_char <span class="type">varchar</span>(<span class="number">21845</span>)</span><br><span class="line">) <span class="type">character</span> <span class="keyword">set</span> utf8;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test7 (</span><br><span class="line">  test_char <span class="type">varchar</span>(<span class="number">32766</span>)</span><br><span class="line">) <span class="type">character</span> <span class="keyword">set</span> gbk;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test7 (</span><br><span class="line">  test_char <span class="type">varchar</span>(<span class="number">16383</span>)</span><br><span class="line">) <span class="type">character</span> <span class="keyword">set</span> utf8mb4;</span><br></pre></td></tr></table></figure>
<p>还有一个有趣的现象，mysql表的每行记录字节总和不能超过65535。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">create table test7 (</span><br><span class="line">  c1 char(100),</span><br><span class="line">  c2 varchar(21845)</span><br><span class="line">) character set utf8;</span><br><span class="line"></span><br><span class="line">create table test7 (</span><br><span class="line">  c1 char(100),</span><br><span class="line">  c2 varchar(21744)</span><br><span class="line">) character set utf8;</span><br></pre></td></tr></table></figure>
<p><strong>BLOB</strong> 是一个二进制大对象，可以容纳可变数量的数据。有 4 种 BLOB 类型：TINYBLOB、BLOB、MEDIUMBLOB 和 LONGBLOB。它们区别在于可容纳存储范围不同。</p>
<p>有 4 种 <strong>TEXT</strong> 类型：<strong>TINYTEXT、TEXT、MEDIUMTEXT 和 LONGTEXT</strong>。对应的这 4 种 BLOB 类型，可存储的最大长度不同，可根据实际情况选择。</p>
<p>1.BLOB和text存储方式不同，TEXT以文本方式存储，英文存储区分大小写，而Blob是以二进制方式存储，不分大小写。<br>2.BLOB存储的数据只能整体读出。<br>3.TEXT可以指定字符集，BLOB不用指定字符集。</p>
<h4 id="MySQL的枚举类型（了解）"><a href="#MySQL的枚举类型（了解）" class="headerlink" title="MySQL的枚举类型（了解）"></a>MySQL的枚举类型（了解）</h4><p>枚举类型：在数据插入之前，先设定几个项，这几个项就是可能最终出现的数据结果。</p>
<p>如果确定某个字段的数据只有那么几个值：如性别，男、女、保密，系统就可以在设定字段的时候规定当前字段只能存放固定的几个值：使用枚举</p>
<p>基本语法：enum(数据值1,数据值2…)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student (</span><br><span class="line">  sex enum(<span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;女&#x27;</span>)</span><br><span class="line">	);</span><br><span class="line"><span class="keyword">desc</span> student;</span><br></pre></td></tr></table></figure>
<p>插入数据：合法数据，字段对应的值必须是设定表的时候所确定的值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">insert into student values(&#x27;男&#x27;);</span><br><span class="line">insert into student values(&#x27;xx&#x27;);</span><br></pre></td></tr></table></figure>
<p>我们可以把这个student表扩展一下，来看看enum与字符字段的区别。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">create table student (</span><br><span class="line">  s char(1),</span><br><span class="line">  sex enum(&#x27;男&#x27;, &#x27;女&#x27;)</span><br><span class="line">	) character set utf8mb4;</span><br><span class="line">insert into student values(&#x27;男&#x27;,&#x27;男&#x27;);</span><br><span class="line">insert into student values(&#x27;女&#x27;,&#x27;女&#x27;);</span><br><span class="line">select * from student;</span><br><span class="line">select s+0,  sex+0 from student;</span><br></pre></td></tr></table></figure>
<p>验证结果说明，enum实际在数据库中以整型存放，获取值时，会进行对应值的转换。</p>
<p>在MySQL数据库中,连接字符串,如果我们使用+号的话,就会出现结果”0”,所以MySQL数据库,我们必须使用concat连接字符串。</p>
<h4 id="MySQL的SET类型（了解）"><a href="#MySQL的SET类型（了解）" class="headerlink" title="MySQL的SET类型（了解）"></a>MySQL的SET类型（了解）</h4><p>在ENUM中我们只能从允许值列表中给字段插入一个值，而在SET类型中可以给字段插入多个值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> set_t(</span><br><span class="line">a <span class="keyword">SET</span>(<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;5&#x27;</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">desc</span> set_t;</span><br></pre></td></tr></table></figure>
<p>再来插些值看看</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> set_t <span class="keyword">VALUES</span>(<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> set_t <span class="keyword">VALUES</span>(<span class="string">&#x27;1,2,3&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>插入值时值之间不能有空格，插入会报错，必须把空格去掉</p>
<p><strong>MySQL数据类型</strong><br>MySQL中的我们常使用的数据类型如下：<br><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/MYSQL%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.png" alt="MYSQL常用数据类型"></p>
<p>详细的数据类型如下(不建议详细阅读！)</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">分类</th>
<th style="text-align:left">类型名称</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">整数类型</td>
<td style="text-align:left">tinyInt</td>
<td style="text-align:left">很小的整数（两种整数选择时会用，比如说性别）</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">smallint</td>
<td style="text-align:left">小的整数</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">mediumint</td>
<td style="text-align:left">中等大小的整数</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">int(integer)</td>
<td style="text-align:left">普通大小的整数（最常用）</td>
</tr>
<tr>
<td style="text-align:left">小数类型</td>
<td style="text-align:left">float</td>
<td style="text-align:left">单精度浮点数</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">double</td>
<td style="text-align:left">双精度浮点数（最常用）</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">decimal（m,d）</td>
<td style="text-align:left">压缩严格的定点数</td>
</tr>
<tr>
<td style="text-align:left">日期类型</td>
<td style="text-align:left">year</td>
<td style="text-align:left">YYYY  1901~2155</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">time</td>
<td style="text-align:left">HH:MM:SS  -838:59:59~838:59:59</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">date</td>
<td style="text-align:left">YYYY-MM-DD 1000-01-01~9999-12-3</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">datetime</td>
<td style="text-align:left">YYYY-MM-DD HH:MM:SS 1000-01-01 00:00:00~ 9999-12-31 23:59:59</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">timestamp</td>
<td style="text-align:left">YYYY-MM-DD HH:MM:SS  1970~01~01 00:00:01 UTC~2038-01-19 03:14:07UTC</td>
</tr>
<tr>
<td style="text-align:left">文本、二进制类型</td>
<td style="text-align:left">CHAR(M)</td>
<td style="text-align:left">M为0~255之间的整数</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">VARCHAR(M)</td>
<td style="text-align:left">M为0~65535之间的整数（普通字符串，最常用）</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">TINYBLOB</td>
<td style="text-align:left">允许长度0~255字节</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">BLOB</td>
<td style="text-align:left">允许长度0~65535字节</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">MEDIUMBLOB</td>
<td style="text-align:left">允许长度0~167772150字节</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">LONGBLOB</td>
<td style="text-align:left">允许长度0~4294967295字节</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">TINYTEXT</td>
<td style="text-align:left">允许长度0~255字节</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">TEXT</td>
<td style="text-align:left">允许长度0~65535字节</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">MEDIUMTEXT</td>
<td style="text-align:left">允许长度0~167772150字节</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">LONGTEXT</td>
<td style="text-align:left">允许长度0~4294967295字节</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">VARBINARY(M)</td>
<td style="text-align:left">允许长度0~M个字节的变长字节字符串</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">BINARY(M)</td>
<td style="text-align:left">允许长度0~M个字节的定长字节字符串</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p><strong>注意：</strong>char与VARCHAR的区别：</p>
<p>1．CHAR的长度是固定的，而VARCHAR的长度是可以变化的， 比如，存储字符串“abc”，对于CHAR (20)，表示你存储的字符将占20个字节(包括17个空字符)，而同样的VARCHAR2 (20)则只占用3个字节的长度，20只是最大值，当你存储的字符小于20时，按实际长度存储。</p>
<p>2．CHAR的效率比VARCHAR2的效率稍高。</p>
<p>VARCHAR比CHAR节省空间，在效率上比CHAR会稍微差一些，即要想获得效率，就必须牺牲一定的空间，这也就是我们在数据库设计上常说的‘以空间换效率’。</p>
</blockquote>
<p>具体操作: </p>
<p>创建student表包含id,name,birthday字段</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student (</span><br><span class="line">      id <span class="type">INT</span>,</span><br><span class="line">      name <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">      birthday <span class="type">DATE</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="查看表"><a href="#查看表" class="headerlink" title="查看表"></a>查看表</h3><ol>
<li><p>查看某个数据库中的所有表<br><code>SHOW TABLES;</code></p>
</li>
<li><p>查看表结构<br><code>DESC 表名;</code></p>
</li>
<li><p>查看创建表的SQL语句<br><code>SHOW CREATE TABLE 表名;</code></p>
<p>具体操作：</p>
</li>
</ol>
<ul>
<li><p>查看mysql数据库中的所有表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> TABLES;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E6%9F%A5%E7%9C%8B%E6%9F%90%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E7%9A%84%E6%89%80%E6%9C%89%E8%A1%A8.png" alt="查看某个数据库中的所有表"></p>
</li>
<li><p>查看student表的结构</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DESC</span> student;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E6%9F%A5%E7%9C%8Bstudent%E8%A1%A8%E7%9A%84%E7%BB%93%E6%9E%84.png" alt="查看student表的结构"></p>
</li>
<li><p>查看student的创建表SQL语句</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E6%9F%A5%E7%9C%8Bstudent%E7%9A%84%E5%88%9B%E5%BB%BA%E8%A1%A8SQL%E8%AF%AD%E5%8F%A5.png" alt="查看student的创建表SQL语句"></p>
</li>
</ul>
<h3 id="快速创建一个表结构相同的表"><a href="#快速创建一个表结构相同的表" class="headerlink" title="快速创建一个表结构相同的表"></a>快速创建一个表结构相同的表</h3><p><code>CREATE TABLE 新表名 LIKE 旧表名;</code></p>
<p>具体操作：</p>
<ul>
<li><p>创建s1表，s1表结构和student表结构相同</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> s1 <span class="keyword">LIKE</span> student;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%BB%93%E6%9E%84%E7%9B%B8%E5%90%8C%E7%9A%84%E8%A1%A8.png" alt="创建表结构相同的表"></p>
</li>
</ul>
<h3 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h3><ol>
<li>直接删除表<br><code>DROP TABLE 表名;</code></li>
<li>判断表是否存在并删除表(了解)<br><code>DROP TABLE IF EXISTS 表名;</code></li>
</ol>
<p>具体操作：</p>
<ul>
<li><p>直接删除表s1表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> s1;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E7%9B%B4%E6%8E%A5%E5%88%A0%E9%99%A4%E8%A1%A8.png" alt="直接删除表"></p>
</li>
<li><p>判断表是否存在并删除s1表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> s1;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E5%88%A4%E6%96%AD%E8%A1%A8%E5%AD%98%E5%9C%A8%E5%B9%B6%E5%88%A0%E9%99%A4.png" alt="判断表存在并删除"></p>
</li>
</ul>
<h3 id="修改表结构"><a href="#修改表结构" class="headerlink" title="修改表结构"></a>修改表结构</h3><blockquote>
<p>修改表结构使用不是很频繁，只需要知道下，等需要使用的时候再回来查即可</p>
</blockquote>
<ol>
<li><p>添加表列<br><code>ALTER TABLE 表名 ADD 列名 类型;</code></p>
<p>具体操作：</p>
<ul>
<li><p>为学生表添加一个新的字段remark,类型为varchar(20)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> student <span class="keyword">ADD</span> remark <span class="type">VARCHAR</span>(<span class="number">20</span>);</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E6%B7%BB%E5%8A%A0%E5%AD%97%E6%AE%B5.png" alt="添加字段"></p>
</li>
</ul>
</li>
<li><p>修改列类型<br><code>ALTER TABLE 表名 MODIFY 列名 新的类型;</code><br>具体操作：</p>
<ul>
<li><p>将student表中的remark字段的改成varchar(100)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> student MODIFY remark <span class="type">VARCHAR</span>(<span class="number">100</span>);</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E4%BF%AE%E6%94%B9%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B.png" alt="修改字段类型"></p>
</li>
</ul>
</li>
<li><p>修改列名<br><code>ALTER TABLE 表名 CHANGE 旧列名 新列名 类型;</code><br>具体操作：</p>
<ul>
<li><p>将student表中的remark字段名改成intro，类型varchar(30)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> student CHANGE remark intro <span class="type">varchar</span>(<span class="number">30</span>);</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E4%BF%AE%E6%94%B9%E8%A1%A8%E5%AD%97%E6%AE%B5%E5%90%8D%E7%A7%B0.png" alt="修改表字段名称"></p>
</li>
</ul>
</li>
<li><p>删除列<br><code>ALTER TABLE 表名 DROP 列名;</code><br>具体操作：</p>
<ul>
<li><p>删除student表中的字段intro</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> student <span class="keyword">DROP</span> intro;</span><br></pre></td></tr></table></figure>
<p> <img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E5%88%A0%E9%99%A4%E5%AD%97%E6%AE%B5.png" alt="删除字段"></p>
</li>
</ul>
</li>
<li><p>修改表名<br><code>RENAME TABLE 表名 TO 新表名;</code><br>具体操作：</p>
<ul>
<li><p>将学生表student改名成student2</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RENAME <span class="keyword">TABLE</span> student <span class="keyword">TO</span> student2;</span><br></pre></td></tr></table></figure>
<p> <img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E4%BF%AE%E6%94%B9%E8%A1%A8%E5%90%8D.png" alt="修改表名"></p>
</li>
</ul>
</li>
<li><p>修改字符集<br><code>ALTER TABLE 表名 character set 字符集;</code><br>具体操作：</p>
<ul>
<li><p>将sutden2表的编码修改成gbk</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> student2 <span class="type">character</span> <span class="keyword">set</span> gbk;</span><br></pre></td></tr></table></figure>
<p> <img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E4%BF%AE%E6%94%B9%E5%AD%97%E7%AC%A6%E9%9B%86.png" alt="修改字符集"></p>
</li>
</ul>
</li>
</ol>
<h1 id="2-单表查询语句（Select）🙈"><a href="#2-单表查询语句（Select）🙈" class="headerlink" title="2. 单表查询语句（Select）🙈"></a>2. 单表查询语句（Select）🙈</h1><blockquote>
<p>查询不会对数据库中的数据进行修改.只是一种显示数据的方式<br>准备数据</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student3 (</span><br><span class="line">  id <span class="type">int</span>,</span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">  age <span class="type">int</span>,</span><br><span class="line">  sex <span class="type">varchar</span>(<span class="number">5</span>),</span><br><span class="line">  address <span class="type">varchar</span>(<span class="number">100</span>),</span><br><span class="line">  math <span class="type">int</span>,</span><br><span class="line">  english <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student3(id,NAME,age,sex,address,math,english) <span class="keyword">VALUES</span> (<span class="number">1</span>,<span class="string">&#x27;马云&#x27;</span>,<span class="number">55</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;杭州&#x27;</span>,<span class="number">66</span>,<span class="number">78</span>),(<span class="number">2</span>,<span class="string">&#x27;马化腾&#x27;</span>,<span class="number">45</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;深圳&#x27;</span>,<span class="number">98</span>,<span class="number">87</span>),(<span class="number">3</span>,<span class="string">&#x27;马景涛&#x27;</span>,<span class="number">55</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;香港&#x27;</span>,<span class="number">56</span>,<span class="number">77</span>),(<span class="number">4</span>,<span class="string">&#x27;柳岩&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;湖南&#x27;</span>,<span class="number">76</span>,<span class="number">65</span>),(<span class="number">5</span>,<span class="string">&#x27;柳青&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;湖南&#x27;</span>,<span class="number">86</span>,<span class="keyword">NULL</span>),(<span class="number">6</span>,<span class="string">&#x27;刘德华&#x27;</span>,<span class="number">57</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;香港&#x27;</span>,<span class="number">99</span>,<span class="number">99</span>),(<span class="number">7</span>,<span class="string">&#x27;马德&#x27;</span>,<span class="number">22</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;香港&#x27;</span>,<span class="number">99</span>,<span class="number">99</span>),(<span class="number">8</span>,<span class="string">&#x27;德玛西亚&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;南京&#x27;</span>,<span class="number">56</span>,<span class="number">65</span>);</span><br></pre></td></tr></table></figure>
<h2 id="简单查询"><a href="#简单查询" class="headerlink" title="简单查询"></a>简单查询</h2><h3 id="查询表所有数据"><a href="#查询表所有数据" class="headerlink" title="查询表所有数据"></a>查询表所有数据</h3><ol>
<li><p>使用<em>表示所有列<br>`SELECT </em> FROM 表名;`<br>具体操作：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student3;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E5%88%97-1593134997653.png" alt="查询所有列"></p>
</li>
<li><p>写出查询每列的名称<br><code>SELECT 字段名1, 字段名2, 字段名3, ... FROM 表名;</code><br>具体操作：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> id, NAME ,age, sex, address, math, english <span class="keyword">FROM</span> student3;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E5%88%97.png" alt="查询所有列"></p>
</li>
</ol>
<h3 id="查询指定列"><a href="#查询指定列" class="headerlink" title="查询指定列"></a>查询指定列</h3><p>查询指定列的数据,多个列之间以逗号分隔<br><code>SELECT 字段名1, 字段名2... FROM 表名;</code></p>
<p>具体操作：<br>查询student3表中的id , name , age , sex , address 列</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> id, NAME ,age, sex, address <span class="keyword">FROM</span> student3;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E6%9F%A5%E8%AF%A2%E6%8C%87%E5%AE%9A%E5%88%97-1593134997653.png" alt="查询指定字段"></p>
<h3 id="别名查询"><a href="#别名查询" class="headerlink" title="别名查询"></a>别名查询</h3><p>​    1、“*”，表示按照create table的顺序排列的所有列。 </p>
<p>​    2、表名.*，表示取回一个指定表中的所有列，适用于多表关联时，存在同名字段。列表中使用非限定列名，可能会产生解析错误。</p>
<p>​    2、按照用户所需顺序排列的列名的清单。 </p>
<p>​    3、可以使用别名取代列名，形式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">column name as column_heading </span><br></pre></td></tr></table></figure>
<p>​    mysql还支持不带as，直接空格跟别名的方式来指定别名。</p>
<p>​    4、表达式（列名、常量、函数，或以算术或逐位运算符连接的列名、常量和函数的任何组合）。 </p>
<p>​    5、内部函数或集合函数。 </p>
<p>​    6、上述各项的任何一种组合。 </p>
<h2 id="SQL的运算符"><a href="#SQL的运算符" class="headerlink" title="SQL的运算符"></a>SQL的运算符</h2><p>​        MySql中，数据库中的表结构确立后，表中的数据代表的意义就已经确定。而通过 MySQL 运算符进行运算，就可以获取到表结构以外的另一种数据。</p>
<p>​        例如，学生表中存在一个 birth 字段，这个字段表示学生的出生年份。而运用 MySQL 的算术运算符用当前的年份减学生出生的年份，那么得到的就是这个学生的实际年龄数据。</p>
<h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><p>​        算术运算符是 SQL 中最基本的运算符，MySQL 中的算术运算符如下表所示。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>算术运算符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>加法运算</td>
</tr>
<tr>
<td>-</td>
<td>减法运算</td>
</tr>
<tr>
<td>*</td>
<td>乘法运算</td>
</tr>
<tr>
<td>/</td>
<td>除法运算，返回商</td>
</tr>
<tr>
<td>%</td>
<td>求余运算，返回余数</td>
</tr>
</tbody>
</table>
</div>
<p>​        注意：在除法运算和模运算中，如果除数为0，将是非法除法，返回结果为NULL。</p>
<p>​        加法减法没什么可以说的，我们先来说说乘法。</p>
<p>​        整数的乘法结果是整数。小数的乘法呢？</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="number">2</span><span class="operator">*</span><span class="number">3</span> <span class="keyword">as</span> t;</span><br><span class="line"><span class="operator">+</span><span class="comment">---+</span></span><br><span class="line"><span class="operator">|</span> t <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">6</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="number">2.0</span><span class="operator">*</span><span class="number">3.0</span> <span class="keyword">as</span> t;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> t    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">6.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>
<p>可以看到小数乘以小数，结果仍然是小数，我们需要关注精度，保留了乘数和被乘数的小数之和，系统并不会将小数点后的零自动去除。如果需要去除，则采用强制转换函数。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="number">1.234</span> <span class="operator">*</span> <span class="number">5.678</span> <span class="keyword">as</span> t;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------+</span></span><br><span class="line"><span class="operator">|</span> t        <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">7.006652</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="keyword">convert</span>(<span class="number">1.234</span> <span class="operator">*</span> <span class="number">5.678</span>, <span class="type">decimal</span>(<span class="number">10</span>,<span class="number">2</span>)) <span class="keyword">as</span> t;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> t    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">7.01</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>
<p>MySQL 的CONVERT()函数可用来获取一个类型的值，并产生另一个类型的值。具体的语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CONVERT(value, type);</span><br></pre></td></tr></table></figure>
<p>直接在sql中操作乘法的精度没问题，我们来看看字段操作怎么样。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> ta (</span><br><span class="line">aaa <span class="keyword">double</span>,</span><br><span class="line">bbb <span class="keyword">double</span>,</span><br><span class="line">ccc <span class="type">float</span>,</span><br><span class="line">ddd <span class="type">float</span>,</span><br><span class="line">eee <span class="type">decimal</span>(<span class="number">10</span>,<span class="number">2</span>),</span><br><span class="line">fff <span class="type">decimal</span>(<span class="number">10</span>,<span class="number">2</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> ta <span class="keyword">values</span> (<span class="number">1.23</span>, <span class="number">2.34</span>, <span class="number">1.23</span>, <span class="number">2.34</span>, <span class="number">1.23</span>, <span class="number">2.34</span>);</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> aaa, bbb, aaa<span class="operator">*</span>bbb, ccc, ddd, ccc<span class="operator">*</span>ddd, eee, fff ,eee<span class="operator">*</span>fff <span class="keyword">from</span> ta;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+--------------------+------+------+--------------------+------+------+---------+</span></span><br><span class="line"><span class="operator">|</span> aaa  <span class="operator">|</span> bbb  <span class="operator">|</span> aaa<span class="operator">*</span>bbb            <span class="operator">|</span> ccc  <span class="operator">|</span> ddd  <span class="operator">|</span> ccc<span class="operator">*</span>ddd            <span class="operator">|</span> eee  <span class="operator">|</span> fff  <span class="operator">|</span> eee<span class="operator">*</span>fff <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+--------------------+------+------+--------------------+------+------+---------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">1.23</span> <span class="operator">|</span> <span class="number">2.34</span> <span class="operator">|</span> <span class="number">2.8781999999999996</span> <span class="operator">|</span> <span class="number">1.23</span> <span class="operator">|</span> <span class="number">2.34</span> <span class="operator">|</span> <span class="number">2.8781999390602095</span> <span class="operator">|</span> <span class="number">1.23</span> <span class="operator">|</span> <span class="number">2.34</span> <span class="operator">|</span>  <span class="number">2.8782</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+--------------------+------+------+--------------------+------+------+---------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>
<p>可以发现除了decimal，float和double的乘法操作都存在精度问题，需要强转。</p>
<p>可以发现：</p>
<p>sql里面直接数相乘，与字段中decimal相乘一致，结果小数位数保留被乘数乘数之和。</p>
<p>double类型数相乘，结果的精度高于float数相乘。</p>
<p><strong>提示：能用decimal，就不要用float和double。</strong></p>
<p>除法操作，我们也来看看精度问题。跟乘法类似，</p>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/c02.png" alt="img"></p>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/c03.png" alt="img"></p>
<p>进一步尝试</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select 1.22345 / 2.3456;</span><br><span class="line">insert into ta values (1.2345, 2.3456, 1.2345, 2.3456, 1.2345, 2.3456);</span><br><span class="line">select aaa, bbb, aaa/bbb, ccc, ddd, ccc/ddd, eee, fff ,eee/fff from ta where aaa=1.2345;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%605%7B%7D$D5ER7X3GD@TLJ@9SRT.png" alt="img"></p>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/FUFI4950CV]H}X%J_}LS9.png" alt="img"></p>
<p>可以发现：</p>
<p>sql里面直接数相除，与字段中decimal相除一致，结果小数位数保留被除数除数之和。</p>
<p>double类型数相除，结果的精度高于float数相除。</p>
<h3 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h3><p>select语句中的条件语句经常要使用比较运算符。通过这些比较运算符，可以判断表中的哪些记录时符合条件的，比较结果为真，则返回1，为假则返回0，比较结果不确定则返回NULL。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 1&lt;2;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/2d4cba424042e9246df8ec218879c1f9.png" alt="2d4cba424042e9246df8ec218879c1f9"></p>
<p><strong>等于（==）与严格等于运算符（&lt;=&gt;）</strong></p>
<p>严格等于和等于运算符（=）的作用一致，只不过多了一个功能，就是可以判断NULL值，如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select 1=0,&#x27;2&#x27;=2,(1+3)=(2+2),NULL=NULL;</span><br><span class="line">select 1&lt;=&gt;0,&#x27;2&#x27;&lt;=&gt;2,(1+3)&lt;=&gt;(2+2),NULL&lt;=&gt;NULL;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/abc.png" alt="abc"></p>
<p><strong>不等于运算符（&lt;&gt;或!=）</strong></p>
<p>不等于运算符用于判断数字、字符串、表达式是否不相等，如果不相等则返回 1，否则返回 0 ，但是不能判断 NULL 值。</p>
<p><strong>IS NULL 、IS NOT NULL</strong></p>
<blockquote>
<ul>
<li>IS NULL是 检验一个值是否为 NULL ，如果为 NULL ，返回值为 1，否则返回值为 0；</li>
<li>IS NOT NULL 检验一个值是否不为 NULL ，如果不为 NULL ，返回值为 1，否则返回值为 0。</li>
</ul>
</blockquote>
<p><strong>BETWEEN AND</strong></p>
<p>用于判断一个值是否落在两个值之间。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 4 between 1 and 5,4 between 4 and 6,12 between 9 and 10;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/abb.png" alt="abb"></p>
<p><strong>between … and 操作符是包含两边端点的。</strong></p>
<p><strong>IN、NOT IN</strong></p>
<blockquote>
<ul>
<li>IN ：判断一个值是否是 IN 列表中的任意一个值；</li>
<li>NOT IN ：判断一个值是否不是 IN 列表中的任意一个值。</li>
</ul>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 2 in(3,5,8,2), 2 not in(1,3,5);</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/abd.png" alt="abd"></p>
<p><strong>LIKE</strong></p>
<blockquote>
<ul>
<li>LIKE 运算符用来匹配字符串（正则表达式），如果匹配则返回 1，如果不匹配则返回 0；</li>
<li>LIKE 使用两种通配符：’%’ 用于匹配任何数目的字符，包括零字符 ； ‘_’ 只能匹配一个字符。</li>
</ul>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select &#x27;stud&#x27; like &#x27;stu_&#x27;,&#x27;stud&#x27; like &#x27;s___&#x27;,&#x27;stud&#x27; like &#x27;%d&#x27;;</span><br></pre></td></tr></table></figure>
<p><strong>REGEXP</strong></p>
<blockquote>
<p>1）REGEXP运算符用来匹配字符串，如果匹配则返回1，如果不匹配则返回0；<br>2）REGEXP 使用以下几种通配符：</p>
<ul>
<li>‘^’：用于匹配以什么开头的字符串；</li>
<li>‘$’：用以匹配以什么结尾的字符串；</li>
<li>‘.’：用于匹配任何一个单字符串；</li>
<li>‘[…]’：用于匹配在方括号内的任何字符；</li>
<li>‘*’用于匹配零个或多个在它前面的字符；</li>
</ul>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select &#x27;ssky&#x27; regexp &#x27;^s&#x27;, &#x27;ssky&#x27; regexp &#x27;y$&#x27;, &#x27;ssky&#x27; regexp &#x27;.sky&#x27;, &#x27;ssky&#x27; regexp &#x27;[ab]&#x27; ;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/abe.png" alt="abe"></p>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p>逻辑运算符用来判断表达式的真假。如果表达式是真，结果返回 1。如果表达式是假，结果返回 0。</p>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/347e7884f6b8ddb0270a510842d7c3fe.png" alt="347e7884f6b8ddb0270a510842d7c3fe"></p>
<p><strong>逻辑非（NOT 或 ！）</strong></p>
<blockquote>
<ul>
<li>当操作数为 0 时，所得值为 1；</li>
<li>当操作数为非 0 时，所得值为 0；</li>
<li>当操作数为 NULL 时，所得值为 NULL。</li>
</ul>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select not  10,!10,not(1-1),!(1-1),not 1+1,not null;</span><br></pre></td></tr></table></figure>
<p><strong>逻辑与（AND或&amp;&amp;）</strong></p>
<blockquote>
<ul>
<li>当所有操作数均为非零值、并且不为 NULL 时，所得值为 1；</li>
<li>当一个或多个操作数为 0 时，所得值为 0 ；</li>
<li>其余情况所得值为 NULL。</li>
</ul>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select 1 and -1,1 &amp;&amp; 0,0 and null,1 &amp;&amp; null;</span><br></pre></td></tr></table></figure>
<p><strong>逻辑或（OR 或 || ）</strong></p>
<blockquote>
<ul>
<li>当两个操作数均为非 NULL 值，且任意一个操作数为非零值时，结果为 1 ，否则为 0；</li>
<li>当有一个操作数为 NULL ，且另一个操作数为非零值时，则结果为 1 ，否则结果为 NULL；</li>
<li>当两个操作数均为 NULL 时，则所得结果为 NULL。</li>
</ul>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select 1 or -1 or 0,1 || 2,0 or null,null|| null;</span><br></pre></td></tr></table></figure>
<p><strong>逻辑异或（XOR）</strong></p>
<blockquote>
<ul>
<li>a XOR b 的计算等同于 ( a AND (NOT b) ) 或 ( (NOT a) AND b )；</li>
<li>当任意一个操作数为 NULL 时，返回值为 NULL；</li>
<li>对于非 NULL 的操作数，如果两个操作数都是非 0 值或者都是 0 值，则返回结果为 0；</li>
<li>如果一个为 0 值，另一个为非 0 值，返回结果为 1。</li>
</ul>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select 1 xor 1,0 xor 0,1 xor 0,1 xor null,1 xor 1 xor 1;</span><br></pre></td></tr></table></figure>
<h3 id="运算符的优先级"><a href="#运算符的优先级" class="headerlink" title="运算符的优先级"></a>运算符的优先级</h3><p>最低优先级为： <strong>:=</strong>。</p>
<p>最高优先级为： <strong>!、BINARY、 COLLATE</strong>。</p>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/abg.png" alt="img"></p>
<p>​    <strong>用（），千万记得用括号。</strong></p>
<h2 id="where子句"><a href="#where子句" class="headerlink" title="where子句"></a>where子句</h2><p>​        where子句设置了搜索条件。</p>
<p>​        它在insert，update，delete语句中的应用方法也与在select语句中的应用方法完全相同。搜索条件紧跟在关键词where的后面。如果用户要在语句中使用多个搜索条件，则可用and或or连接。</p>
<p>​        搜索条件的基本语法是</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select * from test1 where aaa = &#x27;呵呵&#x27;;</span><br><span class="line">select* from test1 where not aaa = &#x27;呵呵&#x27;;</span><br><span class="line">select* from test1 where aaa != &#x27;呵呵&#x27;;</span><br></pre></td></tr></table></figure>
<p>​        </p>
<h3 id="distinct关键字的用法"><a href="#distinct关键字的用法" class="headerlink" title="distinct关键字的用法"></a>distinct关键字的用法</h3><p>​        在mysql中，distinct关键字的主要作用就是对数据库表中一个或者多个字段重复的数据进行过滤，只返回其中的一条数据给用户，distinct只可以在select中使用。</p>
<p>​        distinct的原理：<br>​        distinct进行去重的主要原理是通过先对要进行去重的数据进行分组操作，然后从分组后的每组数据中去一条返回给客户端，在这个分组的过程可能会出现两种不同的情况：</p>
<p>​        distinct 依赖的字段全部包含索引：<br>​        该情况mysql直接通过操作索引对满足条件的数据进行分组，然后从分组后的每组数据中去一条数据。</p>
<p>​        distinct 依赖的字段未全部包含索引：<br>​        该情况由于索引不能满足整个去重分组的过程，所以需要用到临时表，mysql首先需要将满足条件的数据放到临时表中，然后在临时表中对该部分数据进行分组，然后从临时表中每个分组的数据中去一条数据，在临时表中进行分组的过程中不会对数据进行排序。</p>
<h4 id="GROUP-BY-语句"><a href="#GROUP-BY-语句" class="headerlink" title="GROUP BY 语句"></a>GROUP BY 语句</h4><p>​        GROUP BY 语句根据一个或多个列对结果集进行分组。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> bbb <span class="keyword">from</span> test1 <span class="keyword">group</span> <span class="keyword">by</span> bbb;</span><br><span class="line"><span class="comment">--这其实跟distinct返回的结果一致</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> bbb <span class="keyword">from</span> test1;</span><br></pre></td></tr></table></figure>
<h3 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h3><p>​        <strong>聚合函数</strong>aggregation function又称为<strong>组函数</strong>。 默认情况下 聚合函数会对当前所在表当做一个组进行统计，MySQL提供了许多聚合函数，包括<code>AVG</code>，<code>COUNT</code>，<code>SUM</code>，<code>MIN</code>，<code>MAX</code>等。除<code>COUNT</code>函数外，其它聚合函数在执行计算时会忽略<code>NULL</code>值。</p>
<p>​        聚合函数的特点</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">　　1.每个组函数接收一个参数（字段名或者表达式），统计结果中默认忽略字段为NULL的记录</span><br><span class="line">　　2.要想列值为NULL的行也参与组函数的计算，必须使用IFNULL函数对NULL值做转换。</span><br><span class="line">　　3.不允许出现嵌套 比如sum(max(xx))</span><br></pre></td></tr></table></figure>
<h4 id="AVG函数"><a href="#AVG函数" class="headerlink" title="AVG函数"></a>AVG函数</h4><p>​        AVG()函数计算一组值的平均值。 它计算过程中是忽略<code>NULL</code>值的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select avg(bbb) from test1;</span><br><span class="line">select aaa, avg(bbb) from test1 group by aaa;</span><br></pre></td></tr></table></figure>
<p>​        如果select的字段列表除了聚合函数以外，没有其他字段，可以不用group by分组子句。否则必须搭配group by使用。</p>
<h4 id="MAX-函数"><a href="#MAX-函数" class="headerlink" title="MAX()函数"></a>MAX()函数</h4><p>​        MAX()函数返回一组值中的最大值，其语法如下所示 -</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> aaa, <span class="built_in">max</span>(bbb) <span class="keyword">from</span> test1 <span class="keyword">group</span> <span class="keyword">by</span> aaa;</span><br></pre></td></tr></table></figure>
<h4 id="MIN-函数"><a href="#MIN-函数" class="headerlink" title="MIN()函数"></a>MIN()函数</h4><p>​        MIN()函数返回一组值中的最小值，其语法如下所示 -</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> aaa, <span class="built_in">min</span>(bbb) <span class="keyword">from</span> test1 <span class="keyword">group</span> <span class="keyword">by</span> aaa;</span><br></pre></td></tr></table></figure>
<p>​        </p>
<p>​        现在我们设想一个应用场景，计算公司部门的员工最高工资和最低工资，先创建表。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> emp;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp(</span><br><span class="line">	emp_id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">	emp_name <span class="type">varchar</span>(<span class="number">20</span>) comment <span class="string">&#x27;员工姓名&#x27;</span>,</span><br><span class="line">	emp_dept <span class="type">varchar</span>(<span class="number">20</span>) comment <span class="string">&#x27;部门名称&#x27;</span>,</span><br><span class="line">	salary <span class="type">decimal</span>(<span class="number">10</span>, <span class="number">2</span>) comment <span class="string">&#x27;工资&#x27;</span>,</span><br><span class="line">	hiredate datetime comment <span class="string">&#x27;入职时间&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp(emp_name, emp_dept, salary, hiredate) <span class="keyword">values</span>(<span class="string">&#x27;赵大&#x27;</span>, <span class="string">&#x27;开发部&#x27;</span>, <span class="number">4500</span>, <span class="string">&#x27;2016-3-1&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp(emp_name, emp_dept, salary, hiredate) <span class="keyword">values</span>(<span class="string">&#x27;陈二&#x27;</span>, <span class="string">&#x27;开发部&#x27;</span>, <span class="number">5000</span>, <span class="string">&#x27;2015-5-6&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp(emp_name, emp_dept, salary, hiredate) <span class="keyword">values</span>(<span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;开发部&#x27;</span>, <span class="number">7000</span>, <span class="string">&#x27;2012-7-4&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp(emp_name, emp_dept, salary, hiredate) <span class="keyword">values</span>(<span class="string">&#x27;李四&#x27;</span>, <span class="string">&#x27;测试部&#x27;</span>, <span class="number">5500</span>, <span class="string">&#x27;2015-3-5&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp(emp_name, emp_dept, salary, hiredate) <span class="keyword">values</span>(<span class="string">&#x27;王五&#x27;</span>, <span class="string">&#x27;测试部&#x27;</span>, <span class="number">3500</span>, <span class="string">&#x27;20180407&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp(emp_name, emp_dept, salary, hiredate) <span class="keyword">values</span>(<span class="string">&#x27;钱六&#x27;</span>, <span class="string">&#x27;销售部&#x27;</span>, <span class="number">6000</span>, <span class="string">&#x27;20170909&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp(emp_name, emp_dept, salary, hiredate) <span class="keyword">values</span>(<span class="string">&#x27;周七&#x27;</span>, <span class="string">&#x27;财务部&#x27;</span>, <span class="number">5200</span>, <span class="string">&#x27;20170709&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>
<p>​        我们要如何统计各个部门的最高工资和最低工资呢？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select emp_dept, max(salary) from emp group by emp_dept;</span><br><span class="line">select emp_dept, min(salary) from emp group by emp_dept;</span><br></pre></td></tr></table></figure>
<p>​        解释一下这个结果：<br>1、满足“SELECT子句中的列名必须为分组列或列函数”，因为SELECT有GROUP BY DEPT中包含的列DEPT。<br>2、“列函数对于GROUP BY子句定义的每个组各返回一个结果”，根据部门分组，对每个部门返回一个结果，就是每个部门的最高薪水。<br>3、分组查询可以在形成组和计算列函数之前具有消除非限定行的标准 WHERE 子句。必须在GROUP BY 子句之前指定 WHERE 子句。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> emp_dept, <span class="built_in">max</span>(salary) <span class="keyword">from</span> emp <span class="keyword">where</span> hiredate <span class="keyword">between</span> <span class="string">&#x27;20150101&#x27;</span> <span class="keyword">and</span> <span class="string">&#x27;2016-12-31&#x27;</span> <span class="keyword">group</span> <span class="keyword">by</span> emp_dept;</span><br></pre></td></tr></table></figure>
<h4 id="COUNT-函数"><a href="#COUNT-函数" class="headerlink" title="COUNT()函数"></a>COUNT()函数</h4><p>​        COUNT()函数返回结果集中的行数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select count(*) from emp;</span><br><span class="line">select count(1) from emp;</span><br><span class="line">select count(emp_id) from emp;</span><br><span class="line">select emp_dept, count(emp_id) from emp group by emp_dept;</span><br></pre></td></tr></table></figure>
<p>注意：count() 在统计时，会计入null值。</p>
<h4 id="SUM-函数"><a href="#SUM-函数" class="headerlink" title="SUM()函数"></a>SUM()函数</h4><p>​        SUM()函数返回一组值的总和，SUM()函数忽略<code>NULL</code>值。如果找不到匹配行，则SUM()函数返回<code>NULL</code>值。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> emp_dept, <span class="built_in">sum</span>(salary) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> emp_dept;</span><br><span class="line"><span class="keyword">select</span> emp_dept, <span class="built_in">sum</span>(salary) <span class="keyword">from</span> emp  <span class="keyword">where</span> emp_dept<span class="operator">=</span><span class="string">&#x27;aaa&#x27;</span> <span class="keyword">group</span> <span class="keyword">by</span> emp_dept;</span><br></pre></td></tr></table></figure>
<h3 id="Order-by-子句"><a href="#Order-by-子句" class="headerlink" title="Order by 子句"></a>Order by 子句</h3><p>​        如果我们需要对读取的数据进行排序，我们就可以使用 MySQL 的 <strong>ORDER BY</strong> 子句来设定你想按哪个字段哪种方式来进行排序，再返回搜索结果。    </p>
<p>以下是 SQL SELECT 语句使用 ORDER BY 子句将查询数据排序后再返回数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT field1, field2,...fieldN FROM table_name1, table_name2...</span><br><span class="line">ORDER BY field1 [ASC [DESC][默认 ASC]], [field2...] [ASC [DESC][默认 ASC]]</span><br></pre></td></tr></table></figure>
<ul>
<li>你可以使用任何字段来作为排序的条件，从而返回排序后的查询结果。</li>
<li>你可以设定多个字段来排序。</li>
<li>你可以使用 ASC 或 DESC 关键字来设置查询结果是按升序或降序排列。 默认情况下，它是按升序排列。</li>
</ul>
<p>​        我们来看几个例子</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">select * from emp order by salary;</span><br><span class="line">--默认情况按升序排列</span><br><span class="line">select * from emp order by salary desc;</span><br><span class="line">--指定desc后按降序排列</span><br><span class="line">select emp_dept, sum(salary) from emp group by emp_dept order by emp_dept;</span><br><span class="line">--字符串也可以排序，排序依据为字符编码的二进制值</span><br><span class="line">select emp_dept, sum(salary) from emp group by emp_dept order by emp_dept desc;</span><br></pre></td></tr></table></figure>
<p>​        SELECT后被选择的列，可以在ORDER by和GROUP BY中，通过列名、列别名或者代表列位置的整数（从1开始）来引用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select emp_dept, sum(salary) from emp group by emp_dept order by 1 desc;</span><br></pre></td></tr></table></figure>
<h3 id="用-union-union-all来连接结果集"><a href="#用-union-union-all来连接结果集" class="headerlink" title="用 union/union all来连接结果集"></a>用 union/union all来连接结果集</h3><p>​        如果想选择其他几个表中的行或从一个单一的表作为一个单独的结果集行的几个集会，那么可以使用的UNION。</p>
<p>​        UNION 用于合并两个或多个 SELECT 语句的结果集，并消去表中任何重复行。如果允许重复的值，请使用 UNION ALL。我们来创建一个场景，学生表和教师表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">create table teacher(</span><br><span class="line">	id int primary key auto_increment,</span><br><span class="line">	teacher_name varchar(20),</span><br><span class="line">	teacher_city varchar(20)</span><br><span class="line">);</span><br><span class="line">create table student(</span><br><span class="line">	id int primary key auto_increment,</span><br><span class="line">	student_name varchar(20),</span><br><span class="line">	student_city varchar(20)</span><br><span class="line">);</span><br><span class="line">insert into teacher(teacher_name, teacher_city) values(&#x27;赵大&#x27;, &#x27;武汉&#x27;);</span><br><span class="line">insert into teacher(teacher_name, teacher_city) values(&#x27;陈二&#x27;, &#x27;鄂州&#x27;);</span><br><span class="line">insert into teacher(teacher_name, teacher_city) values(&#x27;张三&#x27;, &#x27;襄阳&#x27;);</span><br><span class="line"></span><br><span class="line">insert into student(student_name, student_city) values(&#x27;李四&#x27;, &#x27;宜昌&#x27;);</span><br><span class="line">insert into student(student_name, student_city) values(&#x27;王五&#x27;, &#x27;恩施&#x27;);</span><br><span class="line">insert into student(student_name, student_city) values(&#x27;钱六&#x27;, &#x27;黄石&#x27;);</span><br><span class="line">insert into student(student_name, student_city) values(&#x27;周七&#x27;, &#x27;孝感&#x27;);</span><br></pre></td></tr></table></figure>
<p>​        我们用两个查询分别取得两个表的结果集，然后连接。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select * from teacher</span><br><span class="line">union</span><br><span class="line">select * from student;</span><br></pre></td></tr></table></figure>
<p>​        如果要获取老师和学生来自哪些城市，则</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select teacher_city from teacher</span><br><span class="line">union</span><br><span class="line">select student_city from student;</span><br></pre></td></tr></table></figure>
<p>注意：</p>
<p>​        1、UNION 结果集中的列名总是等于第一个 SELECT 语句中的列名<br>​        2、UNION 内部的 SELECT 语句必须拥有相同数量的列。列也必须拥有相似的数据类型。同时，每条 SELECT 语句中的列的顺序必须相同。union只关注数据类型，数据业务含义是否相同不管。</p>
<p>​        我们再插入3条记录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">insert into student(student_name, student_city) values(&#x27;周七1&#x27;, &#x27;武汉&#x27;);</span><br><span class="line">insert into student(student_name, student_city) values(&#x27;周七2&#x27;, &#x27;武汉&#x27;);</span><br><span class="line">insert into student(student_name, student_city) values(&#x27;周七3&#x27;, &#x27;武汉&#x27;);</span><br></pre></td></tr></table></figure>
<p>​        比较一下3句sql</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> teacher</span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student;</span><br><span class="line"><span class="keyword">select</span> teacher_city <span class="keyword">from</span> teacher</span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> student_city <span class="keyword">from</span> student;</span><br><span class="line"><span class="keyword">select</span> teacher_city <span class="keyword">from</span> teacher</span><br><span class="line"><span class="keyword">union</span> <span class="keyword">all</span></span><br><span class="line"><span class="keyword">select</span> student_city <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>
<p>​        union会将结果集去重，它比较结果集中的全部字段，所有字段都相同的将被去除。union all 不去重。</p>
<p><strong>union的用法及注意事项</strong></p>
<p>​        union:联合的意思，即把两次或多次查询结果合并起来。<br>​        要求：两次查询的列数必须一致<br>​        推荐：列的类型可以不一样，但推荐查询的每一列，想对应的类型以一样<br>​        可以来自多张表的数据：多次sql语句取出的列名可以不一致，此时以第一个sql语句的列名为准。<br>​        如果不同的语句中取出的行，有完全相同(这里表示的是每个列的值都相同)，那么union会将相同的行合并，        最终只保留一行。也可以这样理解，union会去掉重复的行。<br>​        如果不想去掉重复的行，可以使用union all。<br>​        如果子句中有order by,limit，需用括号()包起来。推荐放到所有子句之后，即对最终合并的结果来排序或筛选。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> emp_dept, <span class="built_in">sum</span>(salary) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> emp_dept</span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> emp_dept, <span class="built_in">sum</span>(salary) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> emp_dept</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> emp_dept <span class="keyword">desc</span>;</span><br><span class="line"><span class="comment">--或者这样</span></span><br><span class="line">(<span class="keyword">select</span> emp_dept, <span class="built_in">sum</span>(salary) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> emp_dept)</span><br><span class="line"><span class="keyword">union</span> <span class="keyword">all</span></span><br><span class="line">(<span class="keyword">select</span> emp_dept, <span class="built_in">sum</span>(salary) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> emp_dept)</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> emp_dept <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>
<h1 id="3-模糊查询🧁"><a href="#3-模糊查询🧁" class="headerlink" title="3.模糊查询🧁"></a>3.模糊查询🧁</h1><p><code>糊查询</code> 需要使用 <code>like</code> 占位符，几个案例学会模糊查询，下面是stus表的数据</p>
<h2 id="脑图"><a href="#脑图" class="headerlink" title="脑图"></a>脑图</h2><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/eda0266dab164945904311714d61e79d.png" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> stus;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809181513738.png" alt="image-20220809181513738"></p>
<h2 id="多个任意字符"><a href="#多个任意字符" class="headerlink" title="% 多个任意字符"></a>% 多个任意字符</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>查询 stus 表中 name 以猪开头的学生信息</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_stu <span class="keyword">where</span> name <span class="keyword">like</span> &quot;吴%&quot;;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809181815175.png" alt="image-20220809181815175"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.</span>查询 stus 表中 name 以三结尾的学生信息</span><br><span class="line"> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t_stu <span class="keyword">WHERE</span> username <span class="keyword">LIKE</span> <span class="string">&#x27;%三&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809182034629.png" alt="image-20220809182034629"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3.</span>查询 stus 表中 name 中包含八的学生信息</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_stu <span class="keyword">where</span> username <span class="keyword">like</span> <span class="string">&#x27;%八%&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809182241049.png" alt="image-20220809182241049"></p>
<h2 id="单个任意字符"><a href="#单个任意字符" class="headerlink" title="_ 单个任意字符"></a>_ 单个任意字符</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4.</span>查询 stus 表中 name 以张开头的且名字长度为<span class="number">2</span>的学生信息</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_stu <span class="keyword">where</span> username <span class="keyword">like</span> <span class="string">&#x27;张_&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809182457645.png" alt="image-20220809182457645"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5.</span>查询 t_stu 表中 username 以刘开头的且名字长度为<span class="number">3</span>的学生信息</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_stu <span class="keyword">where</span> username <span class="keyword">like</span> <span class="string">&#x27;刘__&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809182602887.png" alt="image-20220809182602887"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">6.</span>查询 t_stu 表中 username 以建军结尾的且名字长度为<span class="number">3</span>的学生信息</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_stu <span class="keyword">where</span> username <span class="keyword">like</span> <span class="string">&#x27;_建军&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809182712543.png" alt="image-20220809182712543"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">7.</span>查询 t_stu 表中 username 以张开头以苗结尾的且名字长度为<span class="number">3</span>的学生信息</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_stu <span class="keyword">where</span> username <span class="keyword">like</span> <span class="string">&#x27;飞_飞&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809182828895.png" alt="image-20220809182828895"></p>
<h1 id="4-排序查询🍒"><a href="#4-排序查询🍒" class="headerlink" title="4. 排序查询🍒"></a>4. 排序查询🍒</h1><p>键字**：<code>order by</code><br>关系型数据库设计理论认为，如果不明确规定排序顺序，则不应该假定检索出来的数据的顺序有意义，可以使用 <code>order by 子句</code>对查询结果进行排序，<code>默认是升序</code>，即从小到大 <code>ASC</code>，如果想要<code>降序</code>排序，则需要指定 <code>DESC</code></p>
<h2 id="脑图-1"><a href="#脑图-1" class="headerlink" title="脑图"></a>脑图</h2><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/0a11f8d0311e428280c87c3fc88e6a0b.png" alt="在这里插入图片描述" style="zoom:67%;" /></p>
<h2 id="ASC-升序"><a href="#ASC-升序" class="headerlink" title="ASC 升序"></a>ASC 升序</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 查询stus表中名字字段，要求按照年龄的升序进行排序</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t_stu <span class="keyword">ORDER</span> <span class="keyword">BY</span> age <span class="keyword">ASC</span>;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809152621495.png" alt="image-20220809152621495"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.</span> 查询stus表中名字,年龄字段，要求按照年龄大于<span class="number">7</span>进行筛选之后按照年龄的升序进行排序</span><br><span class="line"><span class="keyword">select</span> name,age <span class="keyword">from</span> stus <span class="keyword">where</span> age <span class="operator">&gt;</span> <span class="number">7</span> <span class="keyword">order</span> <span class="keyword">by</span> age;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809152748158.png" alt="image-20220809152748158"></p>
<h2 id="DESC-降序"><a href="#DESC-降序" class="headerlink" title="DESC 降序"></a>DESC 降序</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3.</span> 查询t_stu表中名字字段，要求按照年龄的升序进行排序</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t_stu <span class="keyword">ORDER</span> <span class="keyword">BY</span> age <span class="keyword">DESC</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="limit-选学"><a href="#limit-选学" class="headerlink" title="limit 选学"></a>limit 选学</h2><p>这个还没讲到，如果你不知道，可以跳过，后面会将到哦</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4.</span> 查询t_stu表中名字字段，要求按照年龄的升序进行排序，并通过limit返回一条数据，即年龄最小的</span><br><span class="line"><span class="keyword">SELECT</span> username <span class="keyword">FROM</span> t_stu <span class="keyword">ORDER</span> <span class="keyword">BY</span> age <span class="keyword">ASC</span> LIMIT <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809152907230.png" alt="image-20220809152907230"></p>
<h2 id="位置问题"><a href="#位置问题" class="headerlink" title="位置问题"></a>位置问题</h2><blockquote>
<p>在使用 order by 子句对检索出的数据进行排序时，应该保证它是位于 from，如果有条件，应位于where之后，如果使用 limit ，它必须位于 order by 之后，使用子句的次序不对将产生错误消息</p>
</blockquote>
<h1 id="5-聚合函数🥇"><a href="#5-聚合函数🥇" class="headerlink" title="5. 聚合函数🥇"></a>5. 聚合函数🥇</h1><p>MySQL 提供了5个聚合函数，聚合函数能够汇总数据，这些函数是高效设计的，它们返回结果一般比你自己在客户机应用程序中计算要快的多</p>
<h2 id="脑图-2"><a href="#脑图-2" class="headerlink" title="脑图"></a>脑图</h2><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/58988f8a8f124e4cb7870e62d7a4c5f1.png" alt="在这里插入图片描述" style="zoom:50%;" /></p>
<h2 id="AVG"><a href="#AVG" class="headerlink" title="AVG()"></a>AVG()</h2><p>返回某列的平均值<br><code>查看t_stu表求的年龄平均值</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(age) <span class="string">&#x27;年龄平均值&#x27;</span> <span class="keyword">FROM</span> t_stu;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809153049794.png" alt="image-20220809153049794"></p>
<h2 id="COUNT"><a href="#COUNT" class="headerlink" title="COUNT()"></a>COUNT()</h2><p>返回某列的行数<br><code>查看t_stu表男性有多少人</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(id)  <span class="string">&#x27;男性人数&#x27;</span> <span class="keyword">FROM</span> t_stu <span class="keyword">WHERE</span> sex <span class="operator">=</span> <span class="string">&#x27;男&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809153136310.png" alt="image-20220809153136310"></p>
<h2 id="MAX"><a href="#MAX" class="headerlink" title="MAX()"></a>MAX()</h2><p>返回某列的最大值<br><code>找出表中最大年龄是多少</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(age) <span class="string">&#x27;&#x27;</span>最大年龄 <span class="keyword">FROM</span> t_stu;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809153229609.png" alt=""></p>
<h2 id="MIN"><a href="#MIN" class="headerlink" title="MIN()"></a>MIN()</h2><p>返回某列的最小值<br><code>找出表中最小年龄是多少</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(age) <span class="string">&#x27;最小年龄&#x27;</span> <span class="keyword">FROM</span> t_stu;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809153320625.png" alt="image-20220809153320625"></p>
<h2 id="SUM"><a href="#SUM" class="headerlink" title="SUM()"></a>SUM()</h2><p>返回某列之和<br><code>查询所有人的年龄之和</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(age) <span class="string">&#x27;年龄之和&#x27;</span> <span class="keyword">FROM</span> t_stu;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809153401096.png" alt="image-20220809153401096"></p>
<h1 id="6-分组查询🔎"><a href="#6-分组查询🔎" class="headerlink" title="6. 分组查询🔎"></a>6. 分组查询🔎</h1><h2 id="脑图-3"><a href="#脑图-3" class="headerlink" title="脑图"></a>脑图</h2><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/b2b835d7b1fe42a1abe0fe3cc8c7f73f.png" alt="在这里插入图片描述"></p>
<h2 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">对t_stu表的数据按照性别进行分组，并查看男女都有多少人</span><br><span class="line"><span class="keyword">SELECT</span>  sex <span class="string">&#x27;性别&#x27;</span>,<span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="string">&#x27;人数&#x27;</span>  <span class="keyword">FROM</span> t_stu <span class="keyword">GROUP</span> <span class="keyword">BY</span> sex ;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809183216557.png" alt="image-20220809183216557"></p>
<h2 id="过滤"><a href="#过滤" class="headerlink" title="过滤"></a>过滤</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> gradeId,<span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">as</span> num <span class="keyword">from</span> stus <span class="keyword">group</span> <span class="keyword">by</span> gradeId <span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="operator">&gt;</span> <span class="number">1</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">---------+-----+</span></span><br><span class="line"><span class="operator">|</span> gradeId <span class="operator">|</span> num <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+-----+</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">1</span> <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">3</span> <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+-----+</span></span><br></pre></td></tr></table></figure>
<h2 id="having和where的区别"><a href="#having和where的区别" class="headerlink" title="having和where的区别"></a>having和where的区别</h2><ul>
<li>执行时间不一样：where是分组之前进行限定，不满足where条件，就不参与分组，而having是分组之后对结果进行过滤</li>
<li>可判断的条件不一样：where 不能对聚合函数进行判断，having可以</li>
<li>where &gt; 聚合函数 &gt; having</li>
</ul>
<h1 id="7-select子句查询顺序🖥️"><a href="#7-select子句查询顺序🖥️" class="headerlink" title="7. select子句查询顺序🖥️"></a>7. select子句查询顺序🖥️</h1><blockquote>
<p>select</p>
<p>from</p>
<p>where 行级过滤</p>
<p>group by 分组</p>
<p>having 组级过滤</p>
<p>order by 输出排序顺序</p>
<p>limit 要检索的条目数</p>
</blockquote>
<h1 id="8-数据操作语言-DML🥤"><a href="#8-数据操作语言-DML🥤" class="headerlink" title="8.数据操作语言-DML🥤"></a>8.数据操作语言-DML🥤</h1><h3 id="插入记录"><a href="#插入记录" class="headerlink" title="插入记录"></a>插入记录</h3><h4 id="插入全部字段"><a href="#插入全部字段" class="headerlink" title="插入全部字段"></a>插入全部字段</h4><ul>
<li>所有的字段名都写出来<br><code>INSERT INTO 表名 (字段名1, 字段名2, 字段名3…) VALUES (值1, 值2, 值3);</code></li>
<li>不写字段名<br><code>INSERT INTO 表名 VALUES (值1, 值2, 值3…);</code></li>
</ul>
<h4 id="插入部分数据"><a href="#插入部分数据" class="headerlink" title="插入部分数据"></a>插入部分数据</h4><p>   <code>INSERT INTO 表名 (字段名1, 字段名2, ...) VALUES (值1, 值2, ...);</code><br>   没有添加数据的字段会使用NULL</p>
<ol>
<li><p>关键字说明</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 表名 – 表示往哪张表中添加数据</span><br><span class="line">(字段名<span class="number">1</span>, 字段名<span class="number">2</span>, …)  <span class="comment">--  要给哪些字段设置值</span></span><br><span class="line"><span class="keyword">VALUES</span> (值<span class="number">1</span>, 值<span class="number">2</span>, …); <span class="comment">-- 设置具体的值</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>注意</p>
<blockquote>
<ul>
<li>值与字段必须对应，个数相同，类型相同</li>
<li>值的数据大小必须在字段的长度范围内</li>
<li>除了数值类型外，其它的字段类型的值必须使用引号引起。（建议单引号）</li>
<li>如果要插入空值，可以不写字段，或者插入null</li>
</ul>
</blockquote>
</li>
<li><p>具体操作:</p>
<ul>
<li>插入部分数据，往学生表中添加 id, name, age, sex数据</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (id, NAME, age, sex) <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;男&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809131918134.png" alt="image-20220809131918134"></p>
<ul>
<li><p>向表中插入所有字段</p>
<ul>
<li>所有的字段名都写出来</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (NAME, id, age, sex, address) <span class="keyword">VALUES</span> (<span class="string">&#x27;李四&#x27;</span>, <span class="number">2</span>, <span class="number">23</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;广州&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20220809131726790.png" alt="image-20220809131726790"></p>
<ul>
<li>不写字段名</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">&#x27;王五&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;北京&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E6%B7%BB%E5%8A%A0%E6%89%80%E6%9C%89%E5%AD%97%E6%AE%B5%E6%95%B0%E6%8D%AE.png" alt="添加所有字段数据"></p>
</li>
</ul>
</li>
</ol>
<h4 id="操作日期时间类型字段"><a href="#操作日期时间类型字段" class="headerlink" title="操作日期时间类型字段"></a>操作日期时间类型字段</h4><p>在MySQL中，操作日期时间类型，需要注意以下几个方面</p>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/image-20200717104920494.png" alt="image-20200717104920494"></p>
<p><strong>第一种：YEAR（了解）</strong></p>
<p>1、数字或字符形式的值insert到表中YEAR字段后都是变成数字形式显示；</p>
<p>2、字符的’0’与’00’会转化为2000，字符‘0000’和数字的0与00则直接是0000；</p>
<p>3、不论字符还是数字形式的1~99都可以转化为对应年份，<70转成20XX，>=70转成19XX。</p>
<p>4、大于0，小于1901或超过2155是无法写入YEAR类型字段的。</p>
<p><strong>第二种：TIME</strong></p>
<p>1、尽量还是用字符形式做参数；</p>
<p>2、只有一个数字则表示秒，如果有两个数字和一个“：”则自动补充“00”作为秒；</p>
<p>3、前面一个数字加空格后跟着带“：”串，则前面数字要乘以24加上第一个“：”前的数字作为第一个“：”前的结果，其他不变。</p>
<p><strong>第三种：DATE</strong></p>
<p>1、YYYYMMDD与YYMMDD格式不论数字还是字符，都可以写入到DATE类型字段中；</p>
<p>2、YYMMDD格式中表示YY数字00~69转化为2000~2069，而70~99则转化为1970~1999。</p>
<p><strong>第四与第五种：DATETIME与TIMESTAMP</strong></p>
<p>1、TIMESTAMP未指定值的情况下会自动填充系统时间；</p>
<p>2、TIMESTAMP超出范围的值不能写入；</p>
<p>3、YYYY-MM-DD HH:MM:SS与YYYYMMDDHHMMSS格式都可以表示DATETIME与TIMESTAMP。</p>
<p>虽然MySQL支持直接在sql里写字符串形式的日期时间，但是这依赖于系统自带的日期数据格式，如果跟提供的日期时间串不匹配则不能正确解析，建议使用日期时间转换函数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select str_to_date(&#x27;08.09.2008 08:09:30&#x27;, &#x27;%m.%d.%Y %h:%i:%s&#x27;); -- 2008-08-09 08:09:30</span><br><span class="line">select maketime(12,15,30); -- &#x27;12:15:30&#x27;</span><br><span class="line">select date_format(&#x27;2008-08-08 22:23:01&#x27;, &#x27;%Y-%m-%d %H:%i:%s&#x27;);  -- 20080808222301</span><br></pre></td></tr></table></figure>
<h4 id="DOS命令窗口操作数据乱码问题的解决"><a href="#DOS命令窗口操作数据乱码问题的解决" class="headerlink" title="DOS命令窗口操作数据乱码问题的解决"></a>DOS命令窗口操作数据乱码问题的解决</h4><blockquote>
<p>当我们使用DOS命令行进行SQL语句操作如有有中文会出现乱码，导致SQL执行失败<br><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/DOS%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%8101.png" alt="DOS中文乱码01"><br>错误原因:因为MySQL的客户端设置编码是utf8,而系统的DOS命令行编码是gbk，编码不一致导致的乱码<br><img src="D:\Program Files (x86" alt="DOS中文乱码02">\gakataka\Student\recv\第2阶段___JavaWeb\Java第二阶段_day02_MySQL进阶\Java第二阶段_day02_MySQL进阶知识点\Java第二阶段_day02_MySQL进阶.assets\DOS中文乱码02.png)</p>
</blockquote>
<p>查看 MySQL 内部设置的编码<br><code>show variables like &#39;character%&#39;;</code><br><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/DOS%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%8103.png" alt="DOS中文乱码03"></p>
<p>解决方案：修改client、connection、results的编码为GBK，保证和DOS命令行编码保持一致</p>
<ol>
<li><p>单独设置</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> character_set_client<span class="operator">=</span>gbk; </span><br><span class="line"><span class="keyword">set</span> character_set_connection<span class="operator">=</span>gbk;</span><br><span class="line"><span class="keyword">set</span> character_set_results<span class="operator">=</span>gbk;</span><br></pre></td></tr></table></figure>
</li>
<li><p>快捷设置</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> names gbk;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：以上2种方式为临时方案，退出DOS命令行就失效了，需要每次都配置</p>
</blockquote>
</li>
<li><p>修改MySQL安装目录下的my.ini文件，重启服务所有地方生效。此方案将所有编码都修改了<br><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/DOS%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%8104.png" alt="DOS中文乱码04"></p>
</li>
</ol>
<h4 id="蠕虫复制"><a href="#蠕虫复制" class="headerlink" title="蠕虫复制"></a>蠕虫复制</h4><p>什么是蠕虫复制：在已有的数据基础之上，将原来的数据进行复制，插入到对应的表中<br>语法格式：<code>INSERT INTO 表名1 SELECT * FROM 表名2;</code><br>作用:将<code>表名2</code>中的数据复制到<code>表名1</code>中</p>
<p>具体操作:</p>
<ul>
<li>创建student2表，student2结构和student表结构一样</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student2 <span class="keyword">LIKE</span> student;</span><br></pre></td></tr></table></figure>
<ul>
<li>将student表中的数据添加到student2表中</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student2 <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：如果只想复制student表中name,age字段数据到student2表中使用如下格式<br><code>INSERT INTO student2(NAME, age) SELECT NAME, age FROM student;</code><br><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E8%A0%95%E8%99%AB%E5%A4%8D%E5%88%B6.png" alt="蠕虫复制"></p>
</blockquote>
<h3 id="更新表记录"><a href="#更新表记录" class="headerlink" title="更新表记录"></a>更新表记录</h3><ol>
<li><p>不带条件修改数据<br><code>UPDATE 表名 SET 字段名=值;</code></p>
</li>
<li><p>带条件修改数据<br><code>UPDATE 表名 SET 字段名=值 WHERE 字段名=值;</code></p>
</li>
<li><p>关键字说明</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span>: 修改数据</span><br><span class="line"><span class="keyword">SET</span>: 修改哪些字段</span><br><span class="line"><span class="keyword">WHERE</span>: 指定条件</span><br></pre></td></tr></table></figure>
</li>
<li><p>具体操作：</p>
<ul>
<li><p>不带条件修改数据，将所有的性别改成女</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> student <span class="keyword">SET</span> sex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E4%BF%AE%E6%94%B9%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE.png" alt="修改所有数据"></p>
</li>
<li><p>带条件修改数据，将id号为2的学生性别改成男</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> student <span class="keyword">SET</span> sex<span class="operator">=</span><span class="string">&#x27;男&#x27;</span> <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E5%B8%A6%E6%9D%A1%E4%BB%B6%E4%BF%AE%E6%94%B9.png" alt="带条件修改"></p>
</li>
<li><p>一次修改多个列，把id为3的学生，年龄改成26岁，address改成北京</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> student <span class="keyword">SET</span> age<span class="operator">=</span><span class="number">26</span>, address<span class="operator">=</span><span class="string">&#x27;北京&#x27;</span> <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">3</span>;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E4%B8%80%E6%AC%A1%E6%80%A7%E4%BF%AE%E6%94%B92%E4%B8%AA%E5%AD%97%E6%AE%B5.png" alt="一次性修改2个字段"></p>
</li>
</ul>
</li>
</ol>
<h3 id="删除表记录"><a href="#删除表记录" class="headerlink" title="删除表记录"></a>删除表记录</h3><ol>
<li><p>不带条件删除数据<br><code>DELETE FROM 表名;</code></p>
</li>
<li><p>带条件删除数据<br><code>DELETE FROM 表名 WHERE 字段名=值;</code></p>
</li>
<li><p>truncate删除表记录<br><code>TRUNCATE TABLE 表名;</code></p>
<blockquote>
<p>truncate和delete的区别：</p>
<ul>
<li>delete是将表中的数据一条一条删除</li>
<li>truncate是将整个表摧毁，重新创建一个新的表,新的表结构和原来表结构一模一样</li>
</ul>
</blockquote>
</li>
</ol>
<blockquote>
<p> <img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/truncate.png" alt="truncate"></p>
</blockquote>
<ol>
<li><p>具体操作：</p>
<ul>
<li><p>带条件删除数据，删除id为3的记录</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">3</span>;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E5%88%A0%E9%99%A4%E6%BB%A1%E8%B6%B3%E6%9D%A1%E4%BB%B6%E7%9A%84%E8%AE%B0%E5%BD%95.png" alt="删除满足条件的记录"></p>
</li>
<li><p>不带条件删除数据,删除表中的所有数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> student;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E5%88%A0%E9%99%A4%E6%89%80%E6%9C%89%E8%AE%B0%E5%BD%95.png" alt="删除所有记录"></p>
</li>
</ul>
</li>
</ol>
<ul>
<li><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> s1;</span><br></pre></td></tr></table></figure>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/%E5%88%A4%E6%96%AD%E8%A1%A8%E5%AD%98%E5%9C%A8%E5%B9%B6%E5%88%A0%E9%99%A4-1593134997652.png" alt="判断表存在并删除"></p>
</li>
</ul>
<h1 id="9-SQL约束❤️"><a href="#9-SQL约束❤️" class="headerlink" title="9. SQL约束❤️"></a>9. SQL约束❤️</h1><p><strong>数据完整性</strong><br>数据完整性是为了保证插入到数据库中的数据是正确的,防止用户可能的错误输入。<br>数据完整性分为实<strong>体完整性、域完整性、参照完整性。</strong></p>
<p><strong>实体(行)完整性</strong></p>
<p>(实体完整性中的实体指的是表中的行,因为一行记录对应一个实体)<br>实体完整性规定表的一行在表中是唯一的实体,不能出现重复。<br>实体完整性通过表的主键来实现。</p>
<p><strong>域(列)完整性</strong></p>
<p>指数据库表的列（即字段）必须符合某种特定的数据类型或约束<br>非空约束：NOT NULL<br>唯一约束：UNIQUE</p>
<p><strong>参照完整性</strong></p>
<p>参照完整性指的就是多表之间的关系设计，主要使用外键约束。</p>
<p>约束英文：<strong>constraint</strong></p>
<p>​        约束实际上就是表中数据的限制条件</p>
<p>​        表在设计的时候加入约束的目的就是为了保证表中的记录完整和有效。</p>
<p>​        <strong>约束分类：</strong><br>1）not null ：非空约束，保证字段的值不能为空</p>
<p>2）default：默认约束，保证字段总会有值，即使没有插入值，都会有默认值！</p>
<p>3）unique：唯一，保证唯一性但是可以为空，比如座位号</p>
<p>4）primary key ：主建约束，同时保证唯一性和非空</p>
<p>5）foreign key：外键约束，用于限制两个表的关系，保证从表该字段的值来自于主表相关联的字段的值(此节与表之间的关系一起讲)。</p>
<p>6）check：检查性约束，限制字段输入值的范围</p>
<h3 id="非空约束"><a href="#非空约束" class="headerlink" title="非空约束"></a>非空约束</h3><p>​        用<strong>not null</strong>约束的字段不能为null值，<strong>必须给定具体的数据</strong></p>
<p>​        创建非空约束的方法：</p>
<p>1、建表时创建</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tc_1(</span><br><span class="line">  aaa <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">  bbb <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">  ccc datetime <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>2、在已创建好的表的字段上去除、添加非空约束</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alter table tc_1 modify aaa int;</span><br><span class="line">alter table tc_1 modify bbb varchar(20) not null;</span><br></pre></td></tr></table></figure>
<p>​        非空约束不可以指定约束名称，在系统约束列表中也找不到对应的记录。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> information_schema.TABLE_CONSTRAINTS <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;test&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>3、删除表时会删除表上全部的非空约束。</p>
<h3 id="唯一性约束"><a href="#唯一性约束" class="headerlink" title="唯一性约束"></a>唯一性约束</h3><p>​        <strong>unique约束的字段，具有唯一性，不可重复，但可以为null。</strong></p>
<p>​        创建唯一性约束的方法：</p>
<p>1、建表时创建</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--列约束定义模式</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tc_2(</span><br><span class="line">  aaa <span class="type">int</span> <span class="keyword">unique</span>,</span><br><span class="line">  bbb <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">unique</span>,</span><br><span class="line">  ccc datetime <span class="keyword">unique</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">--表约束定义模式</span></span><br><span class="line"><span class="comment">--表级约束可以给约束起名字(方便以后通过这个名字来删除这个约束)</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tc_3(</span><br><span class="line">  aaa <span class="type">int</span>,</span><br><span class="line">  bbb <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">  ccc datetime,</span><br><span class="line">  <span class="keyword">unique</span>(aaa),</span><br><span class="line">  <span class="keyword">unique</span>(bbb),</span><br><span class="line">  <span class="keyword">constraint</span> u_ccc <span class="keyword">unique</span>(ccc)</span><br><span class="line">);</span><br><span class="line"><span class="comment">--组合约束模式</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tc_4(</span><br><span class="line">  aaa <span class="type">int</span>,</span><br><span class="line">  bbb <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">  ccc datetime,</span><br><span class="line">  <span class="keyword">unique</span>(aaa, bbb),</span><br><span class="line">  <span class="keyword">unique</span>(ccc)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>2、在已创建好的表的字段上去除唯一约束</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 找到对应的唯一约束名称</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> information_schema.TABLE_CONSTRAINTS <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;test&#x27;</span></span><br><span class="line">  <span class="keyword">and</span> table_name<span class="operator">=</span><span class="string">&#x27;tc_3&#x27;</span>;</span><br><span class="line"><span class="comment">-- 唯一约束同时也是索引，还可以用索引方式找到</span></span><br><span class="line"><span class="keyword">show</span> index <span class="keyword">from</span> tc_3;</span><br><span class="line"><span class="comment">-- 用删除索引的方法来删除唯一约束</span></span><br><span class="line"><span class="keyword">drop</span> index u_ccc <span class="keyword">on</span> tc_3;</span><br><span class="line"><span class="comment">-- 在删除表时会自动删除表上全部的唯一约束</span></span><br></pre></td></tr></table></figure>
<p>3、在已创建好的表的字段上追加唯一约束  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--以约束模式添加</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> tc_3 <span class="keyword">ADD</span> <span class="keyword">unique</span>(ccc);</span><br><span class="line"><span class="comment">--以索引模式添加</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">unique</span> index u_ccc <span class="keyword">on</span> tc_3 (ccc);</span><br></pre></td></tr></table></figure>
<h3 id="默认值约束"><a href="#默认值约束" class="headerlink" title="默认值约束"></a>默认值约束</h3><p>​        “默认值（Default）”的完整称呼是“默认值约束（Default Constraint）”。MySQL默认值约束用来指定某列的默认值。</p>
<p>​        创建默认值约束</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tc_5(</span><br><span class="line">  aaa <span class="type">int</span> <span class="keyword">default</span> <span class="number">0</span>,</span><br><span class="line">  bbb <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">default</span> <span class="string">&#x27;aaa&#x27;</span>,</span><br><span class="line">  ccc datetime <span class="keyword">default</span> <span class="string">&#x27;2020-1-1&#x27;</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tc_5 <span class="keyword">values</span>();</span><br></pre></td></tr></table></figure>
<p>​        在已存在的表字段上添加、修改默认值约束</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alter table tc_5 modify aaa int default 5;</span><br><span class="line">alter table tc_5 modify bbb varchar(20) default &#x27;bbb&#x27;;</span><br></pre></td></tr></table></figure>
<p>​        删除已存在的默认值约束</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tc_5 modify aaa <span class="type">int</span> <span class="keyword">default</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tc_5 modify bbb <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">default</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">-- 在删除表时会自动删除表上全部的默认约束</span></span><br></pre></td></tr></table></figure>
<p>​        与非空约束类似，默认值约束也无法指定名称，也无法在 information_schema.TABLE_CONSTRAINTS 表中查到。</p>
<h3 id="主键约束"><a href="#主键约束" class="headerlink" title="主键约束"></a>主键约束</h3><p>​        表中的某个字段添加<strong>主键约束(primary key)</strong>后，该字段为主键字段，主键字段中出现的每一个数据都称为主键值</p>
<p>​        1、主键约束（PRIMARY KEY）</p>
<p>​        1) 主键用于唯一地标识表中的每一条记录，可以定义一列或多列为主键。<br>​        2) 是不可能（或很难）更新．<br>​        3) 主键列上没有任何两行具有相同值（即重复值），不允许空（NULL）．<br>​        4) 主健可作外健，唯一索引不可；</p>
<p>​        2、唯一性约束（UNIQUE）<br>​        1) 唯一性约束用来限制不受主键约束的列上的数据的唯一性，用于作为访问某行的可选手段，一个表上可以放置多个唯一性约束．<br>​        2) 只要唯一就可以更新．<br>​        3) 即表中任意两行在 指定列上都不允许有相同的值，允许空（NULL）．<br>​        4) 一个表上可以放置多个唯一性约束</p>
<pre><code>     3、唯一性约束和主键约束的区别：
 （1）.唯一性约束允许在该列上存在NULL值，而主键约束的限制更为严格，不但不允许有重复，而且也不允许有空值。
 （2）.在创建唯一性约束和主键约束时可以创建聚集索引和非聚集索引，但在 默认情况下主键约束产生**聚集索引**，而唯一性约束产生**非聚集索引**。
</code></pre><p>​        在建表时创建主键约束</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 在列数据库类型后加入主键关键字</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tc_6(</span><br><span class="line">  aaa <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">  bbb <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">  ccc datetime</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 在所有字段声明完毕后，加入主键声明</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tc_6(</span><br><span class="line">  aaa <span class="type">int</span>,</span><br><span class="line">  bbb <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">  ccc datetime,</span><br><span class="line">  <span class="keyword">primary</span> key(aaa)</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 第2种模式下，可以创建成联合主键（复合主键）</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tc_6(</span><br><span class="line">  aaa <span class="type">int</span>,</span><br><span class="line">  bbb <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">  ccc datetime,</span><br><span class="line">  <span class="keyword">primary</span> key(aaa， bbb)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>​        在已创建的表上建立主键约束</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tc_7(</span><br><span class="line">  aaa <span class="type">int</span>,</span><br><span class="line">  bbb <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">  ccc datetime</span><br><span class="line">);</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tc_7 <span class="keyword">add</span> <span class="keyword">primary</span> key(aaa);</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tc_7 <span class="keyword">add</span> <span class="keyword">primary</span> key(aaa, bbb);</span><br></pre></td></tr></table></figure>
<p>​        主键约束可以在 information_schema.TABLE_CONSTRAINTS 表中查找到，其约束名称固定为 PRIMARY。</p>
<p>​        删除已存在主键约束</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tc_7 <span class="keyword">drop</span> <span class="keyword">primary</span> key;</span><br><span class="line"><span class="comment">-- 在删除表时会自动删除表上的主键约束</span></span><br></pre></td></tr></table></figure>
<p>​        MySQL不支持直接修改主键索引，想要重定义一个表的主键索引，只能先删除原来的索引，再加入新的索引。</p>
<h3 id="检查约束"><a href="#检查约束" class="headerlink" title="检查约束"></a>检查约束</h3><p>​        检查约束可以限制新增 、修改字段值，使得其符合约束指定的规则</p>
<p>​        在创建表时建立检查约束</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tc_9(</span><br><span class="line">  aaa <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">  bbb <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">  ccc datetime,</span><br><span class="line">  <span class="keyword">check</span>(aaa <span class="operator">&gt;</span> <span class="number">100</span> <span class="keyword">and</span> aaa<span class="operator">&lt;</span><span class="number">1000</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tc_9(</span><br><span class="line">  aaa <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">  bbb <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">  ccc datetime,</span><br><span class="line">  <span class="keyword">constraint</span> c_tc_9 <span class="keyword">check</span>(aaa <span class="operator">&gt;</span> <span class="number">100</span> <span class="keyword">and</span> aaa<span class="operator">&lt;</span><span class="number">1000</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>​        可以指定约束的名称，否则数据库管理系统将自行定义约束名称。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tc_9 <span class="keyword">values</span>(<span class="number">123</span>, <span class="string">&#x27;aaa&#x27;</span>, <span class="string">&#x27;1-2-3&#x27;</span>);</span><br><span class="line"><span class="comment">-- 不满足约束的数据，无法插入记录表</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tc_9 <span class="keyword">values</span>(<span class="number">23</span>, <span class="string">&#x27;aaa&#x27;</span>, <span class="string">&#x27;1-2-3&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tc_9 <span class="keyword">values</span>(<span class="number">1234</span>, <span class="string">&#x27;aaa&#x27;</span>, <span class="string">&#x27;1-2-3&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>​        检查约束可以作用于数值类型、日期类型、字符串类型</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tc_9(</span><br><span class="line">  aaa <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">  bbb <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">  ccc datetime,</span><br><span class="line">  <span class="keyword">constraint</span> c_tc_9a <span class="keyword">check</span>(aaa <span class="operator">&gt;</span> <span class="number">100</span> <span class="keyword">and</span> aaa<span class="operator">&lt;</span><span class="number">1000</span>),</span><br><span class="line">  <span class="keyword">constraint</span> c_tc_9b <span class="keyword">check</span>(bbb <span class="keyword">in</span> (<span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;女&#x27;</span>)),</span><br><span class="line">  <span class="keyword">constraint</span> c_tc_9c <span class="keyword">check</span>(ccc <span class="operator">&gt;</span> <span class="string">&#x27;2000-1-1&#x27;</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tc_9 <span class="keyword">values</span>(<span class="number">123</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;2001-2-3&#x27;</span>);</span><br><span class="line"><span class="comment">-- 不满足约束的数据，无法插入记录表</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tc_9 <span class="keyword">values</span>(<span class="number">223</span>, <span class="string">&#x27;aaa&#x27;</span>, <span class="string">&#x27;2001-2-3&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tc_9 <span class="keyword">values</span>(<span class="number">223</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;1995-2-3&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>​        在已创建的表上追加检查约束 </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tc_9 <span class="keyword">add</span> <span class="keyword">constraint</span> c_tc_9d <span class="keyword">check</span>(ccc <span class="operator">&lt;</span> <span class="string">&#x27;2020-1-1&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tc_9 <span class="keyword">values</span>(<span class="number">223</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;2025-2-3&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>​       <strong>注意：追加检查约束时，会检查相应字段的值，如果不满足检查约束的限制，检查约束无法创建。</strong></p>
<p>​        MySQL不支持修改已存在的检查约束，但是可以删除这个约束，再重新添加。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tc_9 <span class="keyword">drop</span> <span class="keyword">check</span> c_tc_9d;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tc_9 <span class="keyword">add</span> <span class="keyword">constraint</span> c_tc_9d <span class="keyword">check</span>(ccc <span class="operator">&lt;</span> <span class="string">&#x27;2020-1-1&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="自动增长"><a href="#自动增长" class="headerlink" title="自动增长"></a>自动增长</h3><p>​        当对应的字段不给值，或者说默认值，或者给null的时候会自动地被系统触发，系统会从当前字段中已有的最大值再进行+1，得到一个新的不同的值，通常和主键搭配。</p>
<p>​        自增长的特点 ：</p>
<p>　　　　a)、任何一个字段做自增长前提 自身是一个索引(key一栏有值)。</p>
<p>　　　　b)、自增长字段通常是整形。</p>
<p>　　　　c)、一个表中只能有1个自增长。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> if <span class="keyword">not</span> <span class="keyword">exists</span> my_auto_increment(</span><br><span class="line">  id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">) charset utf8;</span><br></pre></td></tr></table></figure>
<p><strong>自增长如果对应的字段输入了值，那么自增长失效，但是下一次还是能够正确的自增长(从最大值+1)。</strong></p>
<p>​        <strong>修改自增长。</strong></p>
<p>　　        自增长如果是涉及到字段改变，必须先删除自增长，后增加，一张表中只能有1个自增长。</p>
<p>　　　　 修改当前已存在自增长的值，修改只能比当前已有的自增长的最大值大，不能小(小则不生效)。</p>
<p>​        <strong>删除自增增长。</strong></p>
<p>​        自增长是字段的一个属性，可以通过modify属性来修改(字段没有自增长)。</p>
<p>​        <strong>语法：alter table 表名字 modify 字段名 数据类型</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table my_auto_increment modify id int;</span><br></pre></td></tr></table></figure>
<p>​        <strong>自增长为什么从1开始？又为什么每次都是自增1呢？</strong></p>
<p>​        所有系统的表现(如字符集、校对集)都是由系统的内部变量进行控制的。</p>
<p>　　<strong>查看自增长对应的变量的语法：show variables like ‘auto_increment%’;</strong> </p>
<p>​        可以修改变量实现不同的效果。如果对整个数据修改(而不是但张表)，这种方式是修改时会话级(当前客户端，当此连接有效，关闭失效)。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--修改成一次自增为5</span></span><br><span class="line"><span class="keyword">set</span> auto_increment_increment <span class="operator">=</span> <span class="number">5</span>;</span><br></pre></td></tr></table></figure>
<h1 id="10-多表查询😋"><a href="#10-多表查询😋" class="headerlink" title="10. 多表查询😋"></a>10. 多表查询😋</h1><h3 id="脑图-4"><a href="#脑图-4" class="headerlink" title="脑图"></a>脑图</h3><p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/a1818e50ebc846e6a36d6bb3a2a4c5bf.png" alt="在这里插入图片描述" style="zoom:67%;" /></p>
<p>试着查询两张表</p>
<p>​        在实际运用数据的场景中，往往我们使用的数据并不是来自一个表，而需要从多个表中抽取数据来形成我们需要的结果集。        </p>
<p>​        SQL 连接子句用于把来自两个或多个表的行结合起来，基于这些表之间的共同字段。连接的结果可以在逻辑上看作是由SELECT语句指定的列组成的新表。</p>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/20180103220411541778.png" alt="20180103220411541778"></p>
<h3 id="等值连接与非等值连接"><a href="#等值连接与非等值连接" class="headerlink" title="等值连接与非等值连接"></a>等值连接与非等值连接</h3><p>​        连接条件是使用等式控制限定，就是等值连接。使用 !=、&gt;、&lt;等非=号来控制里连接条件的，就是非等值连接。</p>
<h3 id="交叉连接-—-笛卡尔乘积-cross-join"><a href="#交叉连接-—-笛卡尔乘积-cross-join" class="headerlink" title="交叉连接 — 笛卡尔乘积  cross join"></a>交叉连接 — 笛卡尔乘积  cross join</h3><p>​        当两个表或多个表，没有通过连接字段进行关联，而直接进行连接，这时会形成笛卡尔积，结果集会是所有参与连接的表的条数的乘积。</p>
<p><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/img/2934349b033b5bb57f0eb50b36d3d539b700bc6e.gif" alt="img"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line"><span class="keyword">from</span> teacher a, student b;</span><br><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name, c.bbb</span><br><span class="line"><span class="keyword">from</span> teacher a, student b, test01 c <span class="keyword">order</span> <span class="keyword">by</span> a.teacher_name;</span><br><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name <span class="keyword">from</span> teacher a</span><br><span class="line">	<span class="keyword">cross</span> <span class="keyword">join</span> student b;</span><br></pre></td></tr></table></figure>
<p>​        笛卡尔积通常是没有意义的，不满足业务需求，实际运用中应避免笛卡尔积的形成。</p>
<p>​                <strong>不要漏写关联字段！！！        不要漏写关联字段！！！    不要漏写关联字段！！！</strong></p>
<h3 id="内连接-inner-join"><a href="#内连接-inner-join" class="headerlink" title="内连接 inner join"></a>内连接 inner join</h3><p>关键字：INNER JOIN</p>
<blockquote>
<p>连接结果仅包含符合连接条件的行组合起来作为结果集，参与连接的两个表都应该符合连接条件使用关键词：INNER JOIN 连接多张表</p>
<p>​    内连接使用比较运算符对两个表中的数据进行比较，并列出与连接条件匹配的数据行，组合成新的纪录。结果只保留满足条件的记录。</p>
</blockquote>
<p>​        我们来重新创建教师表和学生表，建立一对多的关系。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> teacher;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> teacher(</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">	teacher_name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">	teacher_city <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> student;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">	student_name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">	student_city <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">	teacher_id <span class="type">int</span></span><br><span class="line">	<span class="comment">-- CONSTRAINT fk_t_s foreign key (teacher_id) references teacher(id) on update cascade on delete cascade</span></span><br><span class="line">    <span class="comment">-- 单行注释用 &quot;-- &quot; 注意这个风格下&quot;--【空格】&quot; 也就是说“--&quot; 与注释之间是有空格的</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> teacher(teacher_name, teacher_city) <span class="keyword">values</span></span><br><span class="line">	(<span class="string">&#x27;赵大&#x27;</span>, <span class="string">&#x27;武汉&#x27;</span>), (<span class="string">&#x27;陈二&#x27;</span>, <span class="string">&#x27;鄂州&#x27;</span>), (<span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;襄阳&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student(student_name, student_city, teacher_id ) <span class="keyword">values</span></span><br><span class="line">	(<span class="string">&#x27;李四&#x27;</span>, <span class="string">&#x27;宜昌&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;王五&#x27;</span>, <span class="string">&#x27;恩施&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;钱六&#x27;</span>, <span class="string">&#x27;黄石&#x27;</span>, <span class="number">1</span>),</span><br><span class="line">	(<span class="string">&#x27;周七&#x27;</span>, <span class="string">&#x27;孝感&#x27;</span>, <span class="number">2</span>), (<span class="string">&#x27;胡八&#x27;</span>, <span class="string">&#x27;武汉&#x27;</span>, <span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<p>数据准备完成后，我们来看看如何内连接两个表。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line">	<span class="keyword">from</span> teacher a, student b <span class="keyword">where</span> a.id <span class="operator">=</span> b.teacher_id;</span><br><span class="line"><span class="comment">-- 或者是</span></span><br><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line"><span class="keyword">from</span> teacher a</span><br><span class="line">	<span class="keyword">INNER</span> <span class="keyword">JOIN</span> student b <span class="keyword">on</span> a.id <span class="operator">=</span> b.teacher_id;</span><br></pre></td></tr></table></figure>
<p>​        得到的结果是左边的表，去匹配右边的表，只取得左右两边都能匹配上的数据，匹配不上的数据抛弃。</p>
<p>​        左表中一条记录，对应右表中多条记录的，左表记录重复多次，每次匹配右表中的一条独立的记录。</p>
<p>​        我们再插入一些不构成关联的教师和学生的数据，来看看内关联如何处理。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> teacher(teacher_name, teacher_city) <span class="keyword">values</span></span><br><span class="line">	(<span class="string">&#x27;王胖&#x27;</span>, <span class="string">&#x27;武汉&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student(student_name, student_city, teacher_id ) <span class="keyword">values</span></span><br><span class="line">	(<span class="string">&#x27;大金牙&#x27;</span>, <span class="string">&#x27;武汉&#x27;</span>, <span class="number">20</span>);</span><br></pre></td></tr></table></figure>
<h3 id="隐式内连接"><a href="#隐式内连接" class="headerlink" title="隐式内连接"></a>隐式内连接</h3><blockquote>
<p>内连接还有一种隐式的写法，即不需要显示的指定 <code>INNER JOIN</code> 关键字，需要注意，使用隐式内连接条件的关键字要使用 <code>where</code> 而不再是 <code>on</code></p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line">	<span class="keyword">from</span> teacher a, student b <span class="keyword">where</span> a.id <span class="operator">=</span> b.teacher_id;</span><br></pre></td></tr></table></figure>
<h3 id="左外连接-left-out-join"><a href="#左外连接-left-out-join" class="headerlink" title="左外连接 left out join"></a>左外连接 left out join</h3><p>​        是指以左边的表的数据为基准，去匹配右边的表的数据，如果匹配到就显示，匹配不到就显示为null。关键字是left outer join，等效于left join。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line"><span class="keyword">from</span> teacher a</span><br><span class="line">	<span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> student b <span class="keyword">on</span> a.id <span class="operator">=</span> b.teacher_id;</span><br><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line"><span class="keyword">from</span> teacher a</span><br><span class="line">	<span class="keyword">left</span> <span class="keyword">join</span> student b <span class="keyword">on</span> a.id <span class="operator">=</span> b.teacher_id;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line"><span class="keyword">from</span> teacher a</span><br><span class="line">	<span class="keyword">left</span> <span class="keyword">join</span> student b <span class="keyword">on</span> a.id <span class="operator">=</span> b.teacher_id</span><br><span class="line"><span class="keyword">where</span> b.teacher_id <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">-- 这句sql等效于内连接</span></span><br><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line"><span class="keyword">from</span> teacher a</span><br><span class="line">	<span class="keyword">left</span> <span class="keyword">join</span> student b <span class="keyword">on</span> a.id <span class="operator">=</span> b.teacher_id</span><br><span class="line"><span class="keyword">where</span> b.teacher_id <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">-- 这句sql取出没有学生对应的老师</span></span><br></pre></td></tr></table></figure>
<p>​        得到的结果是左边的表，完整的全表数据，去匹配右边的表，取得右边能匹配上的数据，匹配不上的数据填null。</p>
<p>​        左表中一条记录，对应右表中多条记录的，左表记录重复多次，每次匹配右表中的一条独立的记录。</p>
<h3 id="右外连接-right-outer-join"><a href="#右外连接-right-outer-join" class="headerlink" title="右外连接 right outer join"></a>右外连接 right outer join</h3><p>​        是指以右边的表的数据为基准，去匹配左边的表的数据，如果匹配到就显示，匹配不到就显示为null。关键字是right outer join，等效于right join。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line"><span class="keyword">from</span> teacher a</span><br><span class="line">	<span class="keyword">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> student b <span class="keyword">on</span> a.id <span class="operator">=</span> b.teacher_id;</span><br><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line"><span class="keyword">from</span> teacher a</span><br><span class="line">	<span class="keyword">right</span> <span class="keyword">join</span> student b <span class="keyword">on</span> a.id <span class="operator">=</span> b.teacher_id;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line"><span class="keyword">from</span> teacher a</span><br><span class="line">	<span class="keyword">right</span> <span class="keyword">join</span> student b <span class="keyword">on</span> a.id <span class="operator">=</span> b.teacher_id</span><br><span class="line"><span class="keyword">where</span> a.id <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">-- 这句sql等效于内连接</span></span><br><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line"><span class="keyword">from</span> teacher a</span><br><span class="line">	<span class="keyword">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> student b <span class="keyword">on</span> a.id <span class="operator">=</span> b.teacher_id</span><br><span class="line"><span class="keyword">where</span> a.id <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">-- 这句sql取出没有老师对应的学生</span></span><br></pre></td></tr></table></figure>
<p>​        得到的结果是右边的表，取完整的全表数据，去匹配左边的表，取得左边能匹配上的数据，匹配不上的数据填null。</p>
<p>​        右表中一条记录，对应左表中多条记录的，右表记录重复多次，每次匹配左表中的一条独立的记录。</p>
<h3 id="全外连接-full-outer-join"><a href="#全外连接-full-outer-join" class="headerlink" title="全外连接 full outer join"></a>全外连接 full outer join</h3><p>​        全外连接是在内连接的基础上将左表和右表的未匹配数据都加上。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> </span><br><span class="line"><span class="keyword">FROM</span> TESTA </span><br><span class="line"><span class="keyword">FULL</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> TESTB</span><br><span class="line"><span class="keyword">ON</span> TESTA.A<span class="operator">=</span>TESTB.A</span><br></pre></td></tr></table></figure>
<p>​        注意：MySQL不支持全外连接，但是Oracle支持全外连接。</p>
<p>​        其等效于</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line"><span class="keyword">from</span> teacher a</span><br><span class="line">	<span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> student b <span class="keyword">on</span> a.id <span class="operator">=</span> b.teacher_id</span><br><span class="line"><span class="keyword">union</span>  <span class="comment">-- 注意这里需要使用去重，而不是union all</span></span><br><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line"><span class="keyword">from</span> teacher a</span><br><span class="line">	<span class="keyword">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> student b <span class="keyword">on</span> a.id <span class="operator">=</span> b.teacher_id;</span><br></pre></td></tr></table></figure>
<h3 id="自然连接-natural-join"><a href="#自然连接-natural-join" class="headerlink" title="自然连接 natural join"></a>自然连接 natural join</h3><p>​        通过mysql自己判断完成连接过程,不需要指定连接条件，mysql会根据多个表内的相同字段作为连接条件。</p>
<p>​        自然连接分为两种：<strong>内自然连接(natural join)</strong>和外自然连接，其中外自然连接又分为<strong>左外自然连接(natural left join)</strong>和<strong>右外自然连接(rnatural right join)</strong>。<strong>注意：自然连接没有判断语句。</strong></p>
<p>​        内自然连接如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line"><span class="keyword">from</span> teacher a</span><br><span class="line">	<span class="keyword">natural</span> <span class="keyword">join</span> student b;</span><br><span class="line"><span class="comment">-- 这实际等效于以下sql</span></span><br><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line"><span class="keyword">from</span> teacher a</span><br><span class="line">	<span class="keyword">inner</span> <span class="keyword">join</span> student b <span class="keyword">on</span> a.id <span class="operator">=</span> b.id;</span><br></pre></td></tr></table></figure>
<p>​        所以使用自然连接的前提条件是连接字段必须同名。</p>
<p>​        我们来重新创建教师表和学生表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> teacher;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> teacher(</span><br><span class="line">	teacher_id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">	teacher_name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">	teacher_city <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> student;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">	student_id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">	student_name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">	student_city <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">	teacher_id <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> teacher(teacher_name, teacher_city) <span class="keyword">values</span></span><br><span class="line">	(<span class="string">&#x27;赵大&#x27;</span>, <span class="string">&#x27;武汉&#x27;</span>), (<span class="string">&#x27;陈二&#x27;</span>, <span class="string">&#x27;鄂州&#x27;</span>), (<span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;襄阳&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student(student_name, student_city, teacher_id ) <span class="keyword">values</span></span><br><span class="line">	(<span class="string">&#x27;李四&#x27;</span>, <span class="string">&#x27;宜昌&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;王五&#x27;</span>, <span class="string">&#x27;恩施&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;钱六&#x27;</span>, <span class="string">&#x27;黄石&#x27;</span>, <span class="number">1</span>),</span><br><span class="line">	(<span class="string">&#x27;周七&#x27;</span>, <span class="string">&#x27;孝感&#x27;</span>, <span class="number">2</span>), (<span class="string">&#x27;胡八一&#x27;</span>, <span class="string">&#x27;武汉&#x27;</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> teacher(teacher_name, teacher_city) <span class="keyword">values</span></span><br><span class="line">	(<span class="string">&#x27;王胖子&#x27;</span>, <span class="string">&#x27;武汉&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student(student_name, student_city, teacher_id ) <span class="keyword">values</span></span><br><span class="line">	(<span class="string">&#x27;大金牙&#x27;</span>, <span class="string">&#x27;武汉&#x27;</span>, <span class="number">20</span>);</span><br></pre></td></tr></table></figure>
<p>左外自然连接：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line"><span class="keyword">from</span> teacher a</span><br><span class="line">	<span class="keyword">natural</span> <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> student b;</span><br><span class="line"><span class="comment">-- 其等效于以下sql</span></span><br><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line"><span class="keyword">from</span> teacher a</span><br><span class="line">	<span class="keyword">left</span> <span class="keyword">join</span> student b <span class="keyword">on</span> a.teacher_id <span class="operator">=</span> b.teacher_id;</span><br></pre></td></tr></table></figure>
<p>右外自然连接：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line"><span class="keyword">from</span> teacher a</span><br><span class="line">	<span class="keyword">natural</span> <span class="keyword">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> student b;</span><br><span class="line"><span class="comment">-- 其等效于以下sql</span></span><br><span class="line"><span class="keyword">select</span> a.teacher_name, b.student_name</span><br><span class="line"><span class="keyword">from</span> teacher a</span><br><span class="line">	<span class="keyword">right</span> <span class="keyword">join</span> student b <span class="keyword">on</span> a.teacher_id <span class="operator">=</span> b.teacher_id;</span><br></pre></td></tr></table></figure>
<h3 id="自连接"><a href="#自连接" class="headerlink" title="自连接"></a>自连接</h3><p>​        <strong>自连接</strong>是连接的一种用法，但并不是连接的一种类型，因为他的本质是把一张表当成两张表来使用。 处理业务是有时在信息查询时需要进行对自身连接（自连接），所以我们需要为表定义别名。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ta.student_name, tb.student_city</span><br><span class="line"><span class="keyword">from</span> studnet ta， student tb</span><br><span class="line"><span class="keyword">where</span> ta.student_id <span class="operator">=</span> tb.student_id;</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://manamn.space">Gao</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://manamn.space/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF/Java%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5-day02-MySQL%E8%BF%9B%E9%98%B6/">https://manamn.space/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF/Java%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5-day02-MySQL%E8%BF%9B%E9%98%B6/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://manamn.space" target="_blank">爱笑的Gao的个人博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/MySQL/">MySQL</a><a class="post-meta__tags" href="/tags/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/">百里半Java培训</a></div><div class="post_share"><div class="social-share" data-image="http://pic.netbian.com/uploads/allimg/221008/163336-16652180162ea7.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF/Java%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5-day01-MySQL%E5%85%A5%E9%97%A8/"><img class="prev-cover" src="http://pic.netbian.com/uploads/allimg/221008/163146-16652179062b98.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Java第二阶段_day01_MySQL入门</div></div></a></div><div class="next-post pull-right"><a href="/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF/Java%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5-day03-MySQL%E8%BF%9B%E9%98%B6/"><img class="next-cover" src="http://pic.netbian.com/uploads/allimg/221006/002329-16649870098307.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Java第二阶段_day03_MySQL进阶</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF/Java%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5-day01-MySQL%E5%85%A5%E9%97%A8/" title="Java第二阶段_day01_MySQL入门"><img class="cover" src="http://pic.netbian.com/uploads/allimg/221008/163146-16652179062b98.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-16</div><div class="title">Java第二阶段_day01_MySQL入门</div></div></a></div><div><a href="/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF/%E5%88%9D%E8%AF%86MySQL%E7%B4%A2%E5%BC%95/" title="初识MySQL索引"><img class="cover" src="http://pic.netbian.com/uploads/allimg/221014/001736-166567785639c6.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-16</div><div class="title">初识MySQL索引</div></div></a></div><div><a href="/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF/%E4%B8%80%E6%96%87%E4%BA%86%E8%A7%A3%E8%A7%86%E5%9B%BE%E3%80%81%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E3%80%81%E8%A7%A6%E5%8F%91%E5%99%A8/" title="一文了解视图、存储过程、触发器"><img class="cover" src="http://pic.netbian.com/uploads/allimg/220823/000930-1661184570f815.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-16</div><div class="title">一文了解视图、存储过程、触发器</div></div></a></div><div><a href="/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF/Java%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5-day03-MySQL%E8%BF%9B%E9%98%B6/" title="Java第二阶段_day03_MySQL进阶"><img class="cover" src="http://pic.netbian.com/uploads/allimg/221006/002329-16649870098307.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-16</div><div class="title">Java第二阶段_day03_MySQL进阶</div></div></a></div><div><a href="/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF/%E4%B8%80%E6%96%87%E4%BA%86%E8%A7%A3MySQL%E4%BA%8B%E5%8A%A1/" title="一文了解MySQL事务"><img class="cover" src="http://pic.netbian.com/uploads/allimg/210920/165135-1632127895c615.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-16</div><div class="title">一文了解MySQL事务</div></div></a></div><div><a href="/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF/%E6%82%89%E7%9F%A5JDBC/" title="悉知JDBC"><img class="cover" src="http://pic.netbian.com/uploads/allimg/221008/193148-1665228708dfef.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-16</div><div class="title">悉知JDBC</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://yzf.qq.com/fsna/kf-file/kf_pic/20221016/KFPIC_38088722014365ca6_WXIMAGE_d75c047ed85544ddaded8bf8eafb054c.jpg?" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Gao</div><div class="author-info__description">生活明朗 万物可爱</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">142</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">37</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">25</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/gaoziman" target="_blank" title="Github"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-gitHub"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=2942894660@qq.com" target="_blank" title="Email"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-youxiang"></use></svg></a><a class="social-icon faa-parent animated-hover" href="/atom.xml" target="_blank" title="RSS"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-rss"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/692044806?spm_id_from=333.1007.0.0" target="_blank" title="BiliBili"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-bilibili"></use></svg></a><a class="social-icon faa-parent animated-hover" href="tencent://Message/?Uin=2942894660&amp;amp;websiteName=local.edu.com:8888=&amp;amp;Menu=yes" target="_blank" title="QQ"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-QQ1"></use></svg></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Java%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5-day02-MySQL%E8%BF%9B%E9%98%B6"><span class="toc-number">1.</span> <span class="toc-text">Java第二阶段_day02_MySQL进阶</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E7%9B%AE%E6%A0%87"><span class="toc-number">2.</span> <span class="toc-text">学习目标</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E8%AF%AD%E8%A8%80%EF%BC%88DDL%EF%BC%89%F0%9F%A7%AC"><span class="toc-number">3.</span> <span class="toc-text">1. 数据定义语言（DDL）🧬</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">3.1.</span> <span class="toc-text">操作数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">3.1.1.</span> <span class="toc-text">创建数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">3.1.2.</span> <span class="toc-text">查看数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E5%BA%93-%E4%BA%86%E8%A7%A3"><span class="toc-number">3.1.3.</span> <span class="toc-text">修改数据库(了解)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">3.1.4.</span> <span class="toc-text">删除数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">3.1.5.</span> <span class="toc-text">使用数据库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E8%A1%A8"><span class="toc-number">3.2.</span> <span class="toc-text">操作表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A1%A8"><span class="toc-number">3.2.1.</span> <span class="toc-text">创建表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL%E7%9A%84%E6%95%B0%E5%80%BC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.2.2.</span> <span class="toc-text">MySQL的数值数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B4%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.2.2.1.</span> <span class="toc-text">整数类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.2.2.2.</span> <span class="toc-text">浮点数类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E7%82%B9%E5%B0%8F%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.2.2.3.</span> <span class="toc-text">定点小数类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MySQL-%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B%E6%BA%A2%E5%87%BA%E5%A4%84%E7%90%86-%E4%BA%86%E8%A7%A3"><span class="toc-number">3.2.2.4.</span> <span class="toc-text">MySQL 数值类型溢出处理(了解)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MySQL%E7%9A%84%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.2.2.5.</span> <span class="toc-text">MySQL的日期时间数据类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MySQL%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.2.2.6.</span> <span class="toc-text">MySQL的字符串类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MySQL%E7%9A%84%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-number">3.2.2.7.</span> <span class="toc-text">MySQL的枚举类型（了解）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MySQL%E7%9A%84SET%E7%B1%BB%E5%9E%8B%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-number">3.2.2.8.</span> <span class="toc-text">MySQL的SET类型（了解）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E8%A1%A8"><span class="toc-number">3.2.3.</span> <span class="toc-text">查看表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%A1%A8%E7%BB%93%E6%9E%84%E7%9B%B8%E5%90%8C%E7%9A%84%E8%A1%A8"><span class="toc-number">3.2.4.</span> <span class="toc-text">快速创建一个表结构相同的表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="toc-number">3.2.5.</span> <span class="toc-text">删除表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="toc-number">3.2.6.</span> <span class="toc-text">修改表结构</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E5%8D%95%E8%A1%A8%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%EF%BC%88Select%EF%BC%89%F0%9F%99%88"><span class="toc-number">4.</span> <span class="toc-text">2. 单表查询语句（Select）🙈</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E6%9F%A5%E8%AF%A2"><span class="toc-number">4.1.</span> <span class="toc-text">简单查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E8%A1%A8%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE"><span class="toc-number">4.1.1.</span> <span class="toc-text">查询表所有数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%8C%87%E5%AE%9A%E5%88%97"><span class="toc-number">4.1.2.</span> <span class="toc-text">查询指定列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%AB%E5%90%8D%E6%9F%A5%E8%AF%A2"><span class="toc-number">4.1.3.</span> <span class="toc-text">别名查询</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.2.</span> <span class="toc-text">SQL的运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.2.1.</span> <span class="toc-text">算术运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.2.2.</span> <span class="toc-text">比较运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.2.3.</span> <span class="toc-text">逻辑运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">4.2.4.</span> <span class="toc-text">运算符的优先级</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#where%E5%AD%90%E5%8F%A5"><span class="toc-number">4.3.</span> <span class="toc-text">where子句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#distinct%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E7%94%A8%E6%B3%95"><span class="toc-number">4.3.1.</span> <span class="toc-text">distinct关键字的用法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GROUP-BY-%E8%AF%AD%E5%8F%A5"><span class="toc-number">4.3.1.1.</span> <span class="toc-text">GROUP BY 语句</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="toc-number">4.3.2.</span> <span class="toc-text">聚合函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AVG%E5%87%BD%E6%95%B0"><span class="toc-number">4.3.2.1.</span> <span class="toc-text">AVG函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MAX-%E5%87%BD%E6%95%B0"><span class="toc-number">4.3.2.2.</span> <span class="toc-text">MAX()函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MIN-%E5%87%BD%E6%95%B0"><span class="toc-number">4.3.2.3.</span> <span class="toc-text">MIN()函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#COUNT-%E5%87%BD%E6%95%B0"><span class="toc-number">4.3.2.4.</span> <span class="toc-text">COUNT()函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SUM-%E5%87%BD%E6%95%B0"><span class="toc-number">4.3.2.5.</span> <span class="toc-text">SUM()函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Order-by-%E5%AD%90%E5%8F%A5"><span class="toc-number">4.3.3.</span> <span class="toc-text">Order by 子句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8-union-union-all%E6%9D%A5%E8%BF%9E%E6%8E%A5%E7%BB%93%E6%9E%9C%E9%9B%86"><span class="toc-number">4.3.4.</span> <span class="toc-text">用 union&#x2F;union all来连接结果集</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2%F0%9F%A7%81"><span class="toc-number">5.</span> <span class="toc-text">3.模糊查询🧁</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%91%E5%9B%BE"><span class="toc-number">5.1.</span> <span class="toc-text">脑图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E4%B8%AA%E4%BB%BB%E6%84%8F%E5%AD%97%E7%AC%A6"><span class="toc-number">5.2.</span> <span class="toc-text">% 多个任意字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E4%B8%AA%E4%BB%BB%E6%84%8F%E5%AD%97%E7%AC%A6"><span class="toc-number">5.3.</span> <span class="toc-text">_ 单个任意字符</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2%F0%9F%8D%92"><span class="toc-number">6.</span> <span class="toc-text">4. 排序查询🍒</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%91%E5%9B%BE-1"><span class="toc-number">6.1.</span> <span class="toc-text">脑图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ASC-%E5%8D%87%E5%BA%8F"><span class="toc-number">6.2.</span> <span class="toc-text">ASC 升序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DESC-%E9%99%8D%E5%BA%8F"><span class="toc-number">6.3.</span> <span class="toc-text">DESC 降序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#limit-%E9%80%89%E5%AD%A6"><span class="toc-number">6.4.</span> <span class="toc-text">limit 选学</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%8D%E7%BD%AE%E9%97%AE%E9%A2%98"><span class="toc-number">6.5.</span> <span class="toc-text">位置问题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%F0%9F%A5%87"><span class="toc-number">7.</span> <span class="toc-text">5. 聚合函数🥇</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%91%E5%9B%BE-2"><span class="toc-number">7.1.</span> <span class="toc-text">脑图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AVG"><span class="toc-number">7.2.</span> <span class="toc-text">AVG()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#COUNT"><span class="toc-number">7.3.</span> <span class="toc-text">COUNT()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MAX"><span class="toc-number">7.4.</span> <span class="toc-text">MAX()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MIN"><span class="toc-number">7.5.</span> <span class="toc-text">MIN()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SUM"><span class="toc-number">7.6.</span> <span class="toc-text">SUM()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2%F0%9F%94%8E"><span class="toc-number">8.</span> <span class="toc-text">6. 分组查询🔎</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%91%E5%9B%BE-3"><span class="toc-number">8.1.</span> <span class="toc-text">脑图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E7%BB%84"><span class="toc-number">8.2.</span> <span class="toc-text">分组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4"><span class="toc-number">8.3.</span> <span class="toc-text">过滤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#having%E5%92%8Cwhere%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">8.4.</span> <span class="toc-text">having和where的区别</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-select%E5%AD%90%E5%8F%A5%E6%9F%A5%E8%AF%A2%E9%A1%BA%E5%BA%8F%F0%9F%96%A5%EF%B8%8F"><span class="toc-number">9.</span> <span class="toc-text">7. select子句查询顺序🖥️</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C%E8%AF%AD%E8%A8%80-DML%F0%9F%A5%A4"><span class="toc-number">10.</span> <span class="toc-text">8.数据操作语言-DML🥤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E8%AE%B0%E5%BD%95"><span class="toc-number">10.0.1.</span> <span class="toc-text">插入记录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E5%85%A8%E9%83%A8%E5%AD%97%E6%AE%B5"><span class="toc-number">10.0.1.1.</span> <span class="toc-text">插入全部字段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E9%83%A8%E5%88%86%E6%95%B0%E6%8D%AE"><span class="toc-number">10.0.1.2.</span> <span class="toc-text">插入部分数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B%E5%AD%97%E6%AE%B5"><span class="toc-number">10.0.1.3.</span> <span class="toc-text">操作日期时间类型字段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DOS%E5%91%BD%E4%BB%A4%E7%AA%97%E5%8F%A3%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3"><span class="toc-number">10.0.1.4.</span> <span class="toc-text">DOS命令窗口操作数据乱码问题的解决</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A0%95%E8%99%AB%E5%A4%8D%E5%88%B6"><span class="toc-number">10.0.1.5.</span> <span class="toc-text">蠕虫复制</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E8%A1%A8%E8%AE%B0%E5%BD%95"><span class="toc-number">10.0.2.</span> <span class="toc-text">更新表记录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A1%A8%E8%AE%B0%E5%BD%95"><span class="toc-number">10.0.3.</span> <span class="toc-text">删除表记录</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9-SQL%E7%BA%A6%E6%9D%9F%E2%9D%A4%EF%B8%8F"><span class="toc-number">11.</span> <span class="toc-text">9. SQL约束❤️</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F"><span class="toc-number">11.0.1.</span> <span class="toc-text">非空约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%94%AF%E4%B8%80%E6%80%A7%E7%BA%A6%E6%9D%9F"><span class="toc-number">11.0.2.</span> <span class="toc-text">唯一性约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%80%BC%E7%BA%A6%E6%9D%9F"><span class="toc-number">11.0.3.</span> <span class="toc-text">默认值约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F"><span class="toc-number">11.0.4.</span> <span class="toc-text">主键约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F"><span class="toc-number">11.0.5.</span> <span class="toc-text">检查约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%A2%9E%E9%95%BF"><span class="toc-number">11.0.6.</span> <span class="toc-text">自动增长</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#10-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2%F0%9F%98%8B"><span class="toc-number">12.</span> <span class="toc-text">10. 多表查询😋</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%84%91%E5%9B%BE-4"><span class="toc-number">12.0.1.</span> <span class="toc-text">脑图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5%E4%B8%8E%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="toc-number">12.0.2.</span> <span class="toc-text">等值连接与非等值连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A4%E5%8F%89%E8%BF%9E%E6%8E%A5-%E2%80%94-%E7%AC%9B%E5%8D%A1%E5%B0%94%E4%B9%98%E7%A7%AF-cross-join"><span class="toc-number">12.0.3.</span> <span class="toc-text">交叉连接 — 笛卡尔乘积  cross join</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E8%BF%9E%E6%8E%A5-inner-join"><span class="toc-number">12.0.4.</span> <span class="toc-text">内连接 inner join</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="toc-number">12.0.5.</span> <span class="toc-text">隐式内连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5-left-out-join"><span class="toc-number">12.0.6.</span> <span class="toc-text">左外连接 left out join</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%B3%E5%A4%96%E8%BF%9E%E6%8E%A5-right-outer-join"><span class="toc-number">12.0.7.</span> <span class="toc-text">右外连接 right outer join</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%A4%96%E8%BF%9E%E6%8E%A5-full-outer-join"><span class="toc-number">12.0.8.</span> <span class="toc-text">全外连接 full outer join</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E7%84%B6%E8%BF%9E%E6%8E%A5-natural-join"><span class="toc-number">12.0.9.</span> <span class="toc-text">自然连接 natural join</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E8%BF%9E%E6%8E%A5"><span class="toc-number">12.0.10.</span> <span class="toc-text">自连接</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/Web%E7%BD%91%E9%A1%B5%E6%8A%80%E6%9C%AF/Web%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E4%BB%A5%E5%8F%8AServlet%E5%85%A5%E9%97%A8/" title="Web环境搭建以及Servlet入门"><img src="http://pic.netbian.com/uploads/allimg/210827/235918-1630079958392e.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Web环境搭建以及Servlet入门"/></a><div class="content"><a class="title" href="/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/Web%E7%BD%91%E9%A1%B5%E6%8A%80%E6%9C%AF/Web%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E4%BB%A5%E5%8F%8AServlet%E5%85%A5%E9%97%A8/" title="Web环境搭建以及Servlet入门">Web环境搭建以及Servlet入门</a><time datetime="2022-10-16T15:01:07.000Z" title="发表于 2022-10-16 23:01:07">2022-10-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/Web%E7%BD%91%E9%A1%B5%E6%8A%80%E6%9C%AF/%E4%B8%80%E6%96%87%E5%AD%A6%E6%87%82JSP/" title="一文学懂JSP"><img src="http://pic.netbian.com/uploads/allimg/221002/214642-1664718402e8b8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="一文学懂JSP"/></a><div class="content"><a class="title" href="/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/Web%E7%BD%91%E9%A1%B5%E6%8A%80%E6%9C%AF/%E4%B8%80%E6%96%87%E5%AD%A6%E6%87%82JSP/" title="一文学懂JSP">一文学懂JSP</a><time datetime="2022-10-16T15:00:49.000Z" title="发表于 2022-10-16 23:00:49">2022-10-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/Web%E7%BD%91%E9%A1%B5%E6%8A%80%E6%9C%AF/%E4%B8%80%E6%96%87%E5%AD%A6%E6%87%82Cookie%E4%B8%8ESession%E7%9A%84%E5%8C%BA%E5%88%AB/" title="一文学懂Cookie与Session的区别"><img src="http://pic.netbian.com/uploads/allimg/210831/102129-16303764895142.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="一文学懂Cookie与Session的区别"/></a><div class="content"><a class="title" href="/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/Web%E7%BD%91%E9%A1%B5%E6%8A%80%E6%9C%AF/%E4%B8%80%E6%96%87%E5%AD%A6%E6%87%82Cookie%E4%B8%8ESession%E7%9A%84%E5%8C%BA%E5%88%AB/" title="一文学懂Cookie与Session的区别">一文学懂Cookie与Session的区别</a><time datetime="2022-10-16T15:00:28.000Z" title="发表于 2022-10-16 23:00:28">2022-10-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/Web%E7%BD%91%E9%A1%B5%E6%8A%80%E6%9C%AF/%E4%B8%80%E6%96%87%E5%AD%A6%E6%87%82%E8%BF%87%E6%BB%A4%E5%99%A8%E5%92%8C%E7%9B%91%E5%90%AC%E5%99%A8/" title="一文学懂过滤器和监听器"><img src="http://pic.netbian.com/uploads/allimg/220909/000311-16626529918d5d.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="一文学懂过滤器和监听器"/></a><div class="content"><a class="title" href="/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/Web%E7%BD%91%E9%A1%B5%E6%8A%80%E6%9C%AF/%E4%B8%80%E6%96%87%E5%AD%A6%E6%87%82%E8%BF%87%E6%BB%A4%E5%99%A8%E5%92%8C%E7%9B%91%E5%90%AC%E5%99%A8/" title="一文学懂过滤器和监听器">一文学懂过滤器和监听器</a><time datetime="2022-10-16T15:00:12.000Z" title="发表于 2022-10-16 23:00:12">2022-10-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/Web%E7%BD%91%E9%A1%B5%E6%8A%80%E6%9C%AF/%E4%B8%80%E6%96%87%E4%BA%86%E8%A7%A3%E8%BD%AC%E5%8F%91%E4%B8%8E%E9%87%8D%E5%AE%9A%E5%90%91/" title="一文了解转发与重定向"><img src="http://pic.netbian.com/uploads/allimg/210423/224716-16191892361adb.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="一文了解转发与重定向"/></a><div class="content"><a class="title" href="/2022/10/16/%E7%99%BE%E9%87%8C%E5%8D%8AJava%E5%9F%B9%E8%AE%AD/Web%E7%BD%91%E9%A1%B5%E6%8A%80%E6%9C%AF/%E4%B8%80%E6%96%87%E4%BA%86%E8%A7%A3%E8%BD%AC%E5%8F%91%E4%B8%8E%E9%87%8D%E5%AE%9A%E5%90%91/" title="一文了解转发与重定向">一文了解转发与重定向</a><time datetime="2022-10-16T14:59:54.000Z" title="发表于 2022-10-16 22:59:54">2022-10-16</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Gao</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><div class="aplayer no-destroy" data-id="1708664797" data-server="tencent" data-type="playlist"   data-order="list" data-fixed="true" data-preload="auto" data-autoplay="false" data-mutex="true" ></div><script async src="/js/diytitle.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var qweather_key = 'b16a1fa0e63c46a4b8f28abfb06ae3fe';
  var gaud_map_key = 'e2b04289e870b005374ee030148d64fd&s=rsv3';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '112.982279,28.19409';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><script data-pjax>
    function butterfly_categories_card_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<style>li.categoryBar-list-item{width:32.3%;}.categoryBar-list{max-height: 190px;overflow:auto;}.categoryBar-list::-webkit-scrollbar{width:0!important}@media screen and (max-width: 650px){.categoryBar-list{max-height: 160px;}}</style><div class="recent-post-item" style="height:auto;width:100%;padding:0px;"><div id="categoryBar"><ul class="categoryBar-list"><li class="categoryBar-list-item" style="background:url(https://cdn.cbd.int/akilar-candyassets@1.0.36/image/cover1.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/随笔⌚/&quot;);" href="javascript:void(0);">随笔⌚</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">大学学习史</span></li><li class="categoryBar-list-item" style="background:url(https://cdn.cbd.int/akilar-candyassets@1.0.36/image/cover2.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/JVM上篇/&quot;);" href="javascript:void(0);">JVM上篇</a><span class="categoryBar-list-count">12</span><span class="categoryBar-list-descr">前端成长历程</span></li><li class="categoryBar-list-item" style="background:url(https://cdn.cbd.int/akilar-candyassets@1.0.36/image/cover3.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/转载/&quot;);" href="javascript:void(0);">转载</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">生活欢乐多</span></li><li class="categoryBar-list-item" style="background:url(https://cdn.cbd.int/akilar-candyassets@1.0.36/image/cover4.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/JVM下篇/&quot;);" href="javascript:void(0);">JVM下篇</a><span class="categoryBar-list-count">4</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://cdn.cbd.int/akilar-candyassets@1.0.36/image/cover5.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/JavaSE/&quot;);" href="javascript:void(0);">JavaSE</a><span class="categoryBar-list-count">19</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://cdn.cbd.int/akilar-candyassets@1.0.36/image/cover6.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/JVM中篇/&quot;);" href="javascript:void(0);">JVM中篇</a><span class="categoryBar-list-count">4</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/Java自学笔记/&quot;);" href="javascript:void(0);">Java自学笔记</a><span class="categoryBar-list-count">8</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/MySQL-shk/&quot;);" href="javascript:void(0);">MySQL-shk</a><span class="categoryBar-list-count">11</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/C语言/&quot;);" href="javascript:void(0);">C语言</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/重学Java基础/&quot;);" href="javascript:void(0);">重学Java基础</a><span class="categoryBar-list-count">16</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/教程/&quot;);" href="javascript:void(0);">教程</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/学习路线/&quot;);" href="javascript:void(0);">学习路线</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/文档/&quot;);" href="javascript:void(0);">文档</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/Java/&quot;);" href="javascript:void(0);">Java</a><span class="categoryBar-list-count">7</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/Thymeleaf/&quot;);" href="javascript:void(0);">Thymeleaf</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/Java知识点/&quot;);" href="javascript:void(0);">Java知识点</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/MyBatis/&quot;);" href="javascript:void(0);">MyBatis</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/Java-Basic/&quot;);" href="javascript:void(0);">Java-Basic</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/计算机组成原理/&quot;);" href="javascript:void(0);">计算机组成原理</a><span class="categoryBar-list-count">10</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/多线程/&quot;);" href="javascript:void(0);">多线程</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/计算机网络/&quot;);" href="javascript:void(0);">计算机网络</a><span class="categoryBar-list-count">12</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/HTTP/&quot;);" href="javascript:void(0);">HTTP</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/设计模式/&quot;);" href="javascript:void(0);">设计模式</a><span class="categoryBar-list-count">7</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/MySQL/&quot;);" href="javascript:void(0);">MySQL</a><span class="categoryBar-list-count">8</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/Web网页技术/&quot;);" href="javascript:void(0);">Web网页技术</a><span class="categoryBar-list-count">9</span><span class="categoryBar-list-descr"></span></li></ul></div></div>';
      console.log('已挂载butterfly_categories_card')
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      }
    if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    butterfly_categories_card_injector_config()
    }
  </script><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title=""><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题版本Butterfly_v4.2.2" title=""><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://www.jsdelivr.com/" style="margin-inline:5px" data-title="本站使用JsDelivr为静态资源提供CDN加速" title=""><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr" alt=""/></a><a class="github-badge" target="_blank" href="https://beian.miit.gov.cn/#/Integrated/index" style="margin-inline:5px" data-title="本站已在湘进行备案" title=""><img src="https://img.shields.io/badge/湘ICP备-2022004213号-e1d492?style=flat&amp;logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAACNlJREFUSInF1mmMVeUdx/Hv2e+5+519mJWBYQZkGxZZxLKJqBXGoLS1iXWrmihotFXaJiTWWlsbl6q1aetWd5u0VkKjNG4YEJSlOCibDLMwM8x679z9nnPP1jcVJUxf+7z6J8+LT37/Z4VvaQhfFS8+sBXbctCDGrVTKlBUH4mxAbI9Hfj0IJLsp6paJ5/tmn20N/D0wKDRMq9F/c3M2U1/V0vDfWMFh+tv/Ig1zYPMabDImPJ52OaXO87W580KggCiiOsJOJ6I3wcNFaaeNKxrt72f2fLGu4FpJ/sDQABRzD22fH7/Yze069vGc6mrDLNIJCDik10sxz2by3VdPM87xzkP9jwPTZFRVI1YUJKH+oy7n3tbvv/P2wW/UQxRWe6w4ZJRptYLHDoCuz8v5cP92XbI762O+h6UVWHnUFbPpU0fEb2A60mMJ7MUi9b/b7UgKhiZMaIxm8YLplLMDPz8hl/EH+rs8TNlUpFf32uyZJGLPDwCiTGUyTWodTN49eUCdz2YwXb9NNcObp1X98WDoufynzMVCEKGn27ayPTWBi5ad8P5iQUkJEnFLjqM9Z+hrVX0vfDe6K2dPRWsW2bwyp9EUifSJB84gdxrkR0eRgv1o/3I4fbbprJ6scqamzVO9pffec1S5ZWY2Nfz5qEy/FqOC2Y3s3j53HMSi18VRjFPwSwg+1RfVbl115vvJrsfej7UGIsYPPGgQ7JXoO+Xx5B3dHEomyJ9x1qiQozkr95h5937aFnVyouPlgJK+Ss7Fxz64OTSxSX+LHYxT2IsRW5kbGI4oHcR0jqoqTjV9se3I7/f8rS/ClS23GxSXhph6L5d9Akm7qqZhHWBQGUJ+CWGFzcg7e7m6D3/ZuW1Ea5YKdA3EojuONi813TqNi+YPYOKUhXDtCeGL26/hakLLiEcdsaHRkRAoLRc4fJrmhnekyF0apgZowWSwwkaa+rw3f8WA1GZZsPP5JEChX8dhZTN6iU6kAcs5s+dHd183SJ0VVKL57pfw6YdRQw23aeWTns47DPTALWlRTR7kMLew6hGgYqUhWXYFFUdPZ6lUBahLA8hVcOftckfi7No7VRAAQqsX1dybfvG1qwriM9mM5mJ4e4jO5Cc01dPqixbr8tWGBQUL4vjGigEEShi+xUmZ2RiR/sJ1pbS8NkgZrKAGw0TsgQsQyFaF/nfYTGprAlMFysbA1pI3mhkR6snhGsaymYGvPyFEb9IdbUE2AzFFTwpRqCtBY0wmdER+hZW4j63gcJj38V+/ErSUZXsYBfjIZHIRW0c2Z8BskCAqN+CbBJBFnyyKjR+Ez57nBxLqpfMUeSISElMBFz6x2Q6OxzWrYjyxWVzEewioU3LCS5vQY6nMUrLwNaxXvoQ59IloFSx54PPAZtQLExVZZDxsVE8J4dn6v4JYatgbSjk0owPw7RGH2ADMo88Z7L20ip8f7gC7fAo0q4+0rt7kEQDvaghVZbiPHUHcyeXcfLjT3jmpR7AYsnSScya3UR8bARVMck7Y/cB75/X6rDf3Fg2dw2jKZm5dXGm1LuAzO5DCo9v6aT0ibco5kzOvLOP+NGTFJtDpPYeZKijk/Rn3QxsfZV7txwhX7ABiZUXBsGvIvguQApNQQva9RMmTvZ2dpVUls+tX/UD7GN/Y8Ws05w6rQF+9vyzg1vZjbvMRJhXiRSU8DpTFFe0QE8S6SfPkOkZoktrB2oAhZWrwljxOPmchiSMYOWNoxNuruFU5vWeXdsojiUon345113dBBQBmTYlTimgdB8nfPo4WjaNFgN9OMEkJ02dnadVt5ki54Esqy+bzKJltVhSPbI3iN2zCyMTeXNCuG7Omm2Zok7PR2+R7jvD8ouruHhmCrB5jVZeYxLdrTP4sr4Vtd9g4MA4qc4c+6cu5NPamfw4P59t2WrA4YdXKkASf7SFivo6PDdEPmf1fRM++zp1bH/0r4I1dD1ODtOWaW4IsvPjL7nqXhloQiSPwjjgMYkMASyGEBkjhISCQwkwzve/18AbT+pk8pVY4UacQi9y+gyZ0eRAw4qHa89LXEx1LXMSPfhDJYRb59BtlLKg2WPT2l6qYl1svtGkrLYckyA1S+t5+2ATm37WCui0LSynsckDNH5zTxAchbQtkx08hDHYiW6NgC0enHBzEZ102UDH8QORdEckjEzZrNWkRydzyx17uGnDXqbUnGZ6dRPjSY91q2TqwjFuvTxLo5Zn5Qo/pumRSFcTLQtybEhGE0fQrDhhJ0VvH2lTnnHPhGtsmWan469apERjI2MH3qN7+7MEfH6ql29CbV7PvsMG32k6yU2XDhEKyZw66eJaRdrXR7CzCcqUNC3zwgymPJRCH4KRRLINimpL14A5Y4GDeOqbsPRVcfuN7Xj44pav/hFfrNT2kr2rsqf2Ibp5pEA14ZIImUyW3t5REkkTXRGQ/DGGhtLginhqCWknQDE5hKf5UFSF9Lj020Q2ul5V1AR2hr+8vuP8Vlc2zMPRxoSjnx7XBC14sDoydahSGq7KdO/HFyrBchxCVfX4fDKp4T7SCQejYODZLrYgIqgKFsNIgQqEYob8mW6yiUyb7Z64LVK/+B85xznnJ3AWzqTzuIX46mr5wLs+UUTyIriBCjRNxguHMJIFDLEEvXEOVRWnSJ0+jCd4CJoGjoedM1CLcXQziW3nMV2TSMBeOx7vWZvPt1r+cMPzE8KunaUkFn0vNrvtqXj34c1W6gzxlEQ6naIoBahtnkMwoFMwIVzSRNguMt53Aj2s4nkSlgPoGqLkICsRNF0gl8rYWuP8+11/w/OOJDEhHPKLCIpOXmi+M9AgP+maiesLifF2T1Rn5ZNj5Lo/Qc/GcPMmhdoqlEgIGzCK4PiCmJKK68p4KfF3qYGuF0qCRUkJTzleUbvQyWRTuE5xYthxQbBs7EISAbkzUFG3VfXXbK2YFi3X/eryfKKnqVBItNjJxDzH8erddC4SqWwcN5WyTtlyO1RP/Lh3eHD76MB40swmiDVJyDLYRhpc5+ub6tse/wWKbvSQEAw1awAAAABJRU5ErkJggg==" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title=""><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="https://npm.elemecdn.com/anzhiyu-blog@2.0.4/js/runtime/runtime.min.js"></script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item swiper_container_card" style="height: auto;width: 100%"><div id="random"><div id="random-banner"><canvas id="peoplecanvas"></canvas></div><a id="random-hover" style="width:100%;height:auto;" href="javascript:toRandomPost()" rel="external nofollow noreferrer" one-link-mark="yes"><i class="fa fa-paper-plane" style="margin-left:10px"></i><div style="margin-left:10px">随便逛逛<i class="fa-solid fa-arrow-right" style="margin-left:10px"></i></div></a></div><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/05/16/教程/2021最新版java学习路线/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://tx2.a.yximgs.com/udata/music/music_f307a39407e74b1ab48f8409b8b0c3210.jpg" alt="" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-05-16</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/05/16/教程/2021最新版java学习路线/&quot;);" href="javascript:void(0);" alt="">2021最新版java学习路线</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/05/16/教程/2021最新版java学习路线/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2022/05/03/随机图api/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://tx2.a.yximgs.com/udata/music/music_f307a39407e74b1ab48f8409b8b0c3210.jpg" alt="" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-05-03</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2022/05/03/随机图api/&quot;);" href="javascript:void(0);" alt="">随机图api</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2022/05/03/随机图api/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/js/swiper.min.js"></script><script defer data-pjax src="https://cdn.cbd.int/hexo-butterfly-swiper-anzhiyu@1.0.4/lib/swiper_init.js"></script><script data-pjax src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/gsap/3.9.1/gsap.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper-anzhiyu@1.0.4/lib/people.min.js"></script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '1.5s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('flink-list-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__flipInY');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('flink-list-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__animated');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('article-sort-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__slideInRight');
    arr[i].setAttribute('data-wow-duration', '1.5s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('site-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__flipInY');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script><script async="async">var arr = document.getElementsByClassName('site-card');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__animated');
    arr[i].setAttribute('data-wow-duration', '3s');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer src="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://cdn.cbd.int/hexo-butterfly-wowjs/lib/wow_init.js"></script><script async src="/js/ali_font.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/"});</script></body></html>